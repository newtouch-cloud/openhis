// https://d3js.org v6.7.0 Copyright 2021 Mike Bostock 
//"object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (A = "undefined" != typeof globalThis ? globalThis : A || self).html2canvas = e()
!function (t, n) { "object" == typeof exports && "undefined" != typeof module ? n(exports) : "function" == typeof define && define.amd ? define(["exports"], n) : n((t = "undefined" != typeof globalThis ? globalThis : t || self).d3 = t.d3 || {})}(this, (function (t) { "use strict"; function n(t, n) { return t < n ? -1 : t > n ? 1 : t >= n ? 0 : NaN } function e(t) { let e = t, r = t; function i(t, n, e, i) { for (null == e && (e = 0), null == i && (i = t.length); e < i;) { const o = e + i >>> 1; r(t[o], n) < 0 ? e = o + 1 : i = o } return e } return 1 === t.length && (e = (n, e) => t(n) - e, r = function (t) { return (e, r) => n(t(e), r) }(t)), { left: i, center: function (t, n, r, o) { null == r && (r = 0), null == o && (o = t.length); const a = i(t, n, r, o - 1); return a > r && e(t[a - 1], n) > -e(t[a], n) ? a - 1 : a }, right: function (t, n, e, i) { for (null == e && (e = 0), null == i && (i = t.length); e < i;) { const o = e + i >>> 1; r(t[o], n) > 0 ? i = o : e = o + 1 } return e } } } function r(t) { return null === t ? NaN : +t } const i = e(n), o = i.right, a = i.left, u = e(r).center; function c(t, n) { let e = 0; if (void 0 === n) for (let n of t) null != n && (n = +n) >= n && ++e; else { let r = -1; for (let i of t) null != (i = n(i, ++r, t)) && (i = +i) >= i && ++e } return e } function f(t) { return 0 | t.length } function s(t) { return !(t > 0) } function l(t) { return "object" != typeof t || "length" in t ? t : Array.from(t) } function h(t, n) { let e, r = 0, i = 0, o = 0; if (void 0 === n) for (let n of t) null != n && (n = +n) >= n && (e = n - i, i += e / ++r, o += e * (n - i)); else { let a = -1; for (let u of t) null != (u = n(u, ++a, t)) && (u = +u) >= u && (e = u - i, i += e / ++r, o += e * (u - i)) } if (r > 1) return o / (r - 1) } function d(t, n) { const e = h(t, n); return e ? Math.sqrt(e) : e } function p(t, n) { let e, r; if (void 0 === n) for (const n of t) null != n && (void 0 === e ? n >= n && (e = r = n) : (e > n && (e = n), r < n && (r = n))); else { let i = -1; for (let o of t) null != (o = n(o, ++i, t)) && (void 0 === e ? o >= o && (e = r = o) : (e > o && (e = o), r < o && (r = o))) } return [e, r] } class g { constructor() { this._partials = new Float64Array(32), this._n = 0 } add(t) { const n = this._partials; let e = 0; for (let r = 0; r < this._n && r < 32; r++) { const i = n[r], o = t + i, a = Math.abs(t) < Math.abs(i) ? t - (o - i) : i - (o - t); a && (n[e++] = a), t = o } return n[e] = t, this._n = e + 1, this } valueOf() { const t = this._partials; let n, e, r, i = this._n, o = 0; if (i > 0) { for (o = t[--i]; i > 0 && (n = o, e = t[--i], o = n + e, r = e - (o - n), !r);); i > 0 && (r < 0 && t[i - 1] < 0 || r > 0 && t[i - 1] > 0) && (e = 2 * r, n = o + e, e == n - o && (o = n)) } return o } } class y extends Map { constructor(t, n = x) { if (super(), Object.defineProperties(this, { _intern: { value: new Map }, _key: { value: n } }), null != t) for (const [n, e] of t) this.set(n, e) } get(t) { return super.get(_(this, t)) } has(t) { return super.has(_(this, t)) } set(t, n) { return super.set(b(this, t), n) } delete(t) { return super.delete(m(this, t)) } } class v extends Set { constructor(t, n = x) { if (super(), Object.defineProperties(this, { _intern: { value: new Map }, _key: { value: n } }), null != t) for (const n of t) this.add(n) } has(t) { return super.has(_(this, t)) } add(t) { return super.add(b(this, t)) } delete(t) { return super.delete(m(this, t)) } } function _({ _intern: t, _key: n }, e) { const r = n(e); return t.has(r) ? t.get(r) : e } function b({ _intern: t, _key: n }, e) { const r = n(e); return t.has(r) ? t.get(r) : (t.set(r, e), e) } function m({ _intern: t, _key: n }, e) { const r = n(e); return t.has(r) && (e = t.get(e), t.delete(r)), e } function x(t) { return null !== t && "object" == typeof t ? t.valueOf() : t } function w(t) { return t } function M(t, ...n) { return S(t, w, w, n) } function A(t, n, ...e) { return S(t, w, n, e) } function T(t) { if (1 !== t.length) throw new Error("duplicate key"); return t[0] } function S(t, n, e, r) { return function t(i, o) { if (o >= r.length) return e(i); const a = new y, u = r[o++]; let c = -1; for (const t of i) { const n = u(t, ++c, i), e = a.get(n); e ? e.push(t) : a.set(n, [t]) } for (const [n, e] of a) a.set(n, t(e, o)); return n(a) }(t, 0) } function E(t, n) { return Array.from(n, (n => t[n])) } function k(t, ...e) { if ("function" != typeof t[Symbol.iterator]) throw new TypeError("values is not iterable"); t = Array.from(t); let [r = n] = e; if (1 === r.length || e.length > 1) { const i = Uint32Array.from(t, ((t, n) => n)); return e.length > 1 ? (e = e.map((n => t.map(n))), i.sort(((t, r) => { for (const i of e) { const e = n(i[t], i[r]); if (e) return e } }))) : (r = t.map(r), i.sort(((t, e) => n(r[t], r[e])))), E(t, i) } return t.sort(r) } var N = Array.prototype.slice; function C(t) { return function () { return t } } var P = Math.sqrt(50), z = Math.sqrt(10), D = Math.sqrt(2); function q(t, n, e) { var r, i, o, a, u = -1; if (e = +e, (t = +t) === (n = +n) && e > 0) return [t]; if ((r = n < t) && (i = t, t = n, n = i), 0 === (a = R(t, n, e)) || !isFinite(a)) return []; if (a > 0) { let e = Math.round(t / a), r = Math.round(n / a); for (e * a < t && ++e, r * a > n && --r, o = new Array(i = r - e + 1); ++u < i;)o[u] = (e + u) * a } else { a = -a; let e = Math.round(t * a), r = Math.round(n * a); for (e / a < t && ++e, r / a > n && --r, o = new Array(i = r - e + 1); ++u < i;)o[u] = (e + u) / a } return r && o.reverse(), o } function R(t, n, e) { var r = (n - t) / Math.max(0, e), i = Math.floor(Math.log(r) / Math.LN10), o = r / Math.pow(10, i); return i >= 0 ? (o >= P ? 10 : o >= z ? 5 : o >= D ? 2 : 1) * Math.pow(10, i) : -Math.pow(10, -i) / (o >= P ? 10 : o >= z ? 5 : o >= D ? 2 : 1) } function F(t, n, e) { var r = Math.abs(n - t) / Math.max(0, e), i = Math.pow(10, Math.floor(Math.log(r) / Math.LN10)), o = r / i; return o >= P ? i *= 10 : o >= z ? i *= 5 : o >= D && (i *= 2), n < t ? -i : i } function O(t, n, e) { let r; for (; ;) { const i = R(t, n, e); if (i === r || 0 === i || !isFinite(i)) return [t, n]; i > 0 ? (t = Math.floor(t / i) * i, n = Math.ceil(n / i) * i) : i < 0 && (t = Math.ceil(t * i) / i, n = Math.floor(n * i) / i), r = i } } function I(t) { return Math.ceil(Math.log(c(t)) / Math.LN2) + 1 } function U() { var t = w, n = p, e = I; function r(r) { Array.isArray(r) || (r = Array.from(r)); var i, a, u = r.length, c = new Array(u); for (i = 0; i < u; ++i)c[i] = t(r[i], i, r); var f = n(c), s = f[0], l = f[1], h = e(c, s, l); if (!Array.isArray(h)) { const t = l, e = +h; if (n === p && ([s, l] = O(s, l, e)), (h = q(s, l, e))[h.length - 1] >= l) if (t >= l && n === p) { const t = R(s, l, e); isFinite(t) && (t > 0 ? l = (Math.floor(l / t) + 1) * t : t < 0 && (l = (Math.ceil(l * -t) + 1) / -t)) } else h.pop() } for (var d = h.length; h[0] <= s;)h.shift(), --d; for (; h[d - 1] > l;)h.pop(), --d; var g, y = new Array(d + 1); for (i = 0; i <= d; ++i)(g = y[i] = []).x0 = i > 0 ? h[i - 1] : s, g.x1 = i < d ? h[i] : l; for (i = 0; i < u; ++i)s <= (a = c[i]) && a <= l && y[o(h, a, 0, d)].push(r[i]); return y } return r.value = function (n) { return arguments.length ? (t = "function" == typeof n ? n : C(n), r) : t }, r.domain = function (t) { return arguments.length ? (n = "function" == typeof t ? t : C([t[0], t[1]]), r) : n }, r.thresholds = function (t) { return arguments.length ? (e = "function" == typeof t ? t : Array.isArray(t) ? C(N.call(t)) : C(t), r) : e }, r } function B(t, n) { let e; if (void 0 === n) for (const n of t) null != n && (e < n || void 0 === e && n >= n) && (e = n); else { let r = -1; for (let i of t) null != (i = n(i, ++r, t)) && (e < i || void 0 === e && i >= i) && (e = i) } return e } function Y(t, n) { let e; if (void 0 === n) for (const n of t) null != n && (e > n || void 0 === e && n >= n) && (e = n); else { let r = -1; for (let i of t) null != (i = n(i, ++r, t)) && (e > i || void 0 === e && i >= i) && (e = i) } return e } function L(t, e, r = 0, i = t.length - 1, o = n) { for (; i > r;) { if (i - r > 600) { const n = i - r + 1, a = e - r + 1, u = Math.log(n), c = .5 * Math.exp(2 * u / 3), f = .5 * Math.sqrt(u * c * (n - c) / n) * (a - n / 2 < 0 ? -1 : 1); L(t, e, Math.max(r, Math.floor(e - a * c / n + f)), Math.min(i, Math.floor(e + (n - a) * c / n + f)), o) } const n = t[e]; let a = r, u = i; for (j(t, r, e), o(t[i], n) > 0 && j(t, r, i); a < u;) { for (j(t, a, u), ++a, --u; o(t[a], n) < 0;)++a; for (; o(t[u], n) > 0;)--u } 0 === o(t[r], n) ? j(t, r, u) : (++u, j(t, u, i)), u <= e && (r = u + 1), e <= u && (i = u - 1) } return t } function j(t, n, e) { const r = t[n]; t[n] = t[e], t[e] = r } function H(t, n, e) { if (r = (t = Float64Array.from(function* (t, n) { if (void 0 === n) for (let n of t) null != n && (n = +n) >= n && (yield n); else { let e = -1; for (let r of t) null != (r = n(r, ++e, t)) && (r = +r) >= r && (yield r) } }(t, e))).length) { if ((n = +n) <= 0 || r < 2) return Y(t); if (n >= 1) return B(t); var r, i = (r - 1) * n, o = Math.floor(i), a = B(L(t, o).subarray(0, o + 1)); return a + (Y(t.subarray(o + 1)) - a) * (i - o) } } function X(t, n, e = r) { if (i = t.length) { if ((n = +n) <= 0 || i < 2) return +e(t[0], 0, t); if (n >= 1) return +e(t[i - 1], i - 1, t); var i, o = (i - 1) * n, a = Math.floor(o), u = +e(t[a], a, t); return u + (+e(t[a + 1], a + 1, t) - u) * (o - a) } } function G(t, n) { let e, r = -1, i = -1; if (void 0 === n) for (const n of t) ++i, null != n && (e < n || void 0 === e && n >= n) && (e = n, r = i); else for (let o of t) null != (o = n(o, ++i, t)) && (e < o || void 0 === e && o >= o) && (e = o, r = i); return r } function V(t) { return Array.from(function* (t) { for (const n of t) yield* n }(t)) } function $(t, n) { let e, r = -1, i = -1; if (void 0 === n) for (const n of t) ++i, null != n && (e > n || void 0 === e && n >= n) && (e = n, r = i); else for (let o of t) null != (o = n(o, ++i, t)) && (e > o || void 0 === e && o >= o) && (e = o, r = i); return r } function W(t, n) { return [t, n] } function Z(t, n, e) { t = +t, n = +n, e = (i = arguments.length) < 2 ? (n = t, t = 0, 1) : i < 3 ? 1 : +e; for (var r = -1, i = 0 | Math.max(0, Math.ceil((n - t) / e)), o = new Array(i); ++r < i;)o[r] = t + r * e; return o } function K(t, e = n) { if (1 === e.length) return $(t, e); let r, i = -1, o = -1; for (const n of t) ++o, (i < 0 ? 0 === e(n, n) : e(n, r) < 0) && (r = n, i = o); return i } var Q = J(Math.random); function J(t) { return function (n, e = 0, r = n.length) { let i = r - (e = +e); for (; i;) { const r = t() * i-- | 0, o = n[i + e]; n[i + e] = n[r + e], n[r + e] = o } return n } } function tt(t) { if (!(i = t.length)) return []; for (var n = -1, e = Y(t, nt), r = new Array(e); ++n < e;)for (var i, o = -1, a = r[n] = new Array(i); ++o < i;)a[o] = t[o][n]; return r } function nt(t) { return t.length } function et(t) { return t instanceof Set ? t : new Set(t) } function rt(t, n) { const e = t[Symbol.iterator](), r = new Set; for (const t of n) { if (r.has(t)) continue; let n, i; for (; ({ value: n, done: i } = e.next());) { if (i) return !1; if (r.add(n), Object.is(t, n)) break } } return !0 } var it = Array.prototype.slice; function ot(t) { return t } var at = 1e-6; function ut(t) { return "translate(" + t + ",0)" } function ct(t) { return "translate(0," + t + ")" } function ft(t) { return n => +t(n) } function st(t, n) { return n = Math.max(0, t.bandwidth() - 2 * n) / 2, t.round() && (n = Math.round(n)), e => +t(e) + n } function lt() { return !this.__axis } function ht(t, n) { var e = [], r = null, i = null, o = 6, a = 6, u = 3, c = "undefined" != typeof window && window.devicePixelRatio > 1 ? 0 : .5, f = 1 === t || 4 === t ? -1 : 1, s = 4 === t || 2 === t ? "x" : "y", l = 1 === t || 3 === t ? ut : ct; function h(h) { var d = null == r ? n.ticks ? n.ticks.apply(n, e) : n.domain() : r, p = null == i ? n.tickFormat ? n.tickFormat.apply(n, e) : ot : i, g = Math.max(o, 0) + u, y = n.range(), v = +y[0] + c, _ = +y[y.length - 1] + c, b = (n.bandwidth ? st : ft)(n.copy(), c), m = h.selection ? h.selection() : h, x = m.selectAll(".domain").data([null]), w = m.selectAll(".tick").data(d, n).order(), M = w.exit(), A = w.enter().append("g").attr("class", "tick"), T = w.select("line"), S = w.select("text"); x = x.merge(x.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor")), w = w.merge(A), T = T.merge(A.append("line").attr("stroke", "currentColor").attr(s + "2", f * o)), S = S.merge(A.append("text").attr("fill", "currentColor").attr(s, f * g).attr("dy", 1 === t ? "0em" : 3 === t ? "0.71em" : "0.32em")), h !== m && (x = x.transition(h), w = w.transition(h), T = T.transition(h), S = S.transition(h), M = M.transition(h).attr("opacity", at).attr("transform", (function (t) { return isFinite(t = b(t)) ? l(t + c) : this.getAttribute("transform") })), A.attr("opacity", at).attr("transform", (function (t) { var n = this.parentNode.__axis; return l((n && isFinite(n = n(t)) ? n : b(t)) + c) }))), M.remove(), x.attr("d", 4 === t || 2 === t ? a ? "M" + f * a + "," + v + "H" + c + "V" + _ + "H" + f * a : "M" + c + "," + v + "V" + _ : a ? "M" + v + "," + f * a + "V" + c + "H" + _ + "V" + f * a : "M" + v + "," + c + "H" + _), w.attr("opacity", 1).attr("transform", (function (t) { return l(b(t) + c) })), T.attr(s + "2", f * o), S.attr(s, f * g).text(p), m.filter(lt).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", 2 === t ? "start" : 4 === t ? "end" : "middle"), m.each((function () { this.__axis = b })) } return h.scale = function (t) { return arguments.length ? (n = t, h) : n }, h.ticks = function () { return e = it.call(arguments), h }, h.tickArguments = function (t) { return arguments.length ? (e = null == t ? [] : it.call(t), h) : e.slice() }, h.tickValues = function (t) { return arguments.length ? (r = null == t ? null : it.call(t), h) : r && r.slice() }, h.tickFormat = function (t) { return arguments.length ? (i = t, h) : i }, h.tickSize = function (t) { return arguments.length ? (o = a = +t, h) : o }, h.tickSizeInner = function (t) { return arguments.length ? (o = +t, h) : o }, h.tickSizeOuter = function (t) { return arguments.length ? (a = +t, h) : a }, h.tickPadding = function (t) { return arguments.length ? (u = +t, h) : u }, h.offset = function (t) { return arguments.length ? (c = +t, h) : c }, h } var dt = { value: () => { } }; function pt() { for (var t, n = 0, e = arguments.length, r = {}; n < e; ++n) { if (!(t = arguments[n] + "") || t in r || /[\s.]/.test(t)) throw new Error("illegal type: " + t); r[t] = [] } return new gt(r) } function gt(t) { this._ = t } function yt(t, n) { return t.trim().split(/^|\s+/).map((function (t) { var e = "", r = t.indexOf("."); if (r >= 0 && (e = t.slice(r + 1), t = t.slice(0, r)), t && !n.hasOwnProperty(t)) throw new Error("unknown type: " + t); return { type: t, name: e } })) } function vt(t, n) { for (var e, r = 0, i = t.length; r < i; ++r)if ((e = t[r]).name === n) return e.value } function _t(t, n, e) { for (var r = 0, i = t.length; r < i; ++r)if (t[r].name === n) { t[r] = dt, t = t.slice(0, r).concat(t.slice(r + 1)); break } return null != e && t.push({ name: n, value: e }), t } gt.prototype = pt.prototype = { constructor: gt, on: function (t, n) { var e, r = this._, i = yt(t + "", r), o = -1, a = i.length; if (!(arguments.length < 2)) { if (null != n && "function" != typeof n) throw new Error("invalid callback: " + n); for (; ++o < a;)if (e = (t = i[o]).type) r[e] = _t(r[e], t.name, n); else if (null == n) for (e in r) r[e] = _t(r[e], t.name, null); return this } for (; ++o < a;)if ((e = (t = i[o]).type) && (e = vt(r[e], t.name))) return e }, copy: function () { var t = {}, n = this._; for (var e in n) t[e] = n[e].slice(); return new gt(t) }, call: function (t, n) { if ((e = arguments.length - 2) > 0) for (var e, r, i = new Array(e), o = 0; o < e; ++o)i[o] = arguments[o + 2]; if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t); for (o = 0, e = (r = this._[t]).length; o < e; ++o)r[o].value.apply(n, i) }, apply: function (t, n, e) { if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t); for (var r = this._[t], i = 0, o = r.length; i < o; ++i)r[i].value.apply(n, e) } }; var bt = "http://www.w3.org/1999/xhtml", mt = { svg: "http://www.w3.org/2000/svg", xhtml: bt, xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" }; function xt(t) { var n = t += "", e = n.indexOf(":"); return e >= 0 && "xmlns" !== (n = t.slice(0, e)) && (t = t.slice(e + 1)), mt.hasOwnProperty(n) ? { space: mt[n], local: t } : t } function wt(t) { return function () { var n = this.ownerDocument, e = this.namespaceURI; return e === bt && n.documentElement.namespaceURI === bt ? n.createElement(t) : n.createElementNS(e, t) } } function Mt(t) { return function () { return this.ownerDocument.createElementNS(t.space, t.local) } } function At(t) { var n = xt(t); return (n.local ? Mt : wt)(n) } function Tt() { } function St(t) { return null == t ? Tt : function () { return this.querySelector(t) } } function Et(t) { return "object" == typeof t && "length" in t ? t : Array.from(t) } function kt() { return [] } function Nt(t) { return null == t ? kt : function () { return this.querySelectorAll(t) } } function Ct(t) { return function () { return this.matches(t) } } function Pt(t) { return function (n) { return n.matches(t) } } var zt = Array.prototype.find; function Dt() { return this.firstElementChild } var qt = Array.prototype.filter; function Rt() { return this.children } function Ft(t) { return new Array(t.length) } function Ot(t, n) { this.ownerDocument = t.ownerDocument, this.namespaceURI = t.namespaceURI, this._next = null, this._parent = t, this.__data__ = n } function It(t) { return function () { return t } } function Ut(t, n, e, r, i, o) { for (var a, u = 0, c = n.length, f = o.length; u < f; ++u)(a = n[u]) ? (a.__data__ = o[u], r[u] = a) : e[u] = new Ot(t, o[u]); for (; u < c; ++u)(a = n[u]) && (i[u] = a) } function Bt(t, n, e, r, i, o, a) { var u, c, f, s = new Map, l = n.length, h = o.length, d = new Array(l); for (u = 0; u < l; ++u)(c = n[u]) && (d[u] = f = a.call(c, c.__data__, u, n) + "", s.has(f) ? i[u] = c : s.set(f, c)); for (u = 0; u < h; ++u)f = a.call(t, o[u], u, o) + "", (c = s.get(f)) ? (r[u] = c, c.__data__ = o[u], s.delete(f)) : e[u] = new Ot(t, o[u]); for (u = 0; u < l; ++u)(c = n[u]) && s.get(d[u]) === c && (i[u] = c) } function Yt(t) { return t.__data__ } function Lt(t, n) { return t < n ? -1 : t > n ? 1 : t >= n ? 0 : NaN } function jt(t) { return function () { this.removeAttribute(t) } } function Ht(t) { return function () { this.removeAttributeNS(t.space, t.local) } } function Xt(t, n) { return function () { this.setAttribute(t, n) } } function Gt(t, n) { return function () { this.setAttributeNS(t.space, t.local, n) } } function Vt(t, n) { return function () { var e = n.apply(this, arguments); null == e ? this.removeAttribute(t) : this.setAttribute(t, e) } } function $t(t, n) { return function () { var e = n.apply(this, arguments); null == e ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, e) } } function Wt(t) { return t.ownerDocument && t.ownerDocument.defaultView || t.document && t || t.defaultView } function Zt(t) { return function () { this.style.removeProperty(t) } } function Kt(t, n, e) { return function () { this.style.setProperty(t, n, e) } } function Qt(t, n, e) { return function () { var r = n.apply(this, arguments); null == r ? this.style.removeProperty(t) : this.style.setProperty(t, r, e) } } function Jt(t, n) { return t.style.getPropertyValue(n) || Wt(t).getComputedStyle(t, null).getPropertyValue(n) } function tn(t) { return function () { delete this[t] } } function nn(t, n) { return function () { this[t] = n } } function en(t, n) { return function () { var e = n.apply(this, arguments); null == e ? delete this[t] : this[t] = e } } function rn(t) { return t.trim().split(/^|\s+/) } function on(t) { return t.classList || new an(t) } function an(t) { this._node = t, this._names = rn(t.getAttribute("class") || "") } function un(t, n) { for (var e = on(t), r = -1, i = n.length; ++r < i;)e.add(n[r]) } function cn(t, n) { for (var e = on(t), r = -1, i = n.length; ++r < i;)e.remove(n[r]) } function fn(t) { return function () { un(this, t) } } function sn(t) { return function () { cn(this, t) } } function ln(t, n) { return function () { (n.apply(this, arguments) ? un : cn)(this, t) } } function hn() { this.textContent = "" } function dn(t) { return function () { this.textContent = t } } function pn(t) { return function () { var n = t.apply(this, arguments); this.textContent = null == n ? "" : n } } function gn() { this.innerHTML = "" } function yn(t) { return function () { this.innerHTML = t } } function vn(t) { return function () { var n = t.apply(this, arguments); this.innerHTML = null == n ? "" : n } } function _n() { this.nextSibling && this.parentNode.appendChild(this) } function bn() { this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild) } function mn() { return null } function xn() { var t = this.parentNode; t && t.removeChild(this) } function wn() { var t = this.cloneNode(!1), n = this.parentNode; return n ? n.insertBefore(t, this.nextSibling) : t } function Mn() { var t = this.cloneNode(!0), n = this.parentNode; return n ? n.insertBefore(t, this.nextSibling) : t } function An(t) { return t.trim().split(/^|\s+/).map((function (t) { var n = "", e = t.indexOf("."); return e >= 0 && (n = t.slice(e + 1), t = t.slice(0, e)), { type: t, name: n } })) } function Tn(t) { return function () { var n = this.__on; if (n) { for (var e, r = 0, i = -1, o = n.length; r < o; ++r)e = n[r], t.type && e.type !== t.type || e.name !== t.name ? n[++i] = e : this.removeEventListener(e.type, e.listener, e.options); ++i ? n.length = i : delete this.__on } } } function Sn(t, n, e) { return function () { var r, i = this.__on, o = function (t) { return function (n) { t.call(this, n, this.__data__) } }(n); if (i) for (var a = 0, u = i.length; a < u; ++a)if ((r = i[a]).type === t.type && r.name === t.name) return this.removeEventListener(r.type, r.listener, r.options), this.addEventListener(r.type, r.listener = o, r.options = e), void (r.value = n); this.addEventListener(t.type, o, e), r = { type: t.type, name: t.name, value: n, listener: o, options: e }, i ? i.push(r) : this.__on = [r] } } function En(t, n, e) { var r = Wt(t), i = r.CustomEvent; "function" == typeof i ? i = new i(n, e) : (i = r.document.createEvent("Event"), e ? (i.initEvent(n, e.bubbles, e.cancelable), i.detail = e.detail) : i.initEvent(n, !1, !1)), t.dispatchEvent(i) } function kn(t, n) { return function () { return En(this, t, n) } } function Nn(t, n) { return function () { return En(this, t, n.apply(this, arguments)) } } Ot.prototype = { constructor: Ot, appendChild: function (t) { return this._parent.insertBefore(t, this._next) }, insertBefore: function (t, n) { return this._parent.insertBefore(t, n) }, querySelector: function (t) { return this._parent.querySelector(t) }, querySelectorAll: function (t) { return this._parent.querySelectorAll(t) } }, an.prototype = { add: function (t) { this._names.indexOf(t) < 0 && (this._names.push(t), this._node.setAttribute("class", this._names.join(" "))) }, remove: function (t) { var n = this._names.indexOf(t); n >= 0 && (this._names.splice(n, 1), this._node.setAttribute("class", this._names.join(" "))) }, contains: function (t) { return this._names.indexOf(t) >= 0 } }; var Cn = [null]; function Pn(t, n) { this._groups = t, this._parents = n } function zn() { return new Pn([[document.documentElement]], Cn) } function Dn(t) { return "string" == typeof t ? new Pn([[document.querySelector(t)]], [document.documentElement]) : new Pn([[t]], Cn) } Pn.prototype = zn.prototype = { constructor: Pn, select: function (t) { "function" != typeof t && (t = St(t)); for (var n = this._groups, e = n.length, r = new Array(e), i = 0; i < e; ++i)for (var o, a, u = n[i], c = u.length, f = r[i] = new Array(c), s = 0; s < c; ++s)(o = u[s]) && (a = t.call(o, o.__data__, s, u)) && ("__data__" in o && (a.__data__ = o.__data__), f[s] = a); return new Pn(r, this._parents) }, selectAll: function (t) { t = "function" == typeof t ? function (t) { return function () { var n = t.apply(this, arguments); return null == n ? [] : Et(n) } }(t) : Nt(t); for (var n = this._groups, e = n.length, r = [], i = [], o = 0; o < e; ++o)for (var a, u = n[o], c = u.length, f = 0; f < c; ++f)(a = u[f]) && (r.push(t.call(a, a.__data__, f, u)), i.push(a)); return new Pn(r, i) }, selectChild: function (t) { return this.select(null == t ? Dt : function (t) { return function () { return zt.call(this.children, t) } }("function" == typeof t ? t : Pt(t))) }, selectChildren: function (t) { return this.selectAll(null == t ? Rt : function (t) { return function () { return qt.call(this.children, t) } }("function" == typeof t ? t : Pt(t))) }, filter: function (t) { "function" != typeof t && (t = Ct(t)); for (var n = this._groups, e = n.length, r = new Array(e), i = 0; i < e; ++i)for (var o, a = n[i], u = a.length, c = r[i] = [], f = 0; f < u; ++f)(o = a[f]) && t.call(o, o.__data__, f, a) && c.push(o); return new Pn(r, this._parents) }, data: function (t, n) { if (!arguments.length) return Array.from(this, Yt); var e = n ? Bt : Ut, r = this._parents, i = this._groups; "function" != typeof t && (t = It(t)); for (var o = i.length, a = new Array(o), u = new Array(o), c = new Array(o), f = 0; f < o; ++f) { var s = r[f], l = i[f], h = l.length, d = Et(t.call(s, s && s.__data__, f, r)), p = d.length, g = u[f] = new Array(p), y = a[f] = new Array(p), v = c[f] = new Array(h); e(s, l, g, y, v, d, n); for (var _, b, m = 0, x = 0; m < p; ++m)if (_ = g[m]) { for (m >= x && (x = m + 1); !(b = y[x]) && ++x < p;); _._next = b || null } } return (a = new Pn(a, r))._enter = u, a._exit = c, a }, enter: function () { return new Pn(this._enter || this._groups.map(Ft), this._parents) }, exit: function () { return new Pn(this._exit || this._groups.map(Ft), this._parents) }, join: function (t, n, e) { var r = this.enter(), i = this, o = this.exit(); return r = "function" == typeof t ? t(r) : r.append(t + ""), null != n && (i = n(i)), null == e ? o.remove() : e(o), r && i ? r.merge(i).order() : i }, merge: function (t) { if (!(t instanceof Pn)) throw new Error("invalid merge"); for (var n = this._groups, e = t._groups, r = n.length, i = e.length, o = Math.min(r, i), a = new Array(r), u = 0; u < o; ++u)for (var c, f = n[u], s = e[u], l = f.length, h = a[u] = new Array(l), d = 0; d < l; ++d)(c = f[d] || s[d]) && (h[d] = c); for (; u < r; ++u)a[u] = n[u]; return new Pn(a, this._parents) }, selection: function () { return this }, order: function () { for (var t = this._groups, n = -1, e = t.length; ++n < e;)for (var r, i = t[n], o = i.length - 1, a = i[o]; --o >= 0;)(r = i[o]) && (a && 4 ^ r.compareDocumentPosition(a) && a.parentNode.insertBefore(r, a), a = r); return this }, sort: function (t) { function n(n, e) { return n && e ? t(n.__data__, e.__data__) : !n - !e } t || (t = Lt); for (var e = this._groups, r = e.length, i = new Array(r), o = 0; o < r; ++o) { for (var a, u = e[o], c = u.length, f = i[o] = new Array(c), s = 0; s < c; ++s)(a = u[s]) && (f[s] = a); f.sort(n) } return new Pn(i, this._parents).order() }, call: function () { var t = arguments[0]; return arguments[0] = this, t.apply(null, arguments), this }, nodes: function () { return Array.from(this) }, node: function () { for (var t = this._groups, n = 0, e = t.length; n < e; ++n)for (var r = t[n], i = 0, o = r.length; i < o; ++i) { var a = r[i]; if (a) return a } return null }, size: function () { let t = 0; for (const n of this) ++t; return t }, empty: function () { return !this.node() }, each: function (t) { for (var n = this._groups, e = 0, r = n.length; e < r; ++e)for (var i, o = n[e], a = 0, u = o.length; a < u; ++a)(i = o[a]) && t.call(i, i.__data__, a, o); return this }, attr: function (t, n) { var e = xt(t); if (arguments.length < 2) { var r = this.node(); return e.local ? r.getAttributeNS(e.space, e.local) : r.getAttribute(e) } return this.each((null == n ? e.local ? Ht : jt : "function" == typeof n ? e.local ? $t : Vt : e.local ? Gt : Xt)(e, n)) }, style: function (t, n, e) { return arguments.length > 1 ? this.each((null == n ? Zt : "function" == typeof n ? Qt : Kt)(t, n, null == e ? "" : e)) : Jt(this.node(), t) }, property: function (t, n) { return arguments.length > 1 ? this.each((null == n ? tn : "function" == typeof n ? en : nn)(t, n)) : this.node()[t] }, classed: function (t, n) { var e = rn(t + ""); if (arguments.length < 2) { for (var r = on(this.node()), i = -1, o = e.length; ++i < o;)if (!r.contains(e[i])) return !1; return !0 } return this.each(("function" == typeof n ? ln : n ? fn : sn)(e, n)) }, text: function (t) { return arguments.length ? this.each(null == t ? hn : ("function" == typeof t ? pn : dn)(t)) : this.node().textContent }, html: function (t) { return arguments.length ? this.each(null == t ? gn : ("function" == typeof t ? vn : yn)(t)) : this.node().innerHTML }, raise: function () { return this.each(_n) }, lower: function () { return this.each(bn) }, append: function (t) { var n = "function" == typeof t ? t : At(t); return this.select((function () { return this.appendChild(n.apply(this, arguments)) })) }, insert: function (t, n) { var e = "function" == typeof t ? t : At(t), r = null == n ? mn : "function" == typeof n ? n : St(n); return this.select((function () { return this.insertBefore(e.apply(this, arguments), r.apply(this, arguments) || null) })) }, remove: function () { return this.each(xn) }, clone: function (t) { return this.select(t ? Mn : wn) }, datum: function (t) { return arguments.length ? this.property("__data__", t) : this.node().__data__ }, on: function (t, n, e) { var r, i, o = An(t + ""), a = o.length; if (!(arguments.length < 2)) { for (u = n ? Sn : Tn, r = 0; r < a; ++r)this.each(u(o[r], n, e)); return this } var u = this.node().__on; if (u) for (var c, f = 0, s = u.length; f < s; ++f)for (r = 0, c = u[f]; r < a; ++r)if ((i = o[r]).type === c.type && i.name === c.name) return c.value }, dispatch: function (t, n) { return this.each(("function" == typeof n ? Nn : kn)(t, n)) }, [Symbol.iterator]: function* () { for (var t = this._groups, n = 0, e = t.length; n < e; ++n)for (var r, i = t[n], o = 0, a = i.length; o < a; ++o)(r = i[o]) && (yield r) } }; var qn = 0; function Rn() { return new Fn } function Fn() { this._ = "@" + (++qn).toString(36) } function On(t) { let n; for (; n = t.sourceEvent;)t = n; return t } function In(t, n) { if (t = On(t), void 0 === n && (n = t.currentTarget), n) { var e = n.ownerSVGElement || n; if (e.createSVGPoint) { var r = e.createSVGPoint(); return r.x = t.clientX, r.y = t.clientY, [(r = r.matrixTransform(n.getScreenCTM().inverse())).x, r.y] } if (n.getBoundingClientRect) { var i = n.getBoundingClientRect(); return [t.clientX - i.left - n.clientLeft, t.clientY - i.top - n.clientTop] } } return [t.pageX, t.pageY] } function Un(t) { t.stopImmediatePropagation() } function Bn(t) { t.preventDefault(), t.stopImmediatePropagation() } function Yn(t) { var n = t.document.documentElement, e = Dn(t).on("dragstart.drag", Bn, !0); "onselectstart" in n ? e.on("selectstart.drag", Bn, !0) : (n.__noselect = n.style.MozUserSelect, n.style.MozUserSelect = "none") } function Ln(t, n) { var e = t.document.documentElement, r = Dn(t).on("dragstart.drag", null); n && (r.on("click.drag", Bn, !0), setTimeout((function () { r.on("click.drag", null) }), 0)), "onselectstart" in e ? r.on("selectstart.drag", null) : (e.style.MozUserSelect = e.__noselect, delete e.__noselect) } Fn.prototype = Rn.prototype = { constructor: Fn, get: function (t) { for (var n = this._; !(n in t);)if (!(t = t.parentNode)) return; return t[n] }, set: function (t, n) { return t[this._] = n }, remove: function (t) { return this._ in t && delete t[this._] }, toString: function () { return this._ } }; var jn = t => () => t; function Hn(t, { sourceEvent: n, subject: e, target: r, identifier: i, active: o, x: a, y: u, dx: c, dy: f, dispatch: s }) { Object.defineProperties(this, { type: { value: t, enumerable: !0, configurable: !0 }, sourceEvent: { value: n, enumerable: !0, configurable: !0 }, subject: { value: e, enumerable: !0, configurable: !0 }, target: { value: r, enumerable: !0, configurable: !0 }, identifier: { value: i, enumerable: !0, configurable: !0 }, active: { value: o, enumerable: !0, configurable: !0 }, x: { value: a, enumerable: !0, configurable: !0 }, y: { value: u, enumerable: !0, configurable: !0 }, dx: { value: c, enumerable: !0, configurable: !0 }, dy: { value: f, enumerable: !0, configurable: !0 }, _: { value: s } }) } function Xn(t) { return !t.ctrlKey && !t.button } function Gn() { return this.parentNode } function Vn(t, n) { return null == n ? { x: t.x, y: t.y } : n } function $n() { return navigator.maxTouchPoints || "ontouchstart" in this } function Wn(t, n, e) { t.prototype = n.prototype = e, e.constructor = t } function Zn(t, n) { var e = Object.create(t.prototype); for (var r in n) e[r] = n[r]; return e } function Kn() { } Hn.prototype.on = function () { var t = this._.on.apply(this._, arguments); return t === this._ ? this : t }; var Qn = .7, Jn = 1 / Qn, te = "\\s*([+-]?\\d+)\\s*", ne = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*", ee = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*", re = /^#([0-9a-f]{3,8})$/, ie = new RegExp("^rgb\\(" + [te, te, te] + "\\)$"), oe = new RegExp("^rgb\\(" + [ee, ee, ee] + "\\)$"), ae = new RegExp("^rgba\\(" + [te, te, te, ne] + "\\)$"), ue = new RegExp("^rgba\\(" + [ee, ee, ee, ne] + "\\)$"), ce = new RegExp("^hsl\\(" + [ne, ee, ee] + "\\)$"), fe = new RegExp("^hsla\\(" + [ne, ee, ee, ne] + "\\)$"), se = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 }; function le() { return this.rgb().formatHex() } function he() { return this.rgb().formatRgb() } function de(t) { var n, e; return t = (t + "").trim().toLowerCase(), (n = re.exec(t)) ? (e = n[1].length, n = parseInt(n[1], 16), 6 === e ? pe(n) : 3 === e ? new _e(n >> 8 & 15 | n >> 4 & 240, n >> 4 & 15 | 240 & n, (15 & n) << 4 | 15 & n, 1) : 8 === e ? ge(n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, (255 & n) / 255) : 4 === e ? ge(n >> 12 & 15 | n >> 8 & 240, n >> 8 & 15 | n >> 4 & 240, n >> 4 & 15 | 240 & n, ((15 & n) << 4 | 15 & n) / 255) : null) : (n = ie.exec(t)) ? new _e(n[1], n[2], n[3], 1) : (n = oe.exec(t)) ? new _e(255 * n[1] / 100, 255 * n[2] / 100, 255 * n[3] / 100, 1) : (n = ae.exec(t)) ? ge(n[1], n[2], n[3], n[4]) : (n = ue.exec(t)) ? ge(255 * n[1] / 100, 255 * n[2] / 100, 255 * n[3] / 100, n[4]) : (n = ce.exec(t)) ? we(n[1], n[2] / 100, n[3] / 100, 1) : (n = fe.exec(t)) ? we(n[1], n[2] / 100, n[3] / 100, n[4]) : se.hasOwnProperty(t) ? pe(se[t]) : "transparent" === t ? new _e(NaN, NaN, NaN, 0) : null } function pe(t) { return new _e(t >> 16 & 255, t >> 8 & 255, 255 & t, 1) } function ge(t, n, e, r) { return r <= 0 && (t = n = e = NaN), new _e(t, n, e, r) } function ye(t) { return t instanceof Kn || (t = de(t)), t ? new _e((t = t.rgb()).r, t.g, t.b, t.opacity) : new _e } function ve(t, n, e, r) { return 1 === arguments.length ? ye(t) : new _e(t, n, e, null == r ? 1 : r) } function _e(t, n, e, r) { this.r = +t, this.g = +n, this.b = +e, this.opacity = +r } function be() { return "#" + xe(this.r) + xe(this.g) + xe(this.b) } function me() { var t = this.opacity; return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === t ? ")" : ", " + t + ")") } function xe(t) { return ((t = Math.max(0, Math.min(255, Math.round(t) || 0))) < 16 ? "0" : "") + t.toString(16) } function we(t, n, e, r) { return r <= 0 ? t = n = e = NaN : e <= 0 || e >= 1 ? t = n = NaN : n <= 0 && (t = NaN), new Te(t, n, e, r) } function Me(t) { if (t instanceof Te) return new Te(t.h, t.s, t.l, t.opacity); if (t instanceof Kn || (t = de(t)), !t) return new Te; if (t instanceof Te) return t; var n = (t = t.rgb()).r / 255, e = t.g / 255, r = t.b / 255, i = Math.min(n, e, r), o = Math.max(n, e, r), a = NaN, u = o - i, c = (o + i) / 2; return u ? (a = n === o ? (e - r) / u + 6 * (e < r) : e === o ? (r - n) / u + 2 : (n - e) / u + 4, u /= c < .5 ? o + i : 2 - o - i, a *= 60) : u = c > 0 && c < 1 ? 0 : a, new Te(a, u, c, t.opacity) } function Ae(t, n, e, r) { return 1 === arguments.length ? Me(t) : new Te(t, n, e, null == r ? 1 : r) } function Te(t, n, e, r) { this.h = +t, this.s = +n, this.l = +e, this.opacity = +r } function Se(t, n, e) { return 255 * (t < 60 ? n + (e - n) * t / 60 : t < 180 ? e : t < 240 ? n + (e - n) * (240 - t) / 60 : n) } Wn(Kn, de, { copy: function (t) { return Object.assign(new this.constructor, this, t) }, displayable: function () { return this.rgb().displayable() }, hex: le, formatHex: le, formatHsl: function () { return Me(this).formatHsl() }, formatRgb: he, toString: he }), Wn(_e, ve, Zn(Kn, { brighter: function (t) { return t = null == t ? Jn : Math.pow(Jn, t), new _e(this.r * t, this.g * t, this.b * t, this.opacity) }, darker: function (t) { return t = null == t ? Qn : Math.pow(Qn, t), new _e(this.r * t, this.g * t, this.b * t, this.opacity) }, rgb: function () { return this }, displayable: function () { return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5 && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1 }, hex: be, formatHex: be, formatRgb: me, toString: me })), Wn(Te, Ae, Zn(Kn, { brighter: function (t) { return t = null == t ? Jn : Math.pow(Jn, t), new Te(this.h, this.s, this.l * t, this.opacity) }, darker: function (t) { return t = null == t ? Qn : Math.pow(Qn, t), new Te(this.h, this.s, this.l * t, this.opacity) }, rgb: function () { var t = this.h % 360 + 360 * (this.h < 0), n = isNaN(t) || isNaN(this.s) ? 0 : this.s, e = this.l, r = e + (e < .5 ? e : 1 - e) * n, i = 2 * e - r; return new _e(Se(t >= 240 ? t - 240 : t + 120, i, r), Se(t, i, r), Se(t < 120 ? t + 240 : t - 120, i, r), this.opacity) }, displayable: function () { return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1 }, formatHsl: function () { var t = this.opacity; return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? "hsl(" : "hsla(") + (this.h || 0) + ", " + 100 * (this.s || 0) + "%, " + 100 * (this.l || 0) + "%" + (1 === t ? ")" : ", " + t + ")") } })); const Ee = Math.PI / 180, ke = 180 / Math.PI, Ne = .96422, Ce = .82521, Pe = 4 / 29, ze = 6 / 29, De = 3 * ze * ze; function qe(t) { if (t instanceof Fe) return new Fe(t.l, t.a, t.b, t.opacity); if (t instanceof je) return He(t); t instanceof _e || (t = ye(t)); var n, e, r = Be(t.r), i = Be(t.g), o = Be(t.b), a = Oe((.2225045 * r + .7168786 * i + .0606169 * o) / 1); return r === i && i === o ? n = e = a : (n = Oe((.4360747 * r + .3850649 * i + .1430804 * o) / Ne), e = Oe((.0139322 * r + .0971045 * i + .7141733 * o) / Ce)), new Fe(116 * a - 16, 500 * (n - a), 200 * (a - e), t.opacity) } function Re(t, n, e, r) { return 1 === arguments.length ? qe(t) : new Fe(t, n, e, null == r ? 1 : r) } function Fe(t, n, e, r) { this.l = +t, this.a = +n, this.b = +e, this.opacity = +r } function Oe(t) { return t > .008856451679035631 ? Math.pow(t, 1 / 3) : t / De + Pe } function Ie(t) { return t > ze ? t * t * t : De * (t - Pe) } function Ue(t) { return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055) } function Be(t) { return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4) } function Ye(t) { if (t instanceof je) return new je(t.h, t.c, t.l, t.opacity); if (t instanceof Fe || (t = qe(t)), 0 === t.a && 0 === t.b) return new je(NaN, 0 < t.l && t.l < 100 ? 0 : NaN, t.l, t.opacity); var n = Math.atan2(t.b, t.a) * ke; return new je(n < 0 ? n + 360 : n, Math.sqrt(t.a * t.a + t.b * t.b), t.l, t.opacity) } function Le(t, n, e, r) { return 1 === arguments.length ? Ye(t) : new je(t, n, e, null == r ? 1 : r) } function je(t, n, e, r) { this.h = +t, this.c = +n, this.l = +e, this.opacity = +r } function He(t) { if (isNaN(t.h)) return new Fe(t.l, 0, 0, t.opacity); var n = t.h * Ee; return new Fe(t.l, Math.cos(n) * t.c, Math.sin(n) * t.c, t.opacity) } Wn(Fe, Re, Zn(Kn, { brighter: function (t) { return new Fe(this.l + 18 * (null == t ? 1 : t), this.a, this.b, this.opacity) }, darker: function (t) { return new Fe(this.l - 18 * (null == t ? 1 : t), this.a, this.b, this.opacity) }, rgb: function () { var t = (this.l + 16) / 116, n = isNaN(this.a) ? t : t + this.a / 500, e = isNaN(this.b) ? t : t - this.b / 200; return new _e(Ue(3.1338561 * (n = Ne * Ie(n)) - 1.6168667 * (t = 1 * Ie(t)) - .4906146 * (e = Ce * Ie(e))), Ue(-.9787684 * n + 1.9161415 * t + .033454 * e), Ue(.0719453 * n - .2289914 * t + 1.4052427 * e), this.opacity) } })), Wn(je, Le, Zn(Kn, { brighter: function (t) { return new je(this.h, this.c, this.l + 18 * (null == t ? 1 : t), this.opacity) }, darker: function (t) { return new je(this.h, this.c, this.l - 18 * (null == t ? 1 : t), this.opacity) }, rgb: function () { return He(this).rgb() } })); var Xe = -.14861, Ge = 1.78277, Ve = -.29227, $e = -.90649, We = 1.97294, Ze = We * $e, Ke = We * Ge, Qe = Ge * Ve - $e * Xe; function Je(t) { if (t instanceof nr) return new nr(t.h, t.s, t.l, t.opacity); t instanceof _e || (t = ye(t)); var n = t.r / 255, e = t.g / 255, r = t.b / 255, i = (Qe * r + Ze * n - Ke * e) / (Qe + Ze - Ke), o = r - i, a = (We * (e - i) - Ve * o) / $e, u = Math.sqrt(a * a + o * o) / (We * i * (1 - i)), c = u ? Math.atan2(a, o) * ke - 120 : NaN; return new nr(c < 0 ? c + 360 : c, u, i, t.opacity) } function tr(t, n, e, r) { return 1 === arguments.length ? Je(t) : new nr(t, n, e, null == r ? 1 : r) } function nr(t, n, e, r) { this.h = +t, this.s = +n, this.l = +e, this.opacity = +r } function er(t, n, e, r, i) { var o = t * t, a = o * t; return ((1 - 3 * t + 3 * o - a) * n + (4 - 6 * o + 3 * a) * e + (1 + 3 * t + 3 * o - 3 * a) * r + a * i) / 6 } function rr(t) { var n = t.length - 1; return function (e) { var r = e <= 0 ? e = 0 : e >= 1 ? (e = 1, n - 1) : Math.floor(e * n), i = t[r], o = t[r + 1], a = r > 0 ? t[r - 1] : 2 * i - o, u = r < n - 1 ? t[r + 2] : 2 * o - i; return er((e - r / n) * n, a, i, o, u) } } function ir(t) { var n = t.length; return function (e) { var r = Math.floor(((e %= 1) < 0 ? ++e : e) * n), i = t[(r + n - 1) % n], o = t[r % n], a = t[(r + 1) % n], u = t[(r + 2) % n]; return er((e - r / n) * n, i, o, a, u) } } Wn(nr, tr, Zn(Kn, { brighter: function (t) { return t = null == t ? Jn : Math.pow(Jn, t), new nr(this.h, this.s, this.l * t, this.opacity) }, darker: function (t) { return t = null == t ? Qn : Math.pow(Qn, t), new nr(this.h, this.s, this.l * t, this.opacity) }, rgb: function () { var t = isNaN(this.h) ? 0 : (this.h + 120) * Ee, n = +this.l, e = isNaN(this.s) ? 0 : this.s * n * (1 - n), r = Math.cos(t), i = Math.sin(t); return new _e(255 * (n + e * (Xe * r + Ge * i)), 255 * (n + e * (Ve * r + $e * i)), 255 * (n + e * (We * r)), this.opacity) } })); var or = t => () => t; function ar(t, n) { return function (e) { return t + e * n } } function ur(t, n) { var e = n - t; return e ? ar(t, e > 180 || e < -180 ? e - 360 * Math.round(e / 360) : e) : or(isNaN(t) ? n : t) } function cr(t) { return 1 == (t = +t) ? fr : function (n, e) { return e - n ? function (t, n, e) { return t = Math.pow(t, e), n = Math.pow(n, e) - t, e = 1 / e, function (r) { return Math.pow(t + r * n, e) } }(n, e, t) : or(isNaN(n) ? e : n) } } function fr(t, n) { var e = n - t; return e ? ar(t, e) : or(isNaN(t) ? n : t) } var sr = function t(n) { var e = cr(n); function r(t, n) { var r = e((t = ve(t)).r, (n = ve(n)).r), i = e(t.g, n.g), o = e(t.b, n.b), a = fr(t.opacity, n.opacity); return function (n) { return t.r = r(n), t.g = i(n), t.b = o(n), t.opacity = a(n), t + "" } } return r.gamma = t, r }(1); function lr(t) { return function (n) { var e, r, i = n.length, o = new Array(i), a = new Array(i), u = new Array(i); for (e = 0; e < i; ++e)r = ve(n[e]), o[e] = r.r || 0, a[e] = r.g || 0, u[e] = r.b || 0; return o = t(o), a = t(a), u = t(u), r.opacity = 1, function (t) { return r.r = o(t), r.g = a(t), r.b = u(t), r + "" } } } var hr = lr(rr), dr = lr(ir); function pr(t, n) { n || (n = []); var e, r = t ? Math.min(n.length, t.length) : 0, i = n.slice(); return function (o) { for (e = 0; e < r; ++e)i[e] = t[e] * (1 - o) + n[e] * o; return i } } function gr(t) { return ArrayBuffer.isView(t) && !(t instanceof DataView) } function yr(t, n) { var e, r = n ? n.length : 0, i = t ? Math.min(r, t.length) : 0, o = new Array(i), a = new Array(r); for (e = 0; e < i; ++e)o[e] = Mr(t[e], n[e]); for (; e < r; ++e)a[e] = n[e]; return function (t) { for (e = 0; e < i; ++e)a[e] = o[e](t); return a } } function vr(t, n) { var e = new Date; return t = +t, n = +n, function (r) { return e.setTime(t * (1 - r) + n * r), e } } function _r(t, n) { return t = +t, n = +n, function (e) { return t * (1 - e) + n * e } } function br(t, n) { var e, r = {}, i = {}; for (e in null !== t && "object" == typeof t || (t = {}), null !== n && "object" == typeof n || (n = {}), n) e in t ? r[e] = Mr(t[e], n[e]) : i[e] = n[e]; return function (t) { for (e in r) i[e] = r[e](t); return i } } var mr = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, xr = new RegExp(mr.source, "g"); function wr(t, n) { var e, r, i, o = mr.lastIndex = xr.lastIndex = 0, a = -1, u = [], c = []; for (t += "", n += ""; (e = mr.exec(t)) && (r = xr.exec(n));)(i = r.index) > o && (i = n.slice(o, i), u[a] ? u[a] += i : u[++a] = i), (e = e[0]) === (r = r[0]) ? u[a] ? u[a] += r : u[++a] = r : (u[++a] = null, c.push({ i: a, x: _r(e, r) })), o = xr.lastIndex; return o < n.length && (i = n.slice(o), u[a] ? u[a] += i : u[++a] = i), u.length < 2 ? c[0] ? function (t) { return function (n) { return t(n) + "" } }(c[0].x) : function (t) { return function () { return t } }(n) : (n = c.length, function (t) { for (var e, r = 0; r < n; ++r)u[(e = c[r]).i] = e.x(t); return u.join("") }) } function Mr(t, n) { var e, r = typeof n; return null == n || "boolean" === r ? or(n) : ("number" === r ? _r : "string" === r ? (e = de(n)) ? (n = e, sr) : wr : n instanceof de ? sr : n instanceof Date ? vr : gr(n) ? pr : Array.isArray(n) ? yr : "function" != typeof n.valueOf && "function" != typeof n.toString || isNaN(n) ? br : _r)(t, n) } function Ar(t, n) { return t = +t, n = +n, function (e) { return Math.round(t * (1 - e) + n * e) } } var Tr, Sr = 180 / Math.PI, Er = { translateX: 0, translateY: 0, rotate: 0, skewX: 0, scaleX: 1, scaleY: 1 }; function kr(t, n, e, r, i, o) { var a, u, c; return (a = Math.sqrt(t * t + n * n)) && (t /= a, n /= a), (c = t * e + n * r) && (e -= t * c, r -= n * c), (u = Math.sqrt(e * e + r * r)) && (e /= u, r /= u, c /= u), t * r < n * e && (t = -t, n = -n, c = -c, a = -a), { translateX: i, translateY: o, rotate: Math.atan2(n, t) * Sr, skewX: Math.atan(c) * Sr, scaleX: a, scaleY: u } } function Nr(t, n, e, r) { function i(t) { return t.length ? t.pop() + " " : "" } return function (o, a) { var u = [], c = []; return o = t(o), a = t(a), function (t, r, i, o, a, u) { if (t !== i || r !== o) { var c = a.push("translate(", null, n, null, e); u.push({ i: c - 4, x: _r(t, i) }, { i: c - 2, x: _r(r, o) }) } else (i || o) && a.push("translate(" + i + n + o + e) }(o.translateX, o.translateY, a.translateX, a.translateY, u, c), function (t, n, e, o) { t !== n ? (t - n > 180 ? n += 360 : n - t > 180 && (t += 360), o.push({ i: e.push(i(e) + "rotate(", null, r) - 2, x: _r(t, n) })) : n && e.push(i(e) + "rotate(" + n + r) }(o.rotate, a.rotate, u, c), function (t, n, e, o) { t !== n ? o.push({ i: e.push(i(e) + "skewX(", null, r) - 2, x: _r(t, n) }) : n && e.push(i(e) + "skewX(" + n + r) }(o.skewX, a.skewX, u, c), function (t, n, e, r, o, a) { if (t !== e || n !== r) { var u = o.push(i(o) + "scale(", null, ",", null, ")"); a.push({ i: u - 4, x: _r(t, e) }, { i: u - 2, x: _r(n, r) }) } else 1 === e && 1 === r || o.push(i(o) + "scale(" + e + "," + r + ")") }(o.scaleX, o.scaleY, a.scaleX, a.scaleY, u, c), o = a = null, function (t) { for (var n, e = -1, r = c.length; ++e < r;)u[(n = c[e]).i] = n.x(t); return u.join("") } } } var Cr = Nr((function (t) { const n = new ("function" == typeof DOMMatrix ? DOMMatrix : WebKitCSSMatrix)(t + ""); return n.isIdentity ? Er : kr(n.a, n.b, n.c, n.d, n.e, n.f) }), "px, ", "px)", "deg)"), Pr = Nr((function (t) { return null == t ? Er : (Tr || (Tr = document.createElementNS("http://www.w3.org/2000/svg", "g")), Tr.setAttribute("transform", t), (t = Tr.transform.baseVal.consolidate()) ? kr((t = t.matrix).a, t.b, t.c, t.d, t.e, t.f) : Er) }), ", ", ")", ")"); function zr(t) { return ((t = Math.exp(t)) + 1 / t) / 2 } var Dr = function t(n, e, r) { function i(t, i) { var o, a, u = t[0], c = t[1], f = t[2], s = i[0], l = i[1], h = i[2], d = s - u, p = l - c, g = d * d + p * p; if (g < 1e-12) a = Math.log(h / f) / n, o = function (t) { return [u + t * d, c + t * p, f * Math.exp(n * t * a)] }; else { var y = Math.sqrt(g), v = (h * h - f * f + r * g) / (2 * f * e * y), _ = (h * h - f * f - r * g) / (2 * h * e * y), b = Math.log(Math.sqrt(v * v + 1) - v), m = Math.log(Math.sqrt(_ * _ + 1) - _); a = (m - b) / n, o = function (t) { var r = t * a, i = zr(b), o = f / (e * y) * (i * function (t) { return ((t = Math.exp(2 * t)) - 1) / (t + 1) }(n * r + b) - function (t) { return ((t = Math.exp(t)) - 1 / t) / 2 }(b)); return [u + o * d, c + o * p, f * i / zr(n * r + b)] } } return o.duration = 1e3 * a * n / Math.SQRT2, o } return i.rho = function (n) { var e = Math.max(.001, +n), r = e * e; return t(e, r, r * r) }, i }(Math.SQRT2, 2, 4); function qr(t) { return function (n, e) { var r = t((n = Ae(n)).h, (e = Ae(e)).h), i = fr(n.s, e.s), o = fr(n.l, e.l), a = fr(n.opacity, e.opacity); return function (t) { return n.h = r(t), n.s = i(t), n.l = o(t), n.opacity = a(t), n + "" } } } var Rr = qr(ur), Fr = qr(fr); function Or(t) { return function (n, e) { var r = t((n = Le(n)).h, (e = Le(e)).h), i = fr(n.c, e.c), o = fr(n.l, e.l), a = fr(n.opacity, e.opacity); return function (t) { return n.h = r(t), n.c = i(t), n.l = o(t), n.opacity = a(t), n + "" } } } var Ir = Or(ur), Ur = Or(fr); function Br(t) { return function n(e) { function r(n, r) { var i = t((n = tr(n)).h, (r = tr(r)).h), o = fr(n.s, r.s), a = fr(n.l, r.l), u = fr(n.opacity, r.opacity); return function (t) { return n.h = i(t), n.s = o(t), n.l = a(Math.pow(t, e)), n.opacity = u(t), n + "" } } return e = +e, r.gamma = n, r }(1) } var Yr = Br(ur), Lr = Br(fr); function jr(t, n) { void 0 === n && (n = t, t = Mr); for (var e = 0, r = n.length - 1, i = n[0], o = new Array(r < 0 ? 0 : r); e < r;)o[e] = t(i, i = n[++e]); return function (t) { var n = Math.max(0, Math.min(r - 1, Math.floor(t *= r))); return o[n](t - n) } } var Hr, Xr, Gr = 0, Vr = 0, $r = 0, Wr = 0, Zr = 0, Kr = 0, Qr = "object" == typeof performance && performance.now ? performance : Date, Jr = "object" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (t) { setTimeout(t, 17) }; function ti() { return Zr || (Jr(ni), Zr = Qr.now() + Kr) } function ni() { Zr = 0 } function ei() { this._call = this._time = this._next = null } function ri(t, n, e) { var r = new ei; return r.restart(t, n, e), r } function ii() { ti(), ++Gr; for (var t, n = Hr; n;)(t = Zr - n._time) >= 0 && n._call.call(null, t), n = n._next; --Gr } function oi() { Zr = (Wr = Qr.now()) + Kr, Gr = Vr = 0; try { ii() } finally { Gr = 0, function () { var t, n, e = Hr, r = 1 / 0; for (; e;)e._call ? (r > e._time && (r = e._time), t = e, e = e._next) : (n = e._next, e._next = null, e = t ? t._next = n : Hr = n); Xr = t, ui(r) }(), Zr = 0 } } function ai() { var t = Qr.now(), n = t - Wr; n > 1e3 && (Kr -= n, Wr = t) } function ui(t) { Gr || (Vr && (Vr = clearTimeout(Vr)), t - Zr > 24 ? (t < 1 / 0 && (Vr = setTimeout(oi, t - Qr.now() - Kr)), $r && ($r = clearInterval($r))) : ($r || (Wr = Qr.now(), $r = setInterval(ai, 1e3)), Gr = 1, Jr(oi))) } function ci(t, n, e) { var r = new ei; return n = null == n ? 0 : +n, r.restart((e => { r.stop(), t(e + n) }), n, e), r } ei.prototype = ri.prototype = { constructor: ei, restart: function (t, n, e) { if ("function" != typeof t) throw new TypeError("callback is not a function"); e = (null == e ? ti() : +e) + (null == n ? 0 : +n), this._next || Xr === this || (Xr ? Xr._next = this : Hr = this, Xr = this), this._call = t, this._time = e, ui() }, stop: function () { this._call && (this._call = null, this._time = 1 / 0, ui()) } }; var fi = pt("start", "end", "cancel", "interrupt"), si = []; function li(t, n, e, r, i, o) { var a = t.__transition; if (a) { if (e in a) return } else t.__transition = {}; !function (t, n, e) { var r, i = t.__transition; function o(t) { e.state = 1, e.timer.restart(a, e.delay, e.time), e.delay <= t && a(t - e.delay) } function a(o) { var f, s, l, h; if (1 !== e.state) return c(); for (f in i) if ((h = i[f]).name === e.name) { if (3 === h.state) return ci(a); 4 === h.state ? (h.state = 6, h.timer.stop(), h.on.call("interrupt", t, t.__data__, h.index, h.group), delete i[f]) : +f < n && (h.state = 6, h.timer.stop(), h.on.call("cancel", t, t.__data__, h.index, h.group), delete i[f]) } if (ci((function () { 3 === e.state && (e.state = 4, e.timer.restart(u, e.delay, e.time), u(o)) })), e.state = 2, e.on.call("start", t, t.__data__, e.index, e.group), 2 === e.state) { for (e.state = 3, r = new Array(l = e.tween.length), f = 0, s = -1; f < l; ++f)(h = e.tween[f].value.call(t, t.__data__, e.index, e.group)) && (r[++s] = h); r.length = s + 1 } } function u(n) { for (var i = n < e.duration ? e.ease.call(null, n / e.duration) : (e.timer.restart(c), e.state = 5, 1), o = -1, a = r.length; ++o < a;)r[o].call(t, i); 5 === e.state && (e.on.call("end", t, t.__data__, e.index, e.group), c()) } function c() { for (var r in e.state = 6, e.timer.stop(), delete i[n], i) return; delete t.__transition } i[n] = e, e.timer = ri(o, 0, e.time) }(t, e, { name: n, index: r, group: i, on: fi, tween: si, time: o.time, delay: o.delay, duration: o.duration, ease: o.ease, timer: null, state: 0 }) } function hi(t, n) { var e = pi(t, n); if (e.state > 0) throw new Error("too late; already scheduled"); return e } function di(t, n) { var e = pi(t, n); if (e.state > 3) throw new Error("too late; already running"); return e } function pi(t, n) { var e = t.__transition; if (!e || !(e = e[n])) throw new Error("transition not found"); return e } function gi(t, n) { var e, r, i, o = t.__transition, a = !0; if (o) { for (i in n = null == n ? null : n + "", o) (e = o[i]).name === n ? (r = e.state > 2 && e.state < 5, e.state = 6, e.timer.stop(), e.on.call(r ? "interrupt" : "cancel", t, t.__data__, e.index, e.group), delete o[i]) : a = !1; a && delete t.__transition } } function yi(t, n) { var e, r; return function () { var i = di(this, t), o = i.tween; if (o !== e) for (var a = 0, u = (r = e = o).length; a < u; ++a)if (r[a].name === n) { (r = r.slice()).splice(a, 1); break } i.tween = r } } function vi(t, n, e) { var r, i; if ("function" != typeof e) throw new Error; return function () { var o = di(this, t), a = o.tween; if (a !== r) { i = (r = a).slice(); for (var u = { name: n, value: e }, c = 0, f = i.length; c < f; ++c)if (i[c].name === n) { i[c] = u; break } c === f && i.push(u) } o.tween = i } } function _i(t, n, e) { var r = t._id; return t.each((function () { var t = di(this, r); (t.value || (t.value = {}))[n] = e.apply(this, arguments) })), function (t) { return pi(t, r).value[n] } } function bi(t, n) { var e; return ("number" == typeof n ? _r : n instanceof de ? sr : (e = de(n)) ? (n = e, sr) : wr)(t, n) } function mi(t) { return function () { this.removeAttribute(t) } } function xi(t) { return function () { this.removeAttributeNS(t.space, t.local) } } function wi(t, n, e) { var r, i, o = e + ""; return function () { var a = this.getAttribute(t); return a === o ? null : a === r ? i : i = n(r = a, e) } } function Mi(t, n, e) { var r, i, o = e + ""; return function () { var a = this.getAttributeNS(t.space, t.local); return a === o ? null : a === r ? i : i = n(r = a, e) } } function Ai(t, n, e) { var r, i, o; return function () { var a, u, c = e(this); if (null != c) return (a = this.getAttribute(t)) === (u = c + "") ? null : a === r && u === i ? o : (i = u, o = n(r = a, c)); this.removeAttribute(t) } } function Ti(t, n, e) { var r, i, o; return function () { var a, u, c = e(this); if (null != c) return (a = this.getAttributeNS(t.space, t.local)) === (u = c + "") ? null : a === r && u === i ? o : (i = u, o = n(r = a, c)); this.removeAttributeNS(t.space, t.local) } } function Si(t, n) { return function (e) { this.setAttribute(t, n.call(this, e)) } } function Ei(t, n) { return function (e) { this.setAttributeNS(t.space, t.local, n.call(this, e)) } } function ki(t, n) { var e, r; function i() { var i = n.apply(this, arguments); return i !== r && (e = (r = i) && Ei(t, i)), e } return i._value = n, i } function Ni(t, n) { var e, r; function i() { var i = n.apply(this, arguments); return i !== r && (e = (r = i) && Si(t, i)), e } return i._value = n, i } function Ci(t, n) { return function () { hi(this, t).delay = +n.apply(this, arguments) } } function Pi(t, n) { return n = +n, function () { hi(this, t).delay = n } } function zi(t, n) { return function () { di(this, t).duration = +n.apply(this, arguments) } } function Di(t, n) { return n = +n, function () { di(this, t).duration = n } } function qi(t, n) { if ("function" != typeof n) throw new Error; return function () { di(this, t).ease = n } } function Ri(t, n, e) { var r, i, o = function (t) { return (t + "").trim().split(/^|\s+/).every((function (t) { var n = t.indexOf("."); return n >= 0 && (t = t.slice(0, n)), !t || "start" === t })) }(n) ? hi : di; return function () { var a = o(this, t), u = a.on; u !== r && (i = (r = u).copy()).on(n, e), a.on = i } } var Fi = zn.prototype.constructor; function Oi(t) { return function () { this.style.removeProperty(t) } } function Ii(t, n, e) { return function (r) { this.style.setProperty(t, n.call(this, r), e) } } function Ui(t, n, e) { var r, i; function o() { var o = n.apply(this, arguments); return o !== i && (r = (i = o) && Ii(t, o, e)), r } return o._value = n, o } function Bi(t) { return function (n) { this.textContent = t.call(this, n) } } function Yi(t) { var n, e; function r() { var r = t.apply(this, arguments); return r !== e && (n = (e = r) && Bi(r)), n } return r._value = t, r } var Li = 0; function ji(t, n, e, r) { this._groups = t, this._parents = n, this._name = e, this._id = r } function Hi(t) { return zn().transition(t) } function Xi() { return ++Li } var Gi = zn.prototype; ji.prototype = Hi.prototype = { constructor: ji, select: function (t) { var n = this._name, e = this._id; "function" != typeof t && (t = St(t)); for (var r = this._groups, i = r.length, o = new Array(i), a = 0; a < i; ++a)for (var u, c, f = r[a], s = f.length, l = o[a] = new Array(s), h = 0; h < s; ++h)(u = f[h]) && (c = t.call(u, u.__data__, h, f)) && ("__data__" in u && (c.__data__ = u.__data__), l[h] = c, li(l[h], n, e, h, l, pi(u, e))); return new ji(o, this._parents, n, e) }, selectAll: function (t) { var n = this._name, e = this._id; "function" != typeof t && (t = Nt(t)); for (var r = this._groups, i = r.length, o = [], a = [], u = 0; u < i; ++u)for (var c, f = r[u], s = f.length, l = 0; l < s; ++l)if (c = f[l]) { for (var h, d = t.call(c, c.__data__, l, f), p = pi(c, e), g = 0, y = d.length; g < y; ++g)(h = d[g]) && li(h, n, e, g, d, p); o.push(d), a.push(c) } return new ji(o, a, n, e) }, filter: function (t) { "function" != typeof t && (t = Ct(t)); for (var n = this._groups, e = n.length, r = new Array(e), i = 0; i < e; ++i)for (var o, a = n[i], u = a.length, c = r[i] = [], f = 0; f < u; ++f)(o = a[f]) && t.call(o, o.__data__, f, a) && c.push(o); return new ji(r, this._parents, this._name, this._id) }, merge: function (t) { if (t._id !== this._id) throw new Error; for (var n = this._groups, e = t._groups, r = n.length, i = e.length, o = Math.min(r, i), a = new Array(r), u = 0; u < o; ++u)for (var c, f = n[u], s = e[u], l = f.length, h = a[u] = new Array(l), d = 0; d < l; ++d)(c = f[d] || s[d]) && (h[d] = c); for (; u < r; ++u)a[u] = n[u]; return new ji(a, this._parents, this._name, this._id) }, selection: function () { return new Fi(this._groups, this._parents) }, transition: function () { for (var t = this._name, n = this._id, e = Xi(), r = this._groups, i = r.length, o = 0; o < i; ++o)for (var a, u = r[o], c = u.length, f = 0; f < c; ++f)if (a = u[f]) { var s = pi(a, n); li(a, t, e, f, u, { time: s.time + s.delay + s.duration, delay: 0, duration: s.duration, ease: s.ease }) } return new ji(r, this._parents, t, e) }, call: Gi.call, nodes: Gi.nodes, node: Gi.node, size: Gi.size, empty: Gi.empty, each: Gi.each, on: function (t, n) { var e = this._id; return arguments.length < 2 ? pi(this.node(), e).on.on(t) : this.each(Ri(e, t, n)) }, attr: function (t, n) { var e = xt(t), r = "transform" === e ? Pr : bi; return this.attrTween(t, "function" == typeof n ? (e.local ? Ti : Ai)(e, r, _i(this, "attr." + t, n)) : null == n ? (e.local ? xi : mi)(e) : (e.local ? Mi : wi)(e, r, n)) }, attrTween: function (t, n) { var e = "attr." + t; if (arguments.length < 2) return (e = this.tween(e)) && e._value; if (null == n) return this.tween(e, null); if ("function" != typeof n) throw new Error; var r = xt(t); return this.tween(e, (r.local ? ki : Ni)(r, n)) }, style: function (t, n, e) { var r = "transform" == (t += "") ? Cr : bi; return null == n ? this.styleTween(t, function (t, n) { var e, r, i; return function () { var o = Jt(this, t), a = (this.style.removeProperty(t), Jt(this, t)); return o === a ? null : o === e && a === r ? i : i = n(e = o, r = a) } }(t, r)).on("end.style." + t, Oi(t)) : "function" == typeof n ? this.styleTween(t, function (t, n, e) { var r, i, o; return function () { var a = Jt(this, t), u = e(this), c = u + ""; return null == u && (this.style.removeProperty(t), c = u = Jt(this, t)), a === c ? null : a === r && c === i ? o : (i = c, o = n(r = a, u)) } }(t, r, _i(this, "style." + t, n))).each(function (t, n) { var e, r, i, o, a = "style." + n, u = "end." + a; return function () { var c = di(this, t), f = c.on, s = null == c.value[a] ? o || (o = Oi(n)) : void 0; f === e && i === s || (r = (e = f).copy()).on(u, i = s), c.on = r } }(this._id, t)) : this.styleTween(t, function (t, n, e) { var r, i, o = e + ""; return function () { var a = Jt(this, t); return a === o ? null : a === r ? i : i = n(r = a, e) } }(t, r, n), e).on("end.style." + t, null) }, styleTween: function (t, n, e) { var r = "style." + (t += ""); if (arguments.length < 2) return (r = this.tween(r)) && r._value; if (null == n) return this.tween(r, null); if ("function" != typeof n) throw new Error; return this.tween(r, Ui(t, n, null == e ? "" : e)) }, text: function (t) { return this.tween("text", "function" == typeof t ? function (t) { return function () { var n = t(this); this.textContent = null == n ? "" : n } }(_i(this, "text", t)) : function (t) { return function () { this.textContent = t } }(null == t ? "" : t + "")) }, textTween: function (t) { var n = "text"; if (arguments.length < 1) return (n = this.tween(n)) && n._value; if (null == t) return this.tween(n, null); if ("function" != typeof t) throw new Error; return this.tween(n, Yi(t)) }, remove: function () { return this.on("end.remove", function (t) { return function () { var n = this.parentNode; for (var e in this.__transition) if (+e !== t) return; n && n.removeChild(this) } }(this._id)) }, tween: function (t, n) { var e = this._id; if (t += "", arguments.length < 2) { for (var r, i = pi(this.node(), e).tween, o = 0, a = i.length; o < a; ++o)if ((r = i[o]).name === t) return r.value; return null } return this.each((null == n ? yi : vi)(e, t, n)) }, delay: function (t) { var n = this._id; return arguments.length ? this.each(("function" == typeof t ? Ci : Pi)(n, t)) : pi(this.node(), n).delay }, duration: function (t) { var n = this._id; return arguments.length ? this.each(("function" == typeof t ? zi : Di)(n, t)) : pi(this.node(), n).duration }, ease: function (t) { var n = this._id; return arguments.length ? this.each(qi(n, t)) : pi(this.node(), n).ease }, easeVarying: function (t) { if ("function" != typeof t) throw new Error; return this.each(function (t, n) { return function () { var e = n.apply(this, arguments); if ("function" != typeof e) throw new Error; di(this, t).ease = e } }(this._id, t)) }, end: function () { var t, n, e = this, r = e._id, i = e.size(); return new Promise((function (o, a) { var u = { value: a }, c = { value: function () { 0 == --i && o() } }; e.each((function () { var e = di(this, r), i = e.on; i !== t && ((n = (t = i).copy())._.cancel.push(u), n._.interrupt.push(u), n._.end.push(c)), e.on = n })), 0 === i && o() })) }, [Symbol.iterator]: Gi[Symbol.iterator] }; function Vi(t) { return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2 } function $i(t) { return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2 } var Wi = function t(n) { function e(t) { return Math.pow(t, n) } return n = +n, e.exponent = t, e }(3), Zi = function t(n) { function e(t) { return 1 - Math.pow(1 - t, n) } return n = +n, e.exponent = t, e }(3), Ki = function t(n) { function e(t) { return ((t *= 2) <= 1 ? Math.pow(t, n) : 2 - Math.pow(2 - t, n)) / 2 } return n = +n, e.exponent = t, e }(3), Qi = Math.PI, Ji = Qi / 2; function to(t) { return (1 - Math.cos(Qi * t)) / 2 } function no(t) { return 1.0009775171065494 * (Math.pow(2, -10 * t) - .0009765625) } function eo(t) { return ((t *= 2) <= 1 ? no(1 - t) : 2 - no(t - 1)) / 2 } function ro(t) { return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2 } var io = 4 / 11, oo = 7.5625; function ao(t) { return (t = +t) < io ? oo * t * t : t < .7272727272727273 ? oo * (t -= .5454545454545454) * t + .75 : t < .9090909090909091 ? oo * (t -= .8181818181818182) * t + .9375 : oo * (t -= .9545454545454546) * t + .984375 } var uo = 1.70158, co = function t(n) { function e(t) { return (t = +t) * t * (n * (t - 1) + t) } return n = +n, e.overshoot = t, e }(uo), fo = function t(n) { function e(t) { return --t * t * ((t + 1) * n + t) + 1 } return n = +n, e.overshoot = t, e }(uo), so = function t(n) { function e(t) { return ((t *= 2) < 1 ? t * t * ((n + 1) * t - n) : (t -= 2) * t * ((n + 1) * t + n) + 2) / 2 } return n = +n, e.overshoot = t, e }(uo), lo = 2 * Math.PI, ho = function t(n, e) { var r = Math.asin(1 / (n = Math.max(1, n))) * (e /= lo); function i(t) { return n * no(- --t) * Math.sin((r - t) / e) } return i.amplitude = function (n) { return t(n, e * lo) }, i.period = function (e) { return t(n, e) }, i }(1, .3), po = function t(n, e) { var r = Math.asin(1 / (n = Math.max(1, n))) * (e /= lo); function i(t) { return 1 - n * no(t = +t) * Math.sin((t + r) / e) } return i.amplitude = function (n) { return t(n, e * lo) }, i.period = function (e) { return t(n, e) }, i }(1, .3), go = function t(n, e) { var r = Math.asin(1 / (n = Math.max(1, n))) * (e /= lo); function i(t) { return ((t = 2 * t - 1) < 0 ? n * no(-t) * Math.sin((r - t) / e) : 2 - n * no(t) * Math.sin((r + t) / e)) / 2 } return i.amplitude = function (n) { return t(n, e * lo) }, i.period = function (e) { return t(n, e) }, i }(1, .3), yo = { time: null, delay: 0, duration: 250, ease: $i }; function vo(t, n) { for (var e; !(e = t.__transition) || !(e = e[n]);)if (!(t = t.parentNode)) throw new Error(`transition ${n} not found`); return e } zn.prototype.interrupt = function (t) { return this.each((function () { gi(this, t) })) }, zn.prototype.transition = function (t) { var n, e; t instanceof ji ? (n = t._id, t = t._name) : (n = Xi(), (e = yo).time = ti(), t = null == t ? null : t + ""); for (var r = this._groups, i = r.length, o = 0; o < i; ++o)for (var a, u = r[o], c = u.length, f = 0; f < c; ++f)(a = u[f]) && li(a, t, n, f, u, e || vo(a, n)); return new ji(r, this._parents, t, n) }; var _o = [null]; var bo = t => () => t; function mo(t, { sourceEvent: n, target: e, selection: r, mode: i, dispatch: o }) { Object.defineProperties(this, { type: { value: t, enumerable: !0, configurable: !0 }, sourceEvent: { value: n, enumerable: !0, configurable: !0 }, target: { value: e, enumerable: !0, configurable: !0 }, selection: { value: r, enumerable: !0, configurable: !0 }, mode: { value: i, enumerable: !0, configurable: !0 }, _: { value: o } }) } function xo(t) { t.stopImmediatePropagation() } function wo(t) { t.preventDefault(), t.stopImmediatePropagation() } var Mo = { name: "drag" }, Ao = { name: "space" }, To = { name: "handle" }, So = { name: "center" }; const { abs: Eo, max: ko, min: No } = Math; function Co(t) { return [+t[0], +t[1]] } function Po(t) { return [Co(t[0]), Co(t[1])] } var zo = { name: "x", handles: ["w", "e"].map(Bo), input: function (t, n) { return null == t ? null : [[+t[0], n[0][1]], [+t[1], n[1][1]]] }, output: function (t) { return t && [t[0][0], t[1][0]] } }, Do = { name: "y", handles: ["n", "s"].map(Bo), input: function (t, n) { return null == t ? null : [[n[0][0], +t[0]], [n[1][0], +t[1]]] }, output: function (t) { return t && [t[0][1], t[1][1]] } }, qo = { name: "xy", handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(Bo), input: function (t) { return null == t ? null : Po(t) }, output: function (t) { return t } }, Ro = { overlay: "crosshair", selection: "move", n: "ns-resize", e: "ew-resize", s: "ns-resize", w: "ew-resize", nw: "nwse-resize", ne: "nesw-resize", se: "nwse-resize", sw: "nesw-resize" }, Fo = { e: "w", w: "e", nw: "ne", ne: "nw", se: "sw", sw: "se" }, Oo = { n: "s", s: "n", nw: "sw", ne: "se", se: "ne", sw: "nw" }, Io = { overlay: 1, selection: 1, n: null, e: 1, s: null, w: -1, nw: -1, ne: 1, se: 1, sw: -1 }, Uo = { overlay: 1, selection: 1, n: -1, e: null, s: 1, w: null, nw: -1, ne: -1, se: 1, sw: 1 }; function Bo(t) { return { type: t } } function Yo(t) { return !t.ctrlKey && !t.button } function Lo() { var t = this.ownerSVGElement || this; return t.hasAttribute("viewBox") ? [[(t = t.viewBox.baseVal).x, t.y], [t.x + t.width, t.y + t.height]] : [[0, 0], [t.width.baseVal.value, t.height.baseVal.value]] } function jo() { return navigator.maxTouchPoints || "ontouchstart" in this } function Ho(t) { for (; !t.__brush;)if (!(t = t.parentNode)) return; return t.__brush } function Xo(t) { return t[0][0] === t[1][0] || t[0][1] === t[1][1] } function Go(t) { var n, e = Lo, r = Yo, i = jo, o = !0, a = pt("start", "brush", "end"), u = 6; function c(n) { var e = n.property("__brush", g).selectAll(".overlay").data([Bo("overlay")]); e.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", Ro.overlay).merge(e).each((function () { var t = Ho(this).extent; Dn(this).attr("x", t[0][0]).attr("y", t[0][1]).attr("width", t[1][0] - t[0][0]).attr("height", t[1][1] - t[0][1]) })), n.selectAll(".selection").data([Bo("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", Ro.selection).attr("fill", "#777").attr("fill-opacity", .3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges"); var r = n.selectAll(".handle").data(t.handles, (function (t) { return t.type })); r.exit().remove(), r.enter().append("rect").attr("class", (function (t) { return "handle handle--" + t.type })).attr("cursor", (function (t) { return Ro[t.type] })), n.each(f).attr("fill", "none").attr("pointer-events", "all").on("mousedown.brush", h).filter(i).on("touchstart.brush", h).on("touchmove.brush", d).on("touchend.brush touchcancel.brush", p).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)") } function f() { var t = Dn(this), n = Ho(this).selection; n ? (t.selectAll(".selection").style("display", null).attr("x", n[0][0]).attr("y", n[0][1]).attr("width", n[1][0] - n[0][0]).attr("height", n[1][1] - n[0][1]), t.selectAll(".handle").style("display", null).attr("x", (function (t) { return "e" === t.type[t.type.length - 1] ? n[1][0] - u / 2 : n[0][0] - u / 2 })).attr("y", (function (t) { return "s" === t.type[0] ? n[1][1] - u / 2 : n[0][1] - u / 2 })).attr("width", (function (t) { return "n" === t.type || "s" === t.type ? n[1][0] - n[0][0] + u : u })).attr("height", (function (t) { return "e" === t.type || "w" === t.type ? n[1][1] - n[0][1] + u : u }))) : t.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null) } function s(t, n, e) { var r = t.__brush.emitter; return !r || e && r.clean ? new l(t, n, e) : r } function l(t, n, e) { this.that = t, this.args = n, this.state = t.__brush, this.active = 0, this.clean = e } function h(e) { if ((!n || e.touches) && r.apply(this, arguments)) { var i, a, u, c, l, h, d, p, g, y, v, _ = this, b = e.target.__data__.type, m = "selection" === (o && e.metaKey ? b = "overlay" : b) ? Mo : o && e.altKey ? So : To, x = t === Do ? null : Io[b], w = t === zo ? null : Uo[b], M = Ho(_), A = M.extent, T = M.selection, S = A[0][0], E = A[0][1], k = A[1][0], N = A[1][1], C = 0, P = 0, z = x && w && o && e.shiftKey, D = Array.from(e.touches || [e], (t => { const n = t.identifier; return (t = In(t, _)).point0 = t.slice(), t.identifier = n, t })); if ("overlay" === b) { T && (g = !0); const n = [D[0], D[1] || D[0]]; M.selection = T = [[i = t === Do ? S : No(n[0][0], n[1][0]), u = t === zo ? E : No(n[0][1], n[1][1])], [l = t === Do ? k : ko(n[0][0], n[1][0]), d = t === zo ? N : ko(n[0][1], n[1][1])]], D.length > 1 && U() } else i = T[0][0], u = T[0][1], l = T[1][0], d = T[1][1]; a = i, c = u, h = l, p = d; var q = Dn(_).attr("pointer-events", "none"), R = q.selectAll(".overlay").attr("cursor", Ro[b]); gi(_); var F = s(_, arguments, !0).beforestart(); if (e.touches) F.moved = I, F.ended = B; else { var O = Dn(e.view).on("mousemove.brush", I, !0).on("mouseup.brush", B, !0); o && O.on("keydown.brush", Y, !0).on("keyup.brush", L, !0), Yn(e.view) } f.call(_), F.start(e, m.name) } function I(t) { for (const n of t.changedTouches || [t]) for (const t of D) t.identifier === n.identifier && (t.cur = In(n, _)); if (z && !y && !v && 1 === D.length) { const t = D[0]; Eo(t.cur[0] - t[0]) > Eo(t.cur[1] - t[1]) ? v = !0 : y = !0 } for (const t of D) t.cur && (t[0] = t.cur[0], t[1] = t.cur[1]); g = !0, wo(t), U(t) } function U(t) { const n = D[0], e = n.point0; var r; switch (C = n[0] - e[0], P = n[1] - e[1], m) { case Ao: case Mo: x && (C = ko(S - i, No(k - l, C)), a = i + C, h = l + C), w && (P = ko(E - u, No(N - d, P)), c = u + P, p = d + P); break; case To: D[1] ? (x && (a = ko(S, No(k, D[0][0])), h = ko(S, No(k, D[1][0])), x = 1), w && (c = ko(E, No(N, D[0][1])), p = ko(E, No(N, D[1][1])), w = 1)) : (x < 0 ? (C = ko(S - i, No(k - i, C)), a = i + C, h = l) : x > 0 && (C = ko(S - l, No(k - l, C)), a = i, h = l + C), w < 0 ? (P = ko(E - u, No(N - u, P)), c = u + P, p = d) : w > 0 && (P = ko(E - d, No(N - d, P)), c = u, p = d + P)); break; case So: x && (a = ko(S, No(k, i - C * x)), h = ko(S, No(k, l + C * x))), w && (c = ko(E, No(N, u - P * w)), p = ko(E, No(N, d + P * w))) }h < a && (x *= -1, r = i, i = l, l = r, r = a, a = h, h = r, b in Fo && R.attr("cursor", Ro[b = Fo[b]])), p < c && (w *= -1, r = u, u = d, d = r, r = c, c = p, p = r, b in Oo && R.attr("cursor", Ro[b = Oo[b]])), M.selection && (T = M.selection), y && (a = T[0][0], h = T[1][0]), v && (c = T[0][1], p = T[1][1]), T[0][0] === a && T[0][1] === c && T[1][0] === h && T[1][1] === p || (M.selection = [[a, c], [h, p]], f.call(_), F.brush(t, m.name)) } function B(t) { if (xo(t), t.touches) { if (t.touches.length) return; n && clearTimeout(n), n = setTimeout((function () { n = null }), 500) } else Ln(t.view, g), O.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null); q.attr("pointer-events", "all"), R.attr("cursor", Ro.overlay), M.selection && (T = M.selection), Xo(T) && (M.selection = null, f.call(_)), F.end(t, m.name) } function Y(t) { switch (t.keyCode) { case 16: z = x && w; break; case 18: m === To && (x && (l = h - C * x, i = a + C * x), w && (d = p - P * w, u = c + P * w), m = So, U()); break; case 32: m !== To && m !== So || (x < 0 ? l = h - C : x > 0 && (i = a - C), w < 0 ? d = p - P : w > 0 && (u = c - P), m = Ao, R.attr("cursor", Ro.selection), U()); break; default: return }wo(t) } function L(t) { switch (t.keyCode) { case 16: z && (y = v = z = !1, U()); break; case 18: m === So && (x < 0 ? l = h : x > 0 && (i = a), w < 0 ? d = p : w > 0 && (u = c), m = To, U()); break; case 32: m === Ao && (t.altKey ? (x && (l = h - C * x, i = a + C * x), w && (d = p - P * w, u = c + P * w), m = So) : (x < 0 ? l = h : x > 0 && (i = a), w < 0 ? d = p : w > 0 && (u = c), m = To), R.attr("cursor", Ro[b]), U()); break; default: return }wo(t) } } function d(t) { s(this, arguments).moved(t) } function p(t) { s(this, arguments).ended(t) } function g() { var n = this.__brush || { selection: null }; return n.extent = Po(e.apply(this, arguments)), n.dim = t, n } return c.move = function (n, e) { n.tween ? n.on("start.brush", (function (t) { s(this, arguments).beforestart().start(t) })).on("interrupt.brush end.brush", (function (t) { s(this, arguments).end(t) })).tween("brush", (function () { var n = this, r = n.__brush, i = s(n, arguments), o = r.selection, a = t.input("function" == typeof e ? e.apply(this, arguments) : e, r.extent), u = Mr(o, a); function c(t) { r.selection = 1 === t && null === a ? null : u(t), f.call(n), i.brush() } return null !== o && null !== a ? c : c(1) })) : n.each((function () { var n = this, r = arguments, i = n.__brush, o = t.input("function" == typeof e ? e.apply(n, r) : e, i.extent), a = s(n, r).beforestart(); gi(n), i.selection = null === o ? null : o, f.call(n), a.start().brush().end() })) }, c.clear = function (t) { c.move(t, null) }, l.prototype = { beforestart: function () { return 1 == ++this.active && (this.state.emitter = this, this.starting = !0), this }, start: function (t, n) { return this.starting ? (this.starting = !1, this.emit("start", t, n)) : this.emit("brush", t), this }, brush: function (t, n) { return this.emit("brush", t, n), this }, end: function (t, n) { return 0 == --this.active && (delete this.state.emitter, this.emit("end", t, n)), this }, emit: function (n, e, r) { var i = Dn(this.that).datum(); a.call(n, this.that, new mo(n, { sourceEvent: e, target: c, selection: t.output(this.state.selection), mode: r, dispatch: a }), i) } }, c.extent = function (t) { return arguments.length ? (e = "function" == typeof t ? t : bo(Po(t)), c) : e }, c.filter = function (t) { return arguments.length ? (r = "function" == typeof t ? t : bo(!!t), c) : r }, c.touchable = function (t) { return arguments.length ? (i = "function" == typeof t ? t : bo(!!t), c) : i }, c.handleSize = function (t) { return arguments.length ? (u = +t, c) : u }, c.keyModifiers = function (t) { return arguments.length ? (o = !!t, c) : o }, c.on = function () { var t = a.on.apply(a, arguments); return t === a ? c : t }, c } var Vo = Math.abs, $o = Math.cos, Wo = Math.sin, Zo = Math.PI, Ko = Zo / 2, Qo = 2 * Zo, Jo = Math.max, ta = 1e-12; function na(t, n) { return Array.from({ length: n - t }, ((n, e) => t + e)) } function ea(t) { return function (n, e) { return t(n.source.value + n.target.value, e.source.value + e.target.value) } } function ra(t, n) { var e = 0, r = null, i = null, o = null; function a(a) { var u, c = a.length, f = new Array(c), s = na(0, c), l = new Array(c * c), h = new Array(c), d = 0; a = Float64Array.from({ length: c * c }, n ? (t, n) => a[n % c][n / c | 0] : (t, n) => a[n / c | 0][n % c]); for (let n = 0; n < c; ++n) { let e = 0; for (let r = 0; r < c; ++r)e += a[n * c + r] + t * a[r * c + n]; d += f[n] = e } u = (d = Jo(0, Qo - e * c) / d) ? e : Qo / c; { let n = 0; r && s.sort(((t, n) => r(f[t], f[n]))); for (const e of s) { const r = n; if (t) { const t = na(1 + ~c, c).filter((t => t < 0 ? a[~t * c + e] : a[e * c + t])); i && t.sort(((t, n) => i(t < 0 ? -a[~t * c + e] : a[e * c + t], n < 0 ? -a[~n * c + e] : a[e * c + n]))); for (const r of t) if (r < 0) { (l[~r * c + e] || (l[~r * c + e] = { source: null, target: null })).target = { index: e, startAngle: n, endAngle: n += a[~r * c + e] * d, value: a[~r * c + e] } } else { (l[e * c + r] || (l[e * c + r] = { source: null, target: null })).source = { index: e, startAngle: n, endAngle: n += a[e * c + r] * d, value: a[e * c + r] } } h[e] = { index: e, startAngle: r, endAngle: n, value: f[e] } } else { const t = na(0, c).filter((t => a[e * c + t] || a[t * c + e])); i && t.sort(((t, n) => i(a[e * c + t], a[e * c + n]))); for (const r of t) { let t; if (e < r ? (t = l[e * c + r] || (l[e * c + r] = { source: null, target: null }), t.source = { index: e, startAngle: n, endAngle: n += a[e * c + r] * d, value: a[e * c + r] }) : (t = l[r * c + e] || (l[r * c + e] = { source: null, target: null }), t.target = { index: e, startAngle: n, endAngle: n += a[e * c + r] * d, value: a[e * c + r] }, e === r && (t.source = t.target)), t.source && t.target && t.source.value < t.target.value) { const n = t.source; t.source = t.target, t.target = n } } h[e] = { index: e, startAngle: r, endAngle: n, value: f[e] } } n += u } } return (l = Object.values(l)).groups = h, o ? l.sort(o) : l } return a.padAngle = function (t) { return arguments.length ? (e = Jo(0, t), a) : e }, a.sortGroups = function (t) { return arguments.length ? (r = t, a) : r }, a.sortSubgroups = function (t) { return arguments.length ? (i = t, a) : i }, a.sortChords = function (t) { return arguments.length ? (null == t ? o = null : (o = ea(t))._ = t, a) : o && o._ }, a } const ia = Math.PI, oa = 2 * ia, aa = 1e-6, ua = oa - aa; function ca() { this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "" } function fa() { return new ca } ca.prototype = fa.prototype = { constructor: ca, moveTo: function (t, n) { this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +n) }, closePath: function () { null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z") }, lineTo: function (t, n) { this._ += "L" + (this._x1 = +t) + "," + (this._y1 = +n) }, quadraticCurveTo: function (t, n, e, r) { this._ += "Q" + +t + "," + +n + "," + (this._x1 = +e) + "," + (this._y1 = +r) }, bezierCurveTo: function (t, n, e, r, i, o) { this._ += "C" + +t + "," + +n + "," + +e + "," + +r + "," + (this._x1 = +i) + "," + (this._y1 = +o) }, arcTo: function (t, n, e, r, i) { t = +t, n = +n, e = +e, r = +r, i = +i; var o = this._x1, a = this._y1, u = e - t, c = r - n, f = o - t, s = a - n, l = f * f + s * s; if (i < 0) throw new Error("negative radius: " + i); if (null === this._x1) this._ += "M" + (this._x1 = t) + "," + (this._y1 = n); else if (l > aa) if (Math.abs(s * u - c * f) > aa && i) { var h = e - o, d = r - a, p = u * u + c * c, g = h * h + d * d, y = Math.sqrt(p), v = Math.sqrt(l), _ = i * Math.tan((ia - Math.acos((p + l - g) / (2 * y * v))) / 2), b = _ / v, m = _ / y; Math.abs(b - 1) > aa && (this._ += "L" + (t + b * f) + "," + (n + b * s)), this._ += "A" + i + "," + i + ",0,0," + +(s * h > f * d) + "," + (this._x1 = t + m * u) + "," + (this._y1 = n + m * c) } else this._ += "L" + (this._x1 = t) + "," + (this._y1 = n); else; }, arc: function (t, n, e, r, i, o) { t = +t, n = +n, o = !!o; var a = (e = +e) * Math.cos(r), u = e * Math.sin(r), c = t + a, f = n + u, s = 1 ^ o, l = o ? r - i : i - r; if (e < 0) throw new Error("negative radius: " + e); null === this._x1 ? this._ += "M" + c + "," + f : (Math.abs(this._x1 - c) > aa || Math.abs(this._y1 - f) > aa) && (this._ += "L" + c + "," + f), e && (l < 0 && (l = l % oa + oa), l > ua ? this._ += "A" + e + "," + e + ",0,1," + s + "," + (t - a) + "," + (n - u) + "A" + e + "," + e + ",0,1," + s + "," + (this._x1 = c) + "," + (this._y1 = f) : l > aa && (this._ += "A" + e + "," + e + ",0," + +(l >= ia) + "," + s + "," + (this._x1 = t + e * Math.cos(i)) + "," + (this._y1 = n + e * Math.sin(i)))) }, rect: function (t, n, e, r) { this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +n) + "h" + +e + "v" + +r + "h" + -e + "Z" }, toString: function () { return this._ } }; var sa = Array.prototype.slice; function la(t) { return function () { return t } } function ha(t) { return t.source } function da(t) { return t.target } function pa(t) { return t.radius } function ga(t) { return t.startAngle } function ya(t) { return t.endAngle } function va() { return 0 } function _a() { return 10 } function ba(t) { var n = ha, e = da, r = pa, i = pa, o = ga, a = ya, u = va, c = null; function f() { var f, s = n.apply(this, arguments), l = e.apply(this, arguments), h = u.apply(this, arguments) / 2, d = sa.call(arguments), p = +r.apply(this, (d[0] = s, d)), g = o.apply(this, d) - Ko, y = a.apply(this, d) - Ko, v = +i.apply(this, (d[0] = l, d)), _ = o.apply(this, d) - Ko, b = a.apply(this, d) - Ko; if (c || (c = f = fa()), h > ta && (Vo(y - g) > 2 * h + ta ? y > g ? (g += h, y -= h) : (g -= h, y += h) : g = y = (g + y) / 2, Vo(b - _) > 2 * h + ta ? b > _ ? (_ += h, b -= h) : (_ -= h, b += h) : _ = b = (_ + b) / 2), c.moveTo(p * $o(g), p * Wo(g)), c.arc(0, 0, p, g, y), g !== _ || y !== b) if (t) { var m = +t.apply(this, arguments), x = v - m, w = (_ + b) / 2; c.quadraticCurveTo(0, 0, x * $o(_), x * Wo(_)), c.lineTo(v * $o(w), v * Wo(w)), c.lineTo(x * $o(b), x * Wo(b)) } else c.quadraticCurveTo(0, 0, v * $o(_), v * Wo(_)), c.arc(0, 0, v, _, b); if (c.quadraticCurveTo(0, 0, p * $o(g), p * Wo(g)), c.closePath(), f) return c = null, f + "" || null } return t && (f.headRadius = function (n) { return arguments.length ? (t = "function" == typeof n ? n : la(+n), f) : t }), f.radius = function (t) { return arguments.length ? (r = i = "function" == typeof t ? t : la(+t), f) : r }, f.sourceRadius = function (t) { return arguments.length ? (r = "function" == typeof t ? t : la(+t), f) : r }, f.targetRadius = function (t) { return arguments.length ? (i = "function" == typeof t ? t : la(+t), f) : i }, f.startAngle = function (t) { return arguments.length ? (o = "function" == typeof t ? t : la(+t), f) : o }, f.endAngle = function (t) { return arguments.length ? (a = "function" == typeof t ? t : la(+t), f) : a }, f.padAngle = function (t) { return arguments.length ? (u = "function" == typeof t ? t : la(+t), f) : u }, f.source = function (t) { return arguments.length ? (n = t, f) : n }, f.target = function (t) { return arguments.length ? (e = t, f) : e }, f.context = function (t) { return arguments.length ? (c = null == t ? null : t, f) : c }, f } var ma = Array.prototype.slice; function xa(t, n) { return t - n } var wa = t => () => t; function Ma(t, n) { for (var e, r = -1, i = n.length; ++r < i;)if (e = Aa(t, n[r])) return e; return 0 } function Aa(t, n) { for (var e = n[0], r = n[1], i = -1, o = 0, a = t.length, u = a - 1; o < a; u = o++) { var c = t[o], f = c[0], s = c[1], l = t[u], h = l[0], d = l[1]; if (Ta(c, l, n)) return 0; s > r != d > r && e < (h - f) * (r - s) / (d - s) + f && (i = -i) } return i } function Ta(t, n, e) { var r, i, o, a; return function (t, n, e) { return (n[0] - t[0]) * (e[1] - t[1]) == (e[0] - t[0]) * (n[1] - t[1]) }(t, n, e) && (i = t[r = +(t[0] === n[0])], o = e[r], a = n[r], i <= o && o <= a || a <= o && o <= i) } function Sa() { } var Ea = [[], [[[1, 1.5], [.5, 1]]], [[[1.5, 1], [1, 1.5]]], [[[1.5, 1], [.5, 1]]], [[[1, .5], [1.5, 1]]], [[[1, 1.5], [.5, 1]], [[1, .5], [1.5, 1]]], [[[1, .5], [1, 1.5]]], [[[1, .5], [.5, 1]]], [[[.5, 1], [1, .5]]], [[[1, 1.5], [1, .5]]], [[[.5, 1], [1, .5]], [[1.5, 1], [1, 1.5]]], [[[1.5, 1], [1, .5]]], [[[.5, 1], [1.5, 1]]], [[[1, 1.5], [1.5, 1]]], [[[.5, 1], [1, 1.5]]], []]; function ka() { var t = 1, n = 1, e = I, r = u; function i(t) { var n = e(t); if (Array.isArray(n)) n = n.slice().sort(xa); else { var r = p(t), i = r[0], a = r[1]; n = F(i, a, n), n = Z(Math.floor(i / n) * n, Math.floor(a / n) * n, n) } return n.map((function (n) { return o(t, n) })) } function o(e, i) { var o = [], u = []; return function (e, r, i) { var o, u, c, f, s, l, h = new Array, d = new Array; o = u = -1, f = e[0] >= r, Ea[f << 1].forEach(p); for (; ++o < t - 1;)c = f, f = e[o + 1] >= r, Ea[c | f << 1].forEach(p); Ea[f << 0].forEach(p); for (; ++u < n - 1;) { for (o = -1, f = e[u * t + t] >= r, s = e[u * t] >= r, Ea[f << 1 | s << 2].forEach(p); ++o < t - 1;)c = f, f = e[u * t + t + o + 1] >= r, l = s, s = e[u * t + o + 1] >= r, Ea[c | f << 1 | s << 2 | l << 3].forEach(p); Ea[f | s << 3].forEach(p) } o = -1, s = e[u * t] >= r, Ea[s << 2].forEach(p); for (; ++o < t - 1;)l = s, s = e[u * t + o + 1] >= r, Ea[s << 2 | l << 3].forEach(p); function p(t) { var n, e, r = [t[0][0] + o, t[0][1] + u], c = [t[1][0] + o, t[1][1] + u], f = a(r), s = a(c); (n = d[f]) ? (e = h[s]) ? (delete d[n.end], delete h[e.start], n === e ? (n.ring.push(c), i(n.ring)) : h[n.start] = d[e.end] = { start: n.start, end: e.end, ring: n.ring.concat(e.ring) }) : (delete d[n.end], n.ring.push(c), d[n.end = s] = n) : (n = h[s]) ? (e = d[f]) ? (delete h[n.start], delete d[e.end], n === e ? (n.ring.push(c), i(n.ring)) : h[e.start] = d[n.end] = { start: e.start, end: n.end, ring: e.ring.concat(n.ring) }) : (delete h[n.start], n.ring.unshift(r), h[n.start = f] = n) : h[f] = d[s] = { start: f, end: s, ring: [r, c] } } Ea[s << 3].forEach(p) }(e, i, (function (t) { r(t, e, i), function (t) { for (var n = 0, e = t.length, r = t[e - 1][1] * t[0][0] - t[e - 1][0] * t[0][1]; ++n < e;)r += t[n - 1][1] * t[n][0] - t[n - 1][0] * t[n][1]; return r }(t) > 0 ? o.push([t]) : u.push(t) })), u.forEach((function (t) { for (var n, e = 0, r = o.length; e < r; ++e)if (-1 !== Ma((n = o[e])[0], t)) return void n.push(t) })), { type: "MultiPolygon", value: i, coordinates: o } } function a(n) { return 2 * n[0] + n[1] * (t + 1) * 4 } function u(e, r, i) { e.forEach((function (e) { var o, a = e[0], u = e[1], c = 0 | a, f = 0 | u, s = r[f * t + c]; a > 0 && a < t && c === a && (o = r[f * t + c - 1], e[0] = a + (i - o) / (s - o) - .5), u > 0 && u < n && f === u && (o = r[(f - 1) * t + c], e[1] = u + (i - o) / (s - o) - .5) })) } return i.contour = o, i.size = function (e) { if (!arguments.length) return [t, n]; var r = Math.floor(e[0]), o = Math.floor(e[1]); if (!(r >= 0 && o >= 0)) throw new Error("invalid size"); return t = r, n = o, i }, i.thresholds = function (t) { return arguments.length ? (e = "function" == typeof t ? t : Array.isArray(t) ? wa(ma.call(t)) : wa(t), i) : e }, i.smooth = function (t) { return arguments.length ? (r = t ? u : Sa, i) : r === u }, i } function Na(t, n, e) { for (var r = t.width, i = t.height, o = 1 + (e << 1), a = 0; a < i; ++a)for (var u = 0, c = 0; u < r + e; ++u)u < r && (c += t.data[u + a * r]), u >= e && (u >= o && (c -= t.data[u - o + a * r]), n.data[u - e + a * r] = c / Math.min(u + 1, r - 1 + o - u, o)) } function Ca(t, n, e) { for (var r = t.width, i = t.height, o = 1 + (e << 1), a = 0; a < r; ++a)for (var u = 0, c = 0; u < i + e; ++u)u < i && (c += t.data[a + u * r]), u >= e && (u >= o && (c -= t.data[a + (u - o) * r]), n.data[a + (u - e) * r] = c / Math.min(u + 1, i - 1 + o - u, o)) } function Pa(t) { return t[0] } function za(t) { return t[1] } function Da() { return 1 } const qa = Math.pow(2, -52), Ra = new Uint32Array(512); class Fa { static from(t, n = Ha, e = Xa) { const r = t.length, i = new Float64Array(2 * r); for (let o = 0; o < r; o++) { const r = t[o]; i[2 * o] = n(r), i[2 * o + 1] = e(r) } return new Fa(i) } constructor(t) { const n = t.length >> 1; if (n > 0 && "number" != typeof t[0]) throw new Error("Expected coords to contain numbers."); this.coords = t; const e = Math.max(2 * n - 5, 0); this._triangles = new Uint32Array(3 * e), this._halfedges = new Int32Array(3 * e), this._hashSize = Math.ceil(Math.sqrt(n)), this._hullPrev = new Uint32Array(n), this._hullNext = new Uint32Array(n), this._hullTri = new Uint32Array(n), this._hullHash = new Int32Array(this._hashSize).fill(-1), this._ids = new Uint32Array(n), this._dists = new Float64Array(n), this.update() } update() { const { coords: t, _hullPrev: n, _hullNext: e, _hullTri: r, _hullHash: i } = this, o = t.length >> 1; let a = 1 / 0, u = 1 / 0, c = -1 / 0, f = -1 / 0; for (let n = 0; n < o; n++) { const e = t[2 * n], r = t[2 * n + 1]; e < a && (a = e), r < u && (u = r), e > c && (c = e), r > f && (f = r), this._ids[n] = n } const s = (a + c) / 2, l = (u + f) / 2; let h, d, p, g = 1 / 0; for (let n = 0; n < o; n++) { const e = Oa(s, l, t[2 * n], t[2 * n + 1]); e < g && (h = n, g = e) } const y = t[2 * h], v = t[2 * h + 1]; g = 1 / 0; for (let n = 0; n < o; n++) { if (n === h) continue; const e = Oa(y, v, t[2 * n], t[2 * n + 1]); e < g && e > 0 && (d = n, g = e) } let _ = t[2 * d], b = t[2 * d + 1], m = 1 / 0; for (let n = 0; n < o; n++) { if (n === h || n === d) continue; const e = Ya(y, v, _, b, t[2 * n], t[2 * n + 1]); e < m && (p = n, m = e) } let x = t[2 * p], w = t[2 * p + 1]; if (m === 1 / 0) { for (let n = 0; n < o; n++)this._dists[n] = t[2 * n] - t[0] || t[2 * n + 1] - t[1]; La(this._ids, this._dists, 0, o - 1); const n = new Uint32Array(o); let e = 0; for (let t = 0, r = -1 / 0; t < o; t++) { const i = this._ids[t]; this._dists[i] > r && (n[e++] = i, r = this._dists[i]) } return this.hull = n.subarray(0, e), this.triangles = new Uint32Array(0), void (this.halfedges = new Uint32Array(0)) } if (Ua(y, v, _, b, x, w)) { const t = d, n = _, e = b; d = p, _ = x, b = w, p = t, x = n, w = e } const M = function (t, n, e, r, i, o) { const a = e - t, u = r - n, c = i - t, f = o - n, s = a * a + u * u, l = c * c + f * f, h = .5 / (a * f - u * c); return { x: t + (f * s - u * l) * h, y: n + (a * l - c * s) * h } }(y, v, _, b, x, w); this._cx = M.x, this._cy = M.y; for (let n = 0; n < o; n++)this._dists[n] = Oa(t[2 * n], t[2 * n + 1], M.x, M.y); La(this._ids, this._dists, 0, o - 1), this._hullStart = h; let A = 3; e[h] = n[p] = d, e[d] = n[h] = p, e[p] = n[d] = h, r[h] = 0, r[d] = 1, r[p] = 2, i.fill(-1), i[this._hashKey(y, v)] = h, i[this._hashKey(_, b)] = d, i[this._hashKey(x, w)] = p, this.trianglesLen = 0, this._addTriangle(h, d, p, -1, -1, -1); for (let o, a, u = 0; u < this._ids.length; u++) { const c = this._ids[u], f = t[2 * c], s = t[2 * c + 1]; if (u > 0 && Math.abs(f - o) <= qa && Math.abs(s - a) <= qa) continue; if (o = f, a = s, c === h || c === d || c === p) continue; let l = 0; for (let t = 0, n = this._hashKey(f, s); t < this._hashSize && (l = i[(n + t) % this._hashSize], -1 === l || l === e[l]); t++); l = n[l]; let g, y = l; for (; g = e[y], !Ua(f, s, t[2 * y], t[2 * y + 1], t[2 * g], t[2 * g + 1]);)if (y = g, y === l) { y = -1; break } if (-1 === y) continue; let v = this._addTriangle(y, c, e[y], -1, -1, r[y]); r[c] = this._legalize(v + 2), r[y] = v, A++; let _ = e[y]; for (; g = e[_], Ua(f, s, t[2 * _], t[2 * _ + 1], t[2 * g], t[2 * g + 1]);)v = this._addTriangle(_, c, g, r[c], -1, r[_]), r[c] = this._legalize(v + 2), e[_] = _, A--, _ = g; if (y === l) for (; g = n[y], Ua(f, s, t[2 * g], t[2 * g + 1], t[2 * y], t[2 * y + 1]);)v = this._addTriangle(g, c, y, -1, r[y], r[g]), this._legalize(v + 2), r[g] = v, e[y] = y, A--, y = g; this._hullStart = n[c] = y, e[y] = n[_] = c, e[c] = _, i[this._hashKey(f, s)] = c, i[this._hashKey(t[2 * y], t[2 * y + 1])] = y } this.hull = new Uint32Array(A); for (let t = 0, n = this._hullStart; t < A; t++)this.hull[t] = n, n = e[n]; this.triangles = this._triangles.subarray(0, this.trianglesLen), this.halfedges = this._halfedges.subarray(0, this.trianglesLen) } _hashKey(t, n) { return Math.floor(function (t, n) { const e = t / (Math.abs(t) + Math.abs(n)); return (n > 0 ? 3 - e : 1 + e) / 4 }(t - this._cx, n - this._cy) * this._hashSize) % this._hashSize } _legalize(t) { const { _triangles: n, _halfedges: e, coords: r } = this; let i = 0, o = 0; for (; ;) { const a = e[t], u = t - t % 3; if (o = u + (t + 2) % 3, -1 === a) { if (0 === i) break; t = Ra[--i]; continue } const c = a - a % 3, f = u + (t + 1) % 3, s = c + (a + 2) % 3, l = n[o], h = n[t], d = n[f], p = n[s]; if (Ba(r[2 * l], r[2 * l + 1], r[2 * h], r[2 * h + 1], r[2 * d], r[2 * d + 1], r[2 * p], r[2 * p + 1])) { n[t] = p, n[a] = l; const r = e[s]; if (-1 === r) { let n = this._hullStart; do { if (this._hullTri[n] === s) { this._hullTri[n] = t; break } n = this._hullPrev[n] } while (n !== this._hullStart) } this._link(t, r), this._link(a, e[o]), this._link(o, s); const u = c + (a + 1) % 3; i < Ra.length && (Ra[i++] = u) } else { if (0 === i) break; t = Ra[--i] } } return o } _link(t, n) { this._halfedges[t] = n, -1 !== n && (this._halfedges[n] = t) } _addTriangle(t, n, e, r, i, o) { const a = this.trianglesLen; return this._triangles[a] = t, this._triangles[a + 1] = n, this._triangles[a + 2] = e, this._link(a, r), this._link(a + 1, i), this._link(a + 2, o), this.trianglesLen += 3, a } } function Oa(t, n, e, r) { const i = t - e, o = n - r; return i * i + o * o } function Ia(t, n, e, r, i, o) { const a = (r - n) * (i - t), u = (e - t) * (o - n); return Math.abs(a - u) >= 33306690738754716e-32 * Math.abs(a + u) ? a - u : 0 } function Ua(t, n, e, r, i, o) { return (Ia(i, o, t, n, e, r) || Ia(t, n, e, r, i, o) || Ia(e, r, i, o, t, n)) < 0 } function Ba(t, n, e, r, i, o, a, u) { const c = t - a, f = n - u, s = e - a, l = r - u, h = i - a, d = o - u, p = s * s + l * l, g = h * h + d * d; return c * (l * g - p * d) - f * (s * g - p * h) + (c * c + f * f) * (s * d - l * h) < 0 } function Ya(t, n, e, r, i, o) { const a = e - t, u = r - n, c = i - t, f = o - n, s = a * a + u * u, l = c * c + f * f, h = .5 / (a * f - u * c), d = (f * s - u * l) * h, p = (a * l - c * s) * h; return d * d + p * p } function La(t, n, e, r) { if (r - e <= 20) for (let i = e + 1; i <= r; i++) { const r = t[i], o = n[r]; let a = i - 1; for (; a >= e && n[t[a]] > o;)t[a + 1] = t[a--]; t[a + 1] = r } else { let i = e + 1, o = r; ja(t, e + r >> 1, i), n[t[e]] > n[t[r]] && ja(t, e, r), n[t[i]] > n[t[r]] && ja(t, i, r), n[t[e]] > n[t[i]] && ja(t, e, i); const a = t[i], u = n[a]; for (; ;) { do { i++ } while (n[t[i]] < u); do { o-- } while (n[t[o]] > u); if (o < i) break; ja(t, i, o) } t[e + 1] = t[o], t[o] = a, r - i + 1 >= o - e ? (La(t, n, i, r), La(t, n, e, o - 1)) : (La(t, n, e, o - 1), La(t, n, i, r)) } } function ja(t, n, e) { const r = t[n]; t[n] = t[e], t[e] = r } function Ha(t) { return t[0] } function Xa(t) { return t[1] } const Ga = 1e-6; class Va { constructor() { this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "" } moveTo(t, n) { this._ += `M${this._x0 = this._x1 = +t},${this._y0 = this._y1 = +n}` } closePath() { null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z") } lineTo(t, n) { this._ += `L${this._x1 = +t},${this._y1 = +n}` } arc(t, n, e) { const r = (t = +t) + (e = +e), i = n = +n; if (e < 0) throw new Error("negative radius"); null === this._x1 ? this._ += `M${r},${i}` : (Math.abs(this._x1 - r) > Ga || Math.abs(this._y1 - i) > Ga) && (this._ += "L" + r + "," + i), e && (this._ += `A${e},${e},0,1,1,${t - e},${n}A${e},${e},0,1,1,${this._x1 = r},${this._y1 = i}`) } rect(t, n, e, r) { this._ += `M${this._x0 = this._x1 = +t},${this._y0 = this._y1 = +n}h${+e}v${+r}h${-e}Z` } value() { return this._ || null } } class $a { constructor() { this._ = [] } moveTo(t, n) { this._.push([t, n]) } closePath() { this._.push(this._[0].slice()) } lineTo(t, n) { this._.push([t, n]) } value() { return this._.length ? this._ : null } } class Wa { constructor(t, [n, e, r, i] = [0, 0, 960, 500]) { if (!((r = +r) >= (n = +n) && (i = +i) >= (e = +e))) throw new Error("invalid bounds"); this.delaunay = t, this._circumcenters = new Float64Array(2 * t.points.length), this.vectors = new Float64Array(2 * t.points.length), this.xmax = r, this.xmin = n, this.ymax = i, this.ymin = e, this._init() } update() { return this.delaunay.update(), this._init(), this } _init() { const { delaunay: { points: t, hull: n, triangles: e }, vectors: r } = this, i = this.circumcenters = this._circumcenters.subarray(0, e.length / 3 * 2); for (let n, r, o = 0, a = 0, u = e.length; o < u; o += 3, a += 2) { const u = 2 * e[o], c = 2 * e[o + 1], f = 2 * e[o + 2], s = t[u], l = t[u + 1], h = t[c], d = t[c + 1], p = t[f], g = t[f + 1], y = h - s, v = d - l, _ = p - s, b = g - l, m = y * y + v * v, x = _ * _ + b * b, w = 2 * (y * b - v * _); if (w) if (Math.abs(w) < 1e-8) n = (s + p) / 2, r = (l + g) / 2; else { const t = 1 / w; n = s + (b * m - v * x) * t, r = l + (y * x - _ * m) * t } else n = (s + p) / 2 - 1e8 * b, r = (l + g) / 2 + 1e8 * _; i[a] = n, i[a + 1] = r } let o, a, u, c = n[n.length - 1], f = 4 * c, s = t[2 * c], l = t[2 * c + 1]; r.fill(0); for (let e = 0; e < n.length; ++e)c = n[e], o = f, a = s, u = l, f = 4 * c, s = t[2 * c], l = t[2 * c + 1], r[o + 2] = r[f] = u - l, r[o + 3] = r[f + 1] = s - a } render(t) { const n = null == t ? t = new Va : void 0, { delaunay: { halfedges: e, inedges: r, hull: i }, circumcenters: o, vectors: a } = this; if (i.length <= 1) return null; for (let n = 0, r = e.length; n < r; ++n) { const r = e[n]; if (r < n) continue; const i = 2 * Math.floor(n / 3), a = 2 * Math.floor(r / 3), u = o[i], c = o[i + 1], f = o[a], s = o[a + 1]; this._renderSegment(u, c, f, s, t) } let u, c = i[i.length - 1]; for (let n = 0; n < i.length; ++n) { u = c, c = i[n]; const e = 2 * Math.floor(r[c] / 3), f = o[e], s = o[e + 1], l = 4 * u, h = this._project(f, s, a[l + 2], a[l + 3]); h && this._renderSegment(f, s, h[0], h[1], t) } return n && n.value() } renderBounds(t) { const n = null == t ? t = new Va : void 0; return t.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin), n && n.value() } renderCell(t, n) { const e = null == n ? n = new Va : void 0, r = this._clip(t); if (null === r || !r.length) return; n.moveTo(r[0], r[1]); let i = r.length; for (; r[0] === r[i - 2] && r[1] === r[i - 1] && i > 1;)i -= 2; for (let t = 2; t < i; t += 2)r[t] === r[t - 2] && r[t + 1] === r[t - 1] || n.lineTo(r[t], r[t + 1]); return n.closePath(), e && e.value() } *cellPolygons() { const { delaunay: { points: t } } = this; for (let n = 0, e = t.length / 2; n < e; ++n) { const t = this.cellPolygon(n); t && (t.index = n, yield t) } } cellPolygon(t) { const n = new $a; return this.renderCell(t, n), n.value() } _renderSegment(t, n, e, r, i) { let o; const a = this._regioncode(t, n), u = this._regioncode(e, r); 0 === a && 0 === u ? (i.moveTo(t, n), i.lineTo(e, r)) : (o = this._clipSegment(t, n, e, r, a, u)) && (i.moveTo(o[0], o[1]), i.lineTo(o[2], o[3])) } contains(t, n, e) { return (n = +n) == n && (e = +e) == e && this.delaunay._step(t, n, e) === t } *neighbors(t) { const n = this._clip(t); if (n) for (const e of this.delaunay.neighbors(t)) { const t = this._clip(e); if (t) t: for (let r = 0, i = n.length; r < i; r += 2)for (let o = 0, a = t.length; o < a; o += 2)if (n[r] == t[o] && n[r + 1] == t[o + 1] && n[(r + 2) % i] == t[(o + a - 2) % a] && n[(r + 3) % i] == t[(o + a - 1) % a]) { yield e; break t } } } _cell(t) { const { circumcenters: n, delaunay: { inedges: e, halfedges: r, triangles: i } } = this, o = e[t]; if (-1 === o) return null; const a = []; let u = o; do { const e = Math.floor(u / 3); if (a.push(n[2 * e], n[2 * e + 1]), u = u % 3 == 2 ? u - 2 : u + 1, i[u] !== t) break; u = r[u] } while (u !== o && -1 !== u); return a } _clip(t) { if (0 === t && 1 === this.delaunay.hull.length) return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin]; const n = this._cell(t); if (null === n) return null; const { vectors: e } = this, r = 4 * t; return e[r] || e[r + 1] ? this._clipInfinite(t, n, e[r], e[r + 1], e[r + 2], e[r + 3]) : this._clipFinite(t, n) } _clipFinite(t, n) { const e = n.length; let r, i, o, a, u, c = null, f = n[e - 2], s = n[e - 1], l = this._regioncode(f, s); for (let h = 0; h < e; h += 2)if (r = f, i = s, f = n[h], s = n[h + 1], o = l, l = this._regioncode(f, s), 0 === o && 0 === l) a = u, u = 0, c ? c.push(f, s) : c = [f, s]; else { let n, e, h, d, p; if (0 === o) { if (null === (n = this._clipSegment(r, i, f, s, o, l))) continue;[e, h, d, p] = n } else { if (null === (n = this._clipSegment(f, s, r, i, l, o))) continue;[d, p, e, h] = n, a = u, u = this._edgecode(e, h), a && u && this._edge(t, a, u, c, c.length), c ? c.push(e, h) : c = [e, h] } a = u, u = this._edgecode(d, p), a && u && this._edge(t, a, u, c, c.length), c ? c.push(d, p) : c = [d, p] } if (c) a = u, u = this._edgecode(c[0], c[1]), a && u && this._edge(t, a, u, c, c.length); else if (this.contains(t, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin]; return c } _clipSegment(t, n, e, r, i, o) { for (; ;) { if (0 === i && 0 === o) return [t, n, e, r]; if (i & o) return null; let a, u, c = i || o; 8 & c ? (a = t + (e - t) * (this.ymax - n) / (r - n), u = this.ymax) : 4 & c ? (a = t + (e - t) * (this.ymin - n) / (r - n), u = this.ymin) : 2 & c ? (u = n + (r - n) * (this.xmax - t) / (e - t), a = this.xmax) : (u = n + (r - n) * (this.xmin - t) / (e - t), a = this.xmin), i ? (t = a, n = u, i = this._regioncode(t, n)) : (e = a, r = u, o = this._regioncode(e, r)) } } _clipInfinite(t, n, e, r, i, o) { let a, u = Array.from(n); if ((a = this._project(u[0], u[1], e, r)) && u.unshift(a[0], a[1]), (a = this._project(u[u.length - 2], u[u.length - 1], i, o)) && u.push(a[0], a[1]), u = this._clipFinite(t, u)) for (let n, e = 0, r = u.length, i = this._edgecode(u[r - 2], u[r - 1]); e < r; e += 2)n = i, i = this._edgecode(u[e], u[e + 1]), n && i && (e = this._edge(t, n, i, u, e), r = u.length); else this.contains(t, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2) && (u = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax]); return u } _edge(t, n, e, r, i) { for (; n !== e;) { let e, o; switch (n) { case 5: n = 4; continue; case 4: n = 6, e = this.xmax, o = this.ymin; break; case 6: n = 2; continue; case 2: n = 10, e = this.xmax, o = this.ymax; break; case 10: n = 8; continue; case 8: n = 9, e = this.xmin, o = this.ymax; break; case 9: n = 1; continue; case 1: n = 5, e = this.xmin, o = this.ymin }r[i] === e && r[i + 1] === o || !this.contains(t, e, o) || (r.splice(i, 0, e, o), i += 2) } if (r.length > 4) for (let t = 0; t < r.length; t += 2) { const n = (t + 2) % r.length, e = (t + 4) % r.length; (r[t] === r[n] && r[n] === r[e] || r[t + 1] === r[n + 1] && r[n + 1] === r[e + 1]) && (r.splice(n, 2), t -= 2) } return i } _project(t, n, e, r) { let i, o, a, u = 1 / 0; if (r < 0) { if (n <= this.ymin) return null; (i = (this.ymin - n) / r) < u && (a = this.ymin, o = t + (u = i) * e) } else if (r > 0) { if (n >= this.ymax) return null; (i = (this.ymax - n) / r) < u && (a = this.ymax, o = t + (u = i) * e) } if (e > 0) { if (t >= this.xmax) return null; (i = (this.xmax - t) / e) < u && (o = this.xmax, a = n + (u = i) * r) } else if (e < 0) { if (t <= this.xmin) return null; (i = (this.xmin - t) / e) < u && (o = this.xmin, a = n + (u = i) * r) } return [o, a] } _edgecode(t, n) { return (t === this.xmin ? 1 : t === this.xmax ? 2 : 0) | (n === this.ymin ? 4 : n === this.ymax ? 8 : 0) } _regioncode(t, n) { return (t < this.xmin ? 1 : t > this.xmax ? 2 : 0) | (n < this.ymin ? 4 : n > this.ymax ? 8 : 0) } } const Za = 2 * Math.PI, Ka = Math.pow; function Qa(t) { return t[0] } function Ja(t) { return t[1] } function tu(t, n, e) { return [t + Math.sin(t + n) * e, n + Math.cos(t - n) * e] } class nu { static from(t, n = Qa, e = Ja, r) { return new nu("length" in t ? function (t, n, e, r) { const i = t.length, o = new Float64Array(2 * i); for (let a = 0; a < i; ++a) { const i = t[a]; o[2 * a] = n.call(r, i, a, t), o[2 * a + 1] = e.call(r, i, a, t) } return o }(t, n, e, r) : Float64Array.from(function* (t, n, e, r) { let i = 0; for (const o of t) yield n.call(r, o, i, t), yield e.call(r, o, i, t), ++i }(t, n, e, r))) } constructor(t) { this._delaunator = new Fa(t), this.inedges = new Int32Array(t.length / 2), this._hullIndex = new Int32Array(t.length / 2), this.points = this._delaunator.coords, this._init() } update() { return this._delaunator.update(), this._init(), this } _init() { const t = this._delaunator, n = this.points; if (t.hull && t.hull.length > 2 && function (t) { const { triangles: n, coords: e } = t; for (let t = 0; t < n.length; t += 3) { const r = 2 * n[t], i = 2 * n[t + 1], o = 2 * n[t + 2]; if ((e[o] - e[r]) * (e[i + 1] - e[r + 1]) - (e[i] - e[r]) * (e[o + 1] - e[r + 1]) > 1e-10) return !1 } return !0 }(t)) { this.collinear = Int32Array.from({ length: n.length / 2 }, ((t, n) => n)).sort(((t, e) => n[2 * t] - n[2 * e] || n[2 * t + 1] - n[2 * e + 1])); const t = this.collinear[0], e = this.collinear[this.collinear.length - 1], r = [n[2 * t], n[2 * t + 1], n[2 * e], n[2 * e + 1]], i = 1e-8 * Math.hypot(r[3] - r[1], r[2] - r[0]); for (let t = 0, e = n.length / 2; t < e; ++t) { const e = tu(n[2 * t], n[2 * t + 1], i); n[2 * t] = e[0], n[2 * t + 1] = e[1] } this._delaunator = new Fa(n) } else delete this.collinear; const e = this.halfedges = this._delaunator.halfedges, r = this.hull = this._delaunator.hull, i = this.triangles = this._delaunator.triangles, o = this.inedges.fill(-1), a = this._hullIndex.fill(-1); for (let t = 0, n = e.length; t < n; ++t) { const n = i[t % 3 == 2 ? t - 2 : t + 1]; -1 !== e[t] && -1 !== o[n] || (o[n] = t) } for (let t = 0, n = r.length; t < n; ++t)a[r[t]] = t; r.length <= 2 && r.length > 0 && (this.triangles = new Int32Array(3).fill(-1), this.halfedges = new Int32Array(3).fill(-1), this.triangles[0] = r[0], this.triangles[1] = r[1], this.triangles[2] = r[1], o[r[0]] = 1, 2 === r.length && (o[r[1]] = 0)) } voronoi(t) { return new Wa(this, t) } *neighbors(t) { const { inedges: n, hull: e, _hullIndex: r, halfedges: i, triangles: o, collinear: a } = this; if (a) { const n = a.indexOf(t); return n > 0 && (yield a[n - 1]), void (n < a.length - 1 && (yield a[n + 1])) } const u = n[t]; if (-1 === u) return; let c = u, f = -1; do { if (yield f = o[c], c = c % 3 == 2 ? c - 2 : c + 1, o[c] !== t) return; if (c = i[c], -1 === c) { const n = e[(r[t] + 1) % e.length]; return void (n !== f && (yield n)) } } while (c !== u) } find(t, n, e = 0) { if ((t = +t) != t || (n = +n) != n) return -1; const r = e; let i; for (; (i = this._step(e, t, n)) >= 0 && i !== e && i !== r;)e = i; return i } _step(t, n, e) { const { inedges: r, hull: i, _hullIndex: o, halfedges: a, triangles: u, points: c } = this; if (-1 === r[t] || !c.length) return (t + 1) % (c.length >> 1); let f = t, s = Ka(n - c[2 * t], 2) + Ka(e - c[2 * t + 1], 2); const l = r[t]; let h = l; do { let r = u[h]; const l = Ka(n - c[2 * r], 2) + Ka(e - c[2 * r + 1], 2); if (l < s && (s = l, f = r), h = h % 3 == 2 ? h - 2 : h + 1, u[h] !== t) break; if (h = a[h], -1 === h) { if (h = i[(o[t] + 1) % i.length], h !== r && Ka(n - c[2 * h], 2) + Ka(e - c[2 * h + 1], 2) < s) return h; break } } while (h !== l); return f } render(t) { const n = null == t ? t = new Va : void 0, { points: e, halfedges: r, triangles: i } = this; for (let n = 0, o = r.length; n < o; ++n) { const o = r[n]; if (o < n) continue; const a = 2 * i[n], u = 2 * i[o]; t.moveTo(e[a], e[a + 1]), t.lineTo(e[u], e[u + 1]) } return this.renderHull(t), n && n.value() } renderPoints(t, n = 2) { const e = null == t ? t = new Va : void 0, { points: r } = this; for (let e = 0, i = r.length; e < i; e += 2) { const i = r[e], o = r[e + 1]; t.moveTo(i + n, o), t.arc(i, o, n, 0, Za) } return e && e.value() } renderHull(t) { const n = null == t ? t = new Va : void 0, { hull: e, points: r } = this, i = 2 * e[0], o = e.length; t.moveTo(r[i], r[i + 1]); for (let n = 1; n < o; ++n) { const i = 2 * e[n]; t.lineTo(r[i], r[i + 1]) } return t.closePath(), n && n.value() } hullPolygon() { const t = new $a; return this.renderHull(t), t.value() } renderTriangle(t, n) { const e = null == n ? n = new Va : void 0, { points: r, triangles: i } = this, o = 2 * i[t *= 3], a = 2 * i[t + 1], u = 2 * i[t + 2]; return n.moveTo(r[o], r[o + 1]), n.lineTo(r[a], r[a + 1]), n.lineTo(r[u], r[u + 1]), n.closePath(), e && e.value() } *trianglePolygons() { const { triangles: t } = this; for (let n = 0, e = t.length / 3; n < e; ++n)yield this.trianglePolygon(n) } trianglePolygon(t) { const n = new $a; return this.renderTriangle(t, n), n.value() } } var eu = {}, ru = {}; function iu(t) { return new Function("d", "return {" + t.map((function (t, n) { return JSON.stringify(t) + ": d[" + n + '] || ""' })).join(",") + "}") } function ou(t) { var n = Object.create(null), e = []; return t.forEach((function (t) { for (var r in t) r in n || e.push(n[r] = r) })), e } function au(t, n) { var e = t + "", r = e.length; return r < n ? new Array(n - r + 1).join(0) + e : e } function uu(t) { var n = t.getUTCHours(), e = t.getUTCMinutes(), r = t.getUTCSeconds(), i = t.getUTCMilliseconds(); return isNaN(t) ? "Invalid Date" : function (t) { return t < 0 ? "-" + au(-t, 6) : t > 9999 ? "+" + au(t, 6) : au(t, 4) }(t.getUTCFullYear()) + "-" + au(t.getUTCMonth() + 1, 2) + "-" + au(t.getUTCDate(), 2) + (i ? "T" + au(n, 2) + ":" + au(e, 2) + ":" + au(r, 2) + "." + au(i, 3) + "Z" : r ? "T" + au(n, 2) + ":" + au(e, 2) + ":" + au(r, 2) + "Z" : e || n ? "T" + au(n, 2) + ":" + au(e, 2) + "Z" : "") } function cu(t) { var n = new RegExp('["' + t + "\n\r]"), e = t.charCodeAt(0); function r(t, n) { var r, i = [], o = t.length, a = 0, u = 0, c = o <= 0, f = !1; function s() { if (c) return ru; if (f) return f = !1, eu; var n, r, i = a; if (34 === t.charCodeAt(i)) { for (; a++ < o && 34 !== t.charCodeAt(a) || 34 === t.charCodeAt(++a);); return (n = a) >= o ? c = !0 : 10 === (r = t.charCodeAt(a++)) ? f = !0 : 13 === r && (f = !0, 10 === t.charCodeAt(a) && ++a), t.slice(i + 1, n - 1).replace(/""/g, '"') } for (; a < o;) { if (10 === (r = t.charCodeAt(n = a++))) f = !0; else if (13 === r) f = !0, 10 === t.charCodeAt(a) && ++a; else if (r !== e) continue; return t.slice(i, n) } return c = !0, t.slice(i, o) } for (10 === t.charCodeAt(o - 1) && --o, 13 === t.charCodeAt(o - 1) && --o; (r = s()) !== ru;) { for (var l = []; r !== eu && r !== ru;)l.push(r), r = s(); n && null == (l = n(l, u++)) || i.push(l) } return i } function i(n, e) { return n.map((function (n) { return e.map((function (t) { return a(n[t]) })).join(t) })) } function o(n) { return n.map(a).join(t) } function a(t) { return null == t ? "" : t instanceof Date ? uu(t) : n.test(t += "") ? '"' + t.replace(/"/g, '""') + '"' : t } return { parse: function (t, n) { var e, i, o = r(t, (function (t, r) { if (e) return e(t, r - 1); i = t, e = n ? function (t, n) { var e = iu(t); return function (r, i) { return n(e(r), i, t) } }(t, n) : iu(t) })); return o.columns = i || [], o }, parseRows: r, format: function (n, e) { return null == e && (e = ou(n)), [e.map(a).join(t)].concat(i(n, e)).join("\n") }, formatBody: function (t, n) { return null == n && (n = ou(t)), i(t, n).join("\n") }, formatRows: function (t) { return t.map(o).join("\n") }, formatRow: o, formatValue: a } } var fu = cu(","), su = fu.parse, lu = fu.parseRows, hu = fu.format, du = fu.formatBody, pu = fu.formatRows, gu = fu.formatRow, yu = fu.formatValue, vu = cu("\t"), _u = vu.parse, bu = vu.parseRows, mu = vu.format, xu = vu.formatBody, wu = vu.formatRows, Mu = vu.formatRow, Au = vu.formatValue; const Tu = new Date("2019-01-01T00:00").getHours() || new Date("2019-07-01T00:00").getHours(); function Su(t) { if (!t.ok) throw new Error(t.status + " " + t.statusText); return t.blob() } function Eu(t) { if (!t.ok) throw new Error(t.status + " " + t.statusText); return t.arrayBuffer() } function ku(t) { if (!t.ok) throw new Error(t.status + " " + t.statusText); return t.text() } function Nu(t, n) { return fetch(t, n).then(ku) } function Cu(t) { return function (n, e, r) { return 2 === arguments.length && "function" == typeof e && (r = e, e = void 0), Nu(n, e).then((function (n) { return t(n, r) })) } } var Pu = Cu(su), zu = Cu(_u); function Du(t) { if (!t.ok) throw new Error(t.status + " " + t.statusText); if (204 !== t.status && 205 !== t.status) return t.json() } function qu(t) { return (n, e) => Nu(n, e).then((n => (new DOMParser).parseFromString(n, t))) } var Ru = qu("application/xml"), Fu = qu("text/html"), Ou = qu("image/svg+xml"); function Iu(t, n, e, r) { if (isNaN(n) || isNaN(e)) return t; var i, o, a, u, c, f, s, l, h, d = t._root, p = { data: r }, g = t._x0, y = t._y0, v = t._x1, _ = t._y1; if (!d) return t._root = p, t; for (; d.length;)if ((f = n >= (o = (g + v) / 2)) ? g = o : v = o, (s = e >= (a = (y + _) / 2)) ? y = a : _ = a, i = d, !(d = d[l = s << 1 | f])) return i[l] = p, t; if (u = +t._x.call(null, d.data), c = +t._y.call(null, d.data), n === u && e === c) return p.next = d, i ? i[l] = p : t._root = p, t; do { i = i ? i[l] = new Array(4) : t._root = new Array(4), (f = n >= (o = (g + v) / 2)) ? g = o : v = o, (s = e >= (a = (y + _) / 2)) ? y = a : _ = a } while ((l = s << 1 | f) == (h = (c >= a) << 1 | u >= o)); return i[h] = d, i[l] = p, t } function Uu(t, n, e, r, i) { this.node = t, this.x0 = n, this.y0 = e, this.x1 = r, this.y1 = i } function Bu(t) { return t[0] } function Yu(t) { return t[1] } function Lu(t, n, e) { var r = new ju(null == n ? Bu : n, null == e ? Yu : e, NaN, NaN, NaN, NaN); return null == t ? r : r.addAll(t) } function ju(t, n, e, r, i, o) { this._x = t, this._y = n, this._x0 = e, this._y0 = r, this._x1 = i, this._y1 = o, this._root = void 0 } function Hu(t) { for (var n = { data: t.data }, e = n; t = t.next;)e = e.next = { data: t.data }; return n } var Xu = Lu.prototype = ju.prototype; function Gu(t) { return function () { return t } } function Vu(t) { return 1e-6 * (t() - .5) } function $u(t) { return t.x + t.vx } function Wu(t) { return t.y + t.vy } function Zu(t) { return t.index } function Ku(t, n) { var e = t.get(n); if (!e) throw new Error("node not found: " + n); return e } Xu.copy = function () { var t, n, e = new ju(this._x, this._y, this._x0, this._y0, this._x1, this._y1), r = this._root; if (!r) return e; if (!r.length) return e._root = Hu(r), e; for (t = [{ source: r, target: e._root = new Array(4) }]; r = t.pop();)for (var i = 0; i < 4; ++i)(n = r.source[i]) && (n.length ? t.push({ source: n, target: r.target[i] = new Array(4) }) : r.target[i] = Hu(n)); return e }, Xu.add = function (t) { const n = +this._x.call(null, t), e = +this._y.call(null, t); return Iu(this.cover(n, e), n, e, t) }, Xu.addAll = function (t) { var n, e, r, i, o = t.length, a = new Array(o), u = new Array(o), c = 1 / 0, f = 1 / 0, s = -1 / 0, l = -1 / 0; for (e = 0; e < o; ++e)isNaN(r = +this._x.call(null, n = t[e])) || isNaN(i = +this._y.call(null, n)) || (a[e] = r, u[e] = i, r < c && (c = r), r > s && (s = r), i < f && (f = i), i > l && (l = i)); if (c > s || f > l) return this; for (this.cover(c, f).cover(s, l), e = 0; e < o; ++e)Iu(this, a[e], u[e], t[e]); return this }, Xu.cover = function (t, n) { if (isNaN(t = +t) || isNaN(n = +n)) return this; var e = this._x0, r = this._y0, i = this._x1, o = this._y1; if (isNaN(e)) i = (e = Math.floor(t)) + 1, o = (r = Math.floor(n)) + 1; else { for (var a, u, c = i - e || 1, f = this._root; e > t || t >= i || r > n || n >= o;)switch (u = (n < r) << 1 | t < e, (a = new Array(4))[u] = f, f = a, c *= 2, u) { case 0: i = e + c, o = r + c; break; case 1: e = i - c, o = r + c; break; case 2: i = e + c, r = o - c; break; case 3: e = i - c, r = o - c }this._root && this._root.length && (this._root = f) } return this._x0 = e, this._y0 = r, this._x1 = i, this._y1 = o, this }, Xu.data = function () { var t = []; return this.visit((function (n) { if (!n.length) do { t.push(n.data) } while (n = n.next) })), t }, Xu.extent = function (t) { return arguments.length ? this.cover(+t[0][0], +t[0][1]).cover(+t[1][0], +t[1][1]) : isNaN(this._x0) ? void 0 : [[this._x0, this._y0], [this._x1, this._y1]] }, Xu.find = function (t, n, e) { var r, i, o, a, u, c, f, s = this._x0, l = this._y0, h = this._x1, d = this._y1, p = [], g = this._root; for (g && p.push(new Uu(g, s, l, h, d)), null == e ? e = 1 / 0 : (s = t - e, l = n - e, h = t + e, d = n + e, e *= e); c = p.pop();)if (!(!(g = c.node) || (i = c.x0) > h || (o = c.y0) > d || (a = c.x1) < s || (u = c.y1) < l)) if (g.length) { var y = (i + a) / 2, v = (o + u) / 2; p.push(new Uu(g[3], y, v, a, u), new Uu(g[2], i, v, y, u), new Uu(g[1], y, o, a, v), new Uu(g[0], i, o, y, v)), (f = (n >= v) << 1 | t >= y) && (c = p[p.length - 1], p[p.length - 1] = p[p.length - 1 - f], p[p.length - 1 - f] = c) } else { var _ = t - +this._x.call(null, g.data), b = n - +this._y.call(null, g.data), m = _ * _ + b * b; if (m < e) { var x = Math.sqrt(e = m); s = t - x, l = n - x, h = t + x, d = n + x, r = g.data } } return r }, Xu.remove = function (t) { if (isNaN(o = +this._x.call(null, t)) || isNaN(a = +this._y.call(null, t))) return this; var n, e, r, i, o, a, u, c, f, s, l, h, d = this._root, p = this._x0, g = this._y0, y = this._x1, v = this._y1; if (!d) return this; if (d.length) for (; ;) { if ((f = o >= (u = (p + y) / 2)) ? p = u : y = u, (s = a >= (c = (g + v) / 2)) ? g = c : v = c, n = d, !(d = d[l = s << 1 | f])) return this; if (!d.length) break; (n[l + 1 & 3] || n[l + 2 & 3] || n[l + 3 & 3]) && (e = n, h = l) } for (; d.data !== t;)if (r = d, !(d = d.next)) return this; return (i = d.next) && delete d.next, r ? (i ? r.next = i : delete r.next, this) : n ? (i ? n[l] = i : delete n[l], (d = n[0] || n[1] || n[2] || n[3]) && d === (n[3] || n[2] || n[1] || n[0]) && !d.length && (e ? e[h] = d : this._root = d), this) : (this._root = i, this) }, Xu.removeAll = function (t) { for (var n = 0, e = t.length; n < e; ++n)this.remove(t[n]); return this }, Xu.root = function () { return this._root }, Xu.size = function () { var t = 0; return this.visit((function (n) { if (!n.length) do { ++t } while (n = n.next) })), t }, Xu.visit = function (t) { var n, e, r, i, o, a, u = [], c = this._root; for (c && u.push(new Uu(c, this._x0, this._y0, this._x1, this._y1)); n = u.pop();)if (!t(c = n.node, r = n.x0, i = n.y0, o = n.x1, a = n.y1) && c.length) { var f = (r + o) / 2, s = (i + a) / 2; (e = c[3]) && u.push(new Uu(e, f, s, o, a)), (e = c[2]) && u.push(new Uu(e, r, s, f, a)), (e = c[1]) && u.push(new Uu(e, f, i, o, s)), (e = c[0]) && u.push(new Uu(e, r, i, f, s)) } return this }, Xu.visitAfter = function (t) { var n, e = [], r = []; for (this._root && e.push(new Uu(this._root, this._x0, this._y0, this._x1, this._y1)); n = e.pop();) { var i = n.node; if (i.length) { var o, a = n.x0, u = n.y0, c = n.x1, f = n.y1, s = (a + c) / 2, l = (u + f) / 2; (o = i[0]) && e.push(new Uu(o, a, u, s, l)), (o = i[1]) && e.push(new Uu(o, s, u, c, l)), (o = i[2]) && e.push(new Uu(o, a, l, s, f)), (o = i[3]) && e.push(new Uu(o, s, l, c, f)) } r.push(n) } for (; n = r.pop();)t(n.node, n.x0, n.y0, n.x1, n.y1); return this }, Xu.x = function (t) { return arguments.length ? (this._x = t, this) : this._x }, Xu.y = function (t) { return arguments.length ? (this._y = t, this) : this._y }; const Qu = 4294967296; function Ju(t) { return t.x } function tc(t) { return t.y } var nc = Math.PI * (3 - Math.sqrt(5)); function ec(t, n) { if ((e = (t = n ? t.toExponential(n - 1) : t.toExponential()).indexOf("e")) < 0) return null; var e, r = t.slice(0, e); return [r.length > 1 ? r[0] + r.slice(2) : r, +t.slice(e + 1)] } function rc(t) { return (t = ec(Math.abs(t))) ? t[1] : NaN } var ic, oc = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i; function ac(t) { if (!(n = oc.exec(t))) throw new Error("invalid format: " + t); var n; return new uc({ fill: n[1], align: n[2], sign: n[3], symbol: n[4], zero: n[5], width: n[6], comma: n[7], precision: n[8] && n[8].slice(1), trim: n[9], type: n[10] }) } function uc(t) { this.fill = void 0 === t.fill ? " " : t.fill + "", this.align = void 0 === t.align ? ">" : t.align + "", this.sign = void 0 === t.sign ? "-" : t.sign + "", this.symbol = void 0 === t.symbol ? "" : t.symbol + "", this.zero = !!t.zero, this.width = void 0 === t.width ? void 0 : +t.width, this.comma = !!t.comma, this.precision = void 0 === t.precision ? void 0 : +t.precision, this.trim = !!t.trim, this.type = void 0 === t.type ? "" : t.type + "" } function cc(t, n) { var e = ec(t, n); if (!e) return t + ""; var r = e[0], i = e[1]; return i < 0 ? "0." + new Array(-i).join("0") + r : r.length > i + 1 ? r.slice(0, i + 1) + "." + r.slice(i + 1) : r + new Array(i - r.length + 2).join("0") } ac.prototype = uc.prototype, uc.prototype.toString = function () { return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (void 0 === this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (void 0 === this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + (this.trim ? "~" : "") + this.type }; var fc = { "%": (t, n) => (100 * t).toFixed(n), b: t => Math.round(t).toString(2), c: t => t + "", d: function (t) { return Math.abs(t = Math.round(t)) >= 1e21 ? t.toLocaleString("en").replace(/,/g, "") : t.toString(10) }, e: (t, n) => t.toExponential(n), f: (t, n) => t.toFixed(n), g: (t, n) => t.toPrecision(n), o: t => Math.round(t).toString(8), p: (t, n) => cc(100 * t, n), r: cc, s: function (t, n) { var e = ec(t, n); if (!e) return t + ""; var r = e[0], i = e[1], o = i - (ic = 3 * Math.max(-8, Math.min(8, Math.floor(i / 3)))) + 1, a = r.length; return o === a ? r : o > a ? r + new Array(o - a + 1).join("0") : o > 0 ? r.slice(0, o) + "." + r.slice(o) : "0." + new Array(1 - o).join("0") + ec(t, Math.max(0, n + o - 1))[0] }, X: t => Math.round(t).toString(16).toUpperCase(), x: t => Math.round(t).toString(16) }; function sc(t) { return t } var lc, hc = Array.prototype.map, dc = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"]; function pc(t) { var n, e, r = void 0 === t.grouping || void 0 === t.thousands ? sc : (n = hc.call(t.grouping, Number), e = t.thousands + "", function (t, r) { for (var i = t.length, o = [], a = 0, u = n[0], c = 0; i > 0 && u > 0 && (c + u + 1 > r && (u = Math.max(1, r - c)), o.push(t.substring(i -= u, i + u)), !((c += u + 1) > r));)u = n[a = (a + 1) % n.length]; return o.reverse().join(e) }), i = void 0 === t.currency ? "" : t.currency[0] + "", o = void 0 === t.currency ? "" : t.currency[1] + "", a = void 0 === t.decimal ? "." : t.decimal + "", u = void 0 === t.numerals ? sc : function (t) { return function (n) { return n.replace(/[0-9]/g, (function (n) { return t[+n] })) } }(hc.call(t.numerals, String)), c = void 0 === t.percent ? "%" : t.percent + "", f = void 0 === t.minus ? "−" : t.minus + "", s = void 0 === t.nan ? "NaN" : t.nan + ""; function l(t) { var n = (t = ac(t)).fill, e = t.align, l = t.sign, h = t.symbol, d = t.zero, p = t.width, g = t.comma, y = t.precision, v = t.trim, _ = t.type; "n" === _ ? (g = !0, _ = "g") : fc[_] || (void 0 === y && (y = 12), v = !0, _ = "g"), (d || "0" === n && "=" === e) && (d = !0, n = "0", e = "="); var b = "$" === h ? i : "#" === h && /[boxX]/.test(_) ? "0" + _.toLowerCase() : "", m = "$" === h ? o : /[%p]/.test(_) ? c : "", x = fc[_], w = /[defgprs%]/.test(_); function M(t) { var i, o, c, h = b, M = m; if ("c" === _) M = x(t) + M, t = ""; else { var A = (t = +t) < 0 || 1 / t < 0; if (t = isNaN(t) ? s : x(Math.abs(t), y), v && (t = function (t) { t: for (var n, e = t.length, r = 1, i = -1; r < e; ++r)switch (t[r]) { case ".": i = n = r; break; case "0": 0 === i && (i = r), n = r; break; default: if (!+t[r]) break t; i > 0 && (i = 0) }return i > 0 ? t.slice(0, i) + t.slice(n + 1) : t }(t)), A && 0 == +t && "+" !== l && (A = !1), h = (A ? "(" === l ? l : f : "-" === l || "(" === l ? "" : l) + h, M = ("s" === _ ? dc[8 + ic / 3] : "") + M + (A && "(" === l ? ")" : ""), w) for (i = -1, o = t.length; ++i < o;)if (48 > (c = t.charCodeAt(i)) || c > 57) { M = (46 === c ? a + t.slice(i + 1) : t.slice(i)) + M, t = t.slice(0, i); break } } g && !d && (t = r(t, 1 / 0)); var T = h.length + t.length + M.length, S = T < p ? new Array(p - T + 1).join(n) : ""; switch (g && d && (t = r(S + t, S.length ? p - M.length : 1 / 0), S = ""), e) { case "<": t = h + t + M + S; break; case "=": t = h + S + t + M; break; case "^": t = S.slice(0, T = S.length >> 1) + h + t + M + S.slice(T); break; default: t = S + h + t + M }return u(t) } return y = void 0 === y ? 6 : /[gprs]/.test(_) ? Math.max(1, Math.min(21, y)) : Math.max(0, Math.min(20, y)), M.toString = function () { return t + "" }, M } return { format: l, formatPrefix: function (t, n) { var e = l(((t = ac(t)).type = "f", t)), r = 3 * Math.max(-8, Math.min(8, Math.floor(rc(n) / 3))), i = Math.pow(10, -r), o = dc[8 + r / 3]; return function (t) { return e(i * t) + o } } } } function gc(n) { return lc = pc(n), t.format = lc.format, t.formatPrefix = lc.formatPrefix, lc } function yc(t) { return Math.max(0, -rc(Math.abs(t))) } function vc(t, n) { return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(rc(n) / 3))) - rc(Math.abs(t))) } function _c(t, n) { return t = Math.abs(t), n = Math.abs(n) - t, Math.max(0, rc(n) - rc(t)) + 1 } t.format = void 0, t.formatPrefix = void 0, gc({ thousands: ",", grouping: [3], currency: ["$", ""] }); var bc = 1e-6, mc = 1e-12, xc = Math.PI, wc = xc / 2, Mc = xc / 4, Ac = 2 * xc, Tc = 180 / xc, Sc = xc / 180, Ec = Math.abs, kc = Math.atan, Nc = Math.atan2, Cc = Math.cos, Pc = Math.ceil, zc = Math.exp, Dc = Math.hypot, qc = Math.log, Rc = Math.pow, Fc = Math.sin, Oc = Math.sign || function (t) { return t > 0 ? 1 : t < 0 ? -1 : 0 }, Ic = Math.sqrt, Uc = Math.tan; function Bc(t) { return t > 1 ? 0 : t < -1 ? xc : Math.acos(t) } function Yc(t) { return t > 1 ? wc : t < -1 ? -wc : Math.asin(t) } function Lc(t) { return (t = Fc(t / 2)) * t } function jc() { } function Hc(t, n) { t && Gc.hasOwnProperty(t.type) && Gc[t.type](t, n) } var Xc = { Feature: function (t, n) { Hc(t.geometry, n) }, FeatureCollection: function (t, n) { for (var e = t.features, r = -1, i = e.length; ++r < i;)Hc(e[r].geometry, n) } }, Gc = { Sphere: function (t, n) { n.sphere() }, Point: function (t, n) { t = t.coordinates, n.point(t[0], t[1], t[2]) }, MultiPoint: function (t, n) { for (var e = t.coordinates, r = -1, i = e.length; ++r < i;)t = e[r], n.point(t[0], t[1], t[2]) }, LineString: function (t, n) { Vc(t.coordinates, n, 0) }, MultiLineString: function (t, n) { for (var e = t.coordinates, r = -1, i = e.length; ++r < i;)Vc(e[r], n, 0) }, Polygon: function (t, n) { $c(t.coordinates, n) }, MultiPolygon: function (t, n) { for (var e = t.coordinates, r = -1, i = e.length; ++r < i;)$c(e[r], n) }, GeometryCollection: function (t, n) { for (var e = t.geometries, r = -1, i = e.length; ++r < i;)Hc(e[r], n) } }; function Vc(t, n, e) { var r, i = -1, o = t.length - e; for (n.lineStart(); ++i < o;)r = t[i], n.point(r[0], r[1], r[2]); n.lineEnd() } function $c(t, n) { var e = -1, r = t.length; for (n.polygonStart(); ++e < r;)Vc(t[e], n, 1); n.polygonEnd() } function Wc(t, n) { t && Xc.hasOwnProperty(t.type) ? Xc[t.type](t, n) : Hc(t, n) } var Zc, Kc, Qc, Jc, tf, nf, ef, rf, of, af, uf, cf, ff, sf, lf, hf, df = new g, pf = new g, gf = { point: jc, lineStart: jc, lineEnd: jc, polygonStart: function () { df = new g, gf.lineStart = yf, gf.lineEnd = vf }, polygonEnd: function () { var t = +df; pf.add(t < 0 ? Ac + t : t), this.lineStart = this.lineEnd = this.point = jc }, sphere: function () { pf.add(Ac) } }; function yf() { gf.point = _f } function vf() { bf(Zc, Kc) } function _f(t, n) { gf.point = bf, Zc = t, Kc = n, Qc = t *= Sc, Jc = Cc(n = (n *= Sc) / 2 + Mc), tf = Fc(n) } function bf(t, n) { var e = (t *= Sc) - Qc, r = e >= 0 ? 1 : -1, i = r * e, o = Cc(n = (n *= Sc) / 2 + Mc), a = Fc(n), u = tf * a, c = Jc * o + u * Cc(i), f = u * r * Fc(i); df.add(Nc(f, c)), Qc = t, Jc = o, tf = a } function mf(t) { return [Nc(t[1], t[0]), Yc(t[2])] } function xf(t) { var n = t[0], e = t[1], r = Cc(e); return [r * Cc(n), r * Fc(n), Fc(e)] } function wf(t, n) { return t[0] * n[0] + t[1] * n[1] + t[2] * n[2] } function Mf(t, n) { return [t[1] * n[2] - t[2] * n[1], t[2] * n[0] - t[0] * n[2], t[0] * n[1] - t[1] * n[0]] } function Af(t, n) { t[0] += n[0], t[1] += n[1], t[2] += n[2] } function Tf(t, n) { return [t[0] * n, t[1] * n, t[2] * n] } function Sf(t) { var n = Ic(t[0] * t[0] + t[1] * t[1] + t[2] * t[2]); t[0] /= n, t[1] /= n, t[2] /= n } var Ef, kf, Nf, Cf, Pf, zf, Df, qf, Rf, Ff, Of, If, Uf, Bf, Yf, Lf, jf = { point: Hf, lineStart: Gf, lineEnd: Vf, polygonStart: function () { jf.point = $f, jf.lineStart = Wf, jf.lineEnd = Zf, sf = new g, gf.polygonStart() }, polygonEnd: function () { gf.polygonEnd(), jf.point = Hf, jf.lineStart = Gf, jf.lineEnd = Vf, df < 0 ? (nf = -(rf = 180), ef = -(of = 90)) : sf > bc ? of = 90 : sf < -1e-6 && (ef = -90), hf[0] = nf, hf[1] = rf }, sphere: function () { nf = -(rf = 180), ef = -(of = 90) } }; function Hf(t, n) { lf.push(hf = [nf = t, rf = t]), n < ef && (ef = n), n > of && (of = n) } function Xf(t, n) { var e = xf([t * Sc, n * Sc]); if (ff) { var r = Mf(ff, e), i = Mf([r[1], -r[0], 0], r); Sf(i), i = mf(i); var o, a = t - af, u = a > 0 ? 1 : -1, c = i[0] * Tc * u, f = Ec(a) > 180; f ^ (u * af < c && c < u * t) ? (o = i[1] * Tc) > of && (of = o) : f ^ (u * af < (c = (c + 360) % 360 - 180) && c < u * t) ? (o = -i[1] * Tc) < ef && (ef = o) : (n < ef && (ef = n), n > of && (of = n)), f ? t < af ? Kf(nf, t) > Kf(nf, rf) && (rf = t) : Kf(t, rf) > Kf(nf, rf) && (nf = t) : rf >= nf ? (t < nf && (nf = t), t > rf && (rf = t)) : t > af ? Kf(nf, t) > Kf(nf, rf) && (rf = t) : Kf(t, rf) > Kf(nf, rf) && (nf = t) } else lf.push(hf = [nf = t, rf = t]); n < ef && (ef = n), n > of && (of = n), ff = e, af = t } function Gf() { jf.point = Xf } function Vf() { hf[0] = nf, hf[1] = rf, jf.point = Hf, ff = null } function $f(t, n) { if (ff) { var e = t - af; sf.add(Ec(e) > 180 ? e + (e > 0 ? 360 : -360) : e) } else uf = t, cf = n; gf.point(t, n), Xf(t, n) } function Wf() { gf.lineStart() } function Zf() { $f(uf, cf), gf.lineEnd(), Ec(sf) > bc && (nf = -(rf = 180)), hf[0] = nf, hf[1] = rf, ff = null } function Kf(t, n) { return (n -= t) < 0 ? n + 360 : n } function Qf(t, n) { return t[0] - n[0] } function Jf(t, n) { return t[0] <= t[1] ? t[0] <= n && n <= t[1] : n < t[0] || t[1] < n } var ts = { sphere: jc, point: ns, lineStart: rs, lineEnd: as, polygonStart: function () { ts.lineStart = us, ts.lineEnd = cs }, polygonEnd: function () { ts.lineStart = rs, ts.lineEnd = as } }; function ns(t, n) { t *= Sc; var e = Cc(n *= Sc); es(e * Cc(t), e * Fc(t), Fc(n)) } function es(t, n, e) { ++Ef, Nf += (t - Nf) / Ef, Cf += (n - Cf) / Ef, Pf += (e - Pf) / Ef } function rs() { ts.point = is } function is(t, n) { t *= Sc; var e = Cc(n *= Sc); Bf = e * Cc(t), Yf = e * Fc(t), Lf = Fc(n), ts.point = os, es(Bf, Yf, Lf) } function os(t, n) { t *= Sc; var e = Cc(n *= Sc), r = e * Cc(t), i = e * Fc(t), o = Fc(n), a = Nc(Ic((a = Yf * o - Lf * i) * a + (a = Lf * r - Bf * o) * a + (a = Bf * i - Yf * r) * a), Bf * r + Yf * i + Lf * o); kf += a, zf += a * (Bf + (Bf = r)), Df += a * (Yf + (Yf = i)), qf += a * (Lf + (Lf = o)), es(Bf, Yf, Lf) } function as() { ts.point = ns } function us() { ts.point = fs } function cs() { ss(If, Uf), ts.point = ns } function fs(t, n) { If = t, Uf = n, t *= Sc, n *= Sc, ts.point = ss; var e = Cc(n); Bf = e * Cc(t), Yf = e * Fc(t), Lf = Fc(n), es(Bf, Yf, Lf) } function ss(t, n) { t *= Sc; var e = Cc(n *= Sc), r = e * Cc(t), i = e * Fc(t), o = Fc(n), a = Yf * o - Lf * i, u = Lf * r - Bf * o, c = Bf * i - Yf * r, f = Dc(a, u, c), s = Yc(f), l = f && -s / f; Rf.add(l * a), Ff.add(l * u), Of.add(l * c), kf += s, zf += s * (Bf + (Bf = r)), Df += s * (Yf + (Yf = i)), qf += s * (Lf + (Lf = o)), es(Bf, Yf, Lf) } function ls(t) { return function () { return t } } function hs(t, n) { function e(e, r) { return e = t(e, r), n(e[0], e[1]) } return t.invert && n.invert && (e.invert = function (e, r) { return (e = n.invert(e, r)) && t.invert(e[0], e[1]) }), e } function ds(t, n) { return [Ec(t) > xc ? t + Math.round(-t / Ac) * Ac : t, n] } function ps(t, n, e) { return (t %= Ac) ? n || e ? hs(ys(t), vs(n, e)) : ys(t) : n || e ? vs(n, e) : ds } function gs(t) { return function (n, e) { return [(n += t) > xc ? n - Ac : n < -xc ? n + Ac : n, e] } } function ys(t) { var n = gs(t); return n.invert = gs(-t), n } function vs(t, n) { var e = Cc(t), r = Fc(t), i = Cc(n), o = Fc(n); function a(t, n) { var a = Cc(n), u = Cc(t) * a, c = Fc(t) * a, f = Fc(n), s = f * e + u * r; return [Nc(c * i - s * o, u * e - f * r), Yc(s * i + c * o)] } return a.invert = function (t, n) { var a = Cc(n), u = Cc(t) * a, c = Fc(t) * a, f = Fc(n), s = f * i - c * o; return [Nc(c * i + f * o, u * e + s * r), Yc(s * e - u * r)] }, a } function _s(t) { function n(n) { return (n = t(n[0] * Sc, n[1] * Sc))[0] *= Tc, n[1] *= Tc, n } return t = ps(t[0] * Sc, t[1] * Sc, t.length > 2 ? t[2] * Sc : 0), n.invert = function (n) { return (n = t.invert(n[0] * Sc, n[1] * Sc))[0] *= Tc, n[1] *= Tc, n }, n } function bs(t, n, e, r, i, o) { if (e) { var a = Cc(n), u = Fc(n), c = r * e; null == i ? (i = n + r * Ac, o = n - c / 2) : (i = ms(a, i), o = ms(a, o), (r > 0 ? i < o : i > o) && (i += r * Ac)); for (var f, s = i; r > 0 ? s > o : s < o; s -= c)f = mf([a, -u * Cc(s), -u * Fc(s)]), t.point(f[0], f[1]) } } function ms(t, n) { (n = xf(n))[0] -= t, Sf(n); var e = Bc(-n[1]); return ((-n[2] < 0 ? -e : e) + Ac - bc) % Ac } function xs() { var t, n = []; return { point: function (n, e, r) { t.push([n, e, r]) }, lineStart: function () { n.push(t = []) }, lineEnd: jc, rejoin: function () { n.length > 1 && n.push(n.pop().concat(n.shift())) }, result: function () { var e = n; return n = [], t = null, e } } } function ws(t, n) { return Ec(t[0] - n[0]) < bc && Ec(t[1] - n[1]) < bc } function Ms(t, n, e, r) { this.x = t, this.z = n, this.o = e, this.e = r, this.v = !1, this.n = this.p = null } function As(t, n, e, r, i) { var o, a, u = [], c = []; if (t.forEach((function (t) { if (!((n = t.length - 1) <= 0)) { var n, e, r = t[0], a = t[n]; if (ws(r, a)) { if (!r[2] && !a[2]) { for (i.lineStart(), o = 0; o < n; ++o)i.point((r = t[o])[0], r[1]); return void i.lineEnd() } a[0] += 2e-6 } u.push(e = new Ms(r, t, null, !0)), c.push(e.o = new Ms(r, null, e, !1)), u.push(e = new Ms(a, t, null, !1)), c.push(e.o = new Ms(a, null, e, !0)) } })), u.length) { for (c.sort(n), Ts(u), Ts(c), o = 0, a = c.length; o < a; ++o)c[o].e = e = !e; for (var f, s, l = u[0]; ;) { for (var h = l, d = !0; h.v;)if ((h = h.n) === l) return; f = h.z, i.lineStart(); do { if (h.v = h.o.v = !0, h.e) { if (d) for (o = 0, a = f.length; o < a; ++o)i.point((s = f[o])[0], s[1]); else r(h.x, h.n.x, 1, i); h = h.n } else { if (d) for (f = h.p.z, o = f.length - 1; o >= 0; --o)i.point((s = f[o])[0], s[1]); else r(h.x, h.p.x, -1, i); h = h.p } f = (h = h.o).z, d = !d } while (!h.v); i.lineEnd() } } } function Ts(t) { if (n = t.length) { for (var n, e, r = 0, i = t[0]; ++r < n;)i.n = e = t[r], e.p = i, i = e; i.n = e = t[0], e.p = i } } function Ss(t) { return Ec(t[0]) <= xc ? t[0] : Oc(t[0]) * ((Ec(t[0]) + xc) % Ac - xc) } function Es(t, n) { var e = Ss(n), r = n[1], i = Fc(r), o = [Fc(e), -Cc(e), 0], a = 0, u = 0, c = new g; 1 === i ? r = wc + bc : -1 === i && (r = -wc - bc); for (var f = 0, s = t.length; f < s; ++f)if (h = (l = t[f]).length) for (var l, h, d = l[h - 1], p = Ss(d), y = d[1] / 2 + Mc, v = Fc(y), _ = Cc(y), b = 0; b < h; ++b, p = x, v = M, _ = A, d = m) { var m = l[b], x = Ss(m), w = m[1] / 2 + Mc, M = Fc(w), A = Cc(w), T = x - p, S = T >= 0 ? 1 : -1, E = S * T, k = E > xc, N = v * M; if (c.add(Nc(N * S * Fc(E), _ * A + N * Cc(E))), a += k ? T + S * Ac : T, k ^ p >= e ^ x >= e) { var C = Mf(xf(d), xf(m)); Sf(C); var P = Mf(o, C); Sf(P); var z = (k ^ T >= 0 ? -1 : 1) * Yc(P[2]); (r > z || r === z && (C[0] || C[1])) && (u += k ^ T >= 0 ? 1 : -1) } } return (a < -1e-6 || a < bc && c < -1e-12) ^ 1 & u } function ks(t, n, e, r) { return function (i) { var o, a, u, c = n(i), f = xs(), s = n(f), l = !1, h = { point: d, lineStart: g, lineEnd: y, polygonStart: function () { h.point = v, h.lineStart = _, h.lineEnd = b, a = [], o = [] }, polygonEnd: function () { h.point = d, h.lineStart = g, h.lineEnd = y, a = V(a); var t = Es(o, r); a.length ? (l || (i.polygonStart(), l = !0), As(a, Cs, t, e, i)) : t && (l || (i.polygonStart(), l = !0), i.lineStart(), e(null, null, 1, i), i.lineEnd()), l && (i.polygonEnd(), l = !1), a = o = null }, sphere: function () { i.polygonStart(), i.lineStart(), e(null, null, 1, i), i.lineEnd(), i.polygonEnd() } }; function d(n, e) { t(n, e) && i.point(n, e) } function p(t, n) { c.point(t, n) } function g() { h.point = p, c.lineStart() } function y() { h.point = d, c.lineEnd() } function v(t, n) { u.push([t, n]), s.point(t, n) } function _() { s.lineStart(), u = [] } function b() { v(u[0][0], u[0][1]), s.lineEnd(); var t, n, e, r, c = s.clean(), h = f.result(), d = h.length; if (u.pop(), o.push(u), u = null, d) if (1 & c) { if ((n = (e = h[0]).length - 1) > 0) { for (l || (i.polygonStart(), l = !0), i.lineStart(), t = 0; t < n; ++t)i.point((r = e[t])[0], r[1]); i.lineEnd() } } else d > 1 && 2 & c && h.push(h.pop().concat(h.shift())), a.push(h.filter(Ns)) } return h } } function Ns(t) { return t.length > 1 } function Cs(t, n) { return ((t = t.x)[0] < 0 ? t[1] - wc - bc : wc - t[1]) - ((n = n.x)[0] < 0 ? n[1] - wc - bc : wc - n[1]) } ds.invert = ds; var Ps = ks((function () { return !0 }), (function (t) { var n, e = NaN, r = NaN, i = NaN; return { lineStart: function () { t.lineStart(), n = 1 }, point: function (o, a) { var u = o > 0 ? xc : -xc, c = Ec(o - e); Ec(c - xc) < bc ? (t.point(e, r = (r + a) / 2 > 0 ? wc : -wc), t.point(i, r), t.lineEnd(), t.lineStart(), t.point(u, r), t.point(o, r), n = 0) : i !== u && c >= xc && (Ec(e - i) < bc && (e -= i * bc), Ec(o - u) < bc && (o -= u * bc), r = function (t, n, e, r) { var i, o, a = Fc(t - e); return Ec(a) > bc ? kc((Fc(n) * (o = Cc(r)) * Fc(e) - Fc(r) * (i = Cc(n)) * Fc(t)) / (i * o * a)) : (n + r) / 2 }(e, r, o, a), t.point(i, r), t.lineEnd(), t.lineStart(), t.point(u, r), n = 0), t.point(e = o, r = a), i = u }, lineEnd: function () { t.lineEnd(), e = r = NaN }, clean: function () { return 2 - n } } }), (function (t, n, e, r) { var i; if (null == t) i = e * wc, r.point(-xc, i), r.point(0, i), r.point(xc, i), r.point(xc, 0), r.point(xc, -i), r.point(0, -i), r.point(-xc, -i), r.point(-xc, 0), r.point(-xc, i); else if (Ec(t[0] - n[0]) > bc) { var o = t[0] < n[0] ? xc : -xc; i = e * o / 2, r.point(-o, i), r.point(0, i), r.point(o, i) } else r.point(n[0], n[1]) }), [-xc, -wc]); function zs(t) { var n = Cc(t), e = 6 * Sc, r = n > 0, i = Ec(n) > bc; function o(t, e) { return Cc(t) * Cc(e) > n } function a(t, e, r) { var i = [1, 0, 0], o = Mf(xf(t), xf(e)), a = wf(o, o), u = o[0], c = a - u * u; if (!c) return !r && t; var f = n * a / c, s = -n * u / c, l = Mf(i, o), h = Tf(i, f); Af(h, Tf(o, s)); var d = l, p = wf(h, d), g = wf(d, d), y = p * p - g * (wf(h, h) - 1); if (!(y < 0)) { var v = Ic(y), _ = Tf(d, (-p - v) / g); if (Af(_, h), _ = mf(_), !r) return _; var b, m = t[0], x = e[0], w = t[1], M = e[1]; x < m && (b = m, m = x, x = b); var A = x - m, T = Ec(A - xc) < bc; if (!T && M < w && (b = w, w = M, M = b), T || A < bc ? T ? w + M > 0 ^ _[1] < (Ec(_[0] - m) < bc ? w : M) : w <= _[1] && _[1] <= M : A > xc ^ (m <= _[0] && _[0] <= x)) { var S = Tf(d, (-p + v) / g); return Af(S, h), [_, mf(S)] } } } function u(n, e) { var i = r ? t : xc - t, o = 0; return n < -i ? o |= 1 : n > i && (o |= 2), e < -i ? o |= 4 : e > i && (o |= 8), o } return ks(o, (function (t) { var n, e, c, f, s; return { lineStart: function () { f = c = !1, s = 1 }, point: function (l, h) { var d, p = [l, h], g = o(l, h), y = r ? g ? 0 : u(l, h) : g ? u(l + (l < 0 ? xc : -xc), h) : 0; if (!n && (f = c = g) && t.lineStart(), g !== c && (!(d = a(n, p)) || ws(n, d) || ws(p, d)) && (p[2] = 1), g !== c) s = 0, g ? (t.lineStart(), d = a(p, n), t.point(d[0], d[1])) : (d = a(n, p), t.point(d[0], d[1], 2), t.lineEnd()), n = d; else if (i && n && r ^ g) { var v; y & e || !(v = a(p, n, !0)) || (s = 0, r ? (t.lineStart(), t.point(v[0][0], v[0][1]), t.point(v[1][0], v[1][1]), t.lineEnd()) : (t.point(v[1][0], v[1][1]), t.lineEnd(), t.lineStart(), t.point(v[0][0], v[0][1], 3))) } !g || n && ws(n, p) || t.point(p[0], p[1]), n = p, c = g, e = y }, lineEnd: function () { c && t.lineEnd(), n = null }, clean: function () { return s | (f && c) << 1 } } }), (function (n, r, i, o) { bs(o, t, e, i, n, r) }), r ? [0, -t] : [-xc, t - xc]) } var Ds, qs, Rs, Fs, Os = 1e9, Is = -Os; function Us(t, n, e, r) { function i(i, o) { return t <= i && i <= e && n <= o && o <= r } function o(i, o, u, f) { var s = 0, l = 0; if (null == i || (s = a(i, u)) !== (l = a(o, u)) || c(i, o) < 0 ^ u > 0) do { f.point(0 === s || 3 === s ? t : e, s > 1 ? r : n) } while ((s = (s + u + 4) % 4) !== l); else f.point(o[0], o[1]) } function a(r, i) { return Ec(r[0] - t) < bc ? i > 0 ? 0 : 3 : Ec(r[0] - e) < bc ? i > 0 ? 2 : 1 : Ec(r[1] - n) < bc ? i > 0 ? 1 : 0 : i > 0 ? 3 : 2 } function u(t, n) { return c(t.x, n.x) } function c(t, n) { var e = a(t, 1), r = a(n, 1); return e !== r ? e - r : 0 === e ? n[1] - t[1] : 1 === e ? t[0] - n[0] : 2 === e ? t[1] - n[1] : n[0] - t[0] } return function (a) { var c, f, s, l, h, d, p, g, y, v, _, b = a, m = xs(), x = { point: w, lineStart: function () { x.point = M, f && f.push(s = []); v = !0, y = !1, p = g = NaN }, lineEnd: function () { c && (M(l, h), d && y && m.rejoin(), c.push(m.result())); x.point = w, y && b.lineEnd() }, polygonStart: function () { b = m, c = [], f = [], _ = !0 }, polygonEnd: function () { var n = function () { for (var n = 0, e = 0, i = f.length; e < i; ++e)for (var o, a, u = f[e], c = 1, s = u.length, l = u[0], h = l[0], d = l[1]; c < s; ++c)o = h, a = d, h = (l = u[c])[0], d = l[1], a <= r ? d > r && (h - o) * (r - a) > (d - a) * (t - o) && ++n : d <= r && (h - o) * (r - a) < (d - a) * (t - o) && --n; return n }(), e = _ && n, i = (c = V(c)).length; (e || i) && (a.polygonStart(), e && (a.lineStart(), o(null, null, 1, a), a.lineEnd()), i && As(c, u, n, o, a), a.polygonEnd()); b = a, c = f = s = null } }; function w(t, n) { i(t, n) && b.point(t, n) } function M(o, a) { var u = i(o, a); if (f && s.push([o, a]), v) l = o, h = a, d = u, v = !1, u && (b.lineStart(), b.point(o, a)); else if (u && y) b.point(o, a); else { var c = [p = Math.max(Is, Math.min(Os, p)), g = Math.max(Is, Math.min(Os, g))], m = [o = Math.max(Is, Math.min(Os, o)), a = Math.max(Is, Math.min(Os, a))]; !function (t, n, e, r, i, o) { var a, u = t[0], c = t[1], f = 0, s = 1, l = n[0] - u, h = n[1] - c; if (a = e - u, l || !(a > 0)) { if (a /= l, l < 0) { if (a < f) return; a < s && (s = a) } else if (l > 0) { if (a > s) return; a > f && (f = a) } if (a = i - u, l || !(a < 0)) { if (a /= l, l < 0) { if (a > s) return; a > f && (f = a) } else if (l > 0) { if (a < f) return; a < s && (s = a) } if (a = r - c, h || !(a > 0)) { if (a /= h, h < 0) { if (a < f) return; a < s && (s = a) } else if (h > 0) { if (a > s) return; a > f && (f = a) } if (a = o - c, h || !(a < 0)) { if (a /= h, h < 0) { if (a > s) return; a > f && (f = a) } else if (h > 0) { if (a < f) return; a < s && (s = a) } return f > 0 && (t[0] = u + f * l, t[1] = c + f * h), s < 1 && (n[0] = u + s * l, n[1] = c + s * h), !0 } } } } }(c, m, t, n, e, r) ? u && (b.lineStart(), b.point(o, a), _ = !1) : (y || (b.lineStart(), b.point(c[0], c[1])), b.point(m[0], m[1]), u || b.lineEnd(), _ = !1) } p = o, g = a, y = u } return x } } var Bs = { sphere: jc, point: jc, lineStart: function () { Bs.point = Ls, Bs.lineEnd = Ys }, lineEnd: jc, polygonStart: jc, polygonEnd: jc }; function Ys() { Bs.point = Bs.lineEnd = jc } function Ls(t, n) { qs = t *= Sc, Rs = Fc(n *= Sc), Fs = Cc(n), Bs.point = js } function js(t, n) { t *= Sc; var e = Fc(n *= Sc), r = Cc(n), i = Ec(t - qs), o = Cc(i), a = r * Fc(i), u = Fs * e - Rs * r * o, c = Rs * e + Fs * r * o; Ds.add(Nc(Ic(a * a + u * u), c)), qs = t, Rs = e, Fs = r } function Hs(t) { return Ds = new g, Wc(t, Bs), +Ds } var Xs = [null, null], Gs = { type: "LineString", coordinates: Xs }; function Vs(t, n) { return Xs[0] = t, Xs[1] = n, Hs(Gs) } var $s = { Feature: function (t, n) { return Zs(t.geometry, n) }, FeatureCollection: function (t, n) { for (var e = t.features, r = -1, i = e.length; ++r < i;)if (Zs(e[r].geometry, n)) return !0; return !1 } }, Ws = { Sphere: function () { return !0 }, Point: function (t, n) { return Ks(t.coordinates, n) }, MultiPoint: function (t, n) { for (var e = t.coordinates, r = -1, i = e.length; ++r < i;)if (Ks(e[r], n)) return !0; return !1 }, LineString: function (t, n) { return Qs(t.coordinates, n) }, MultiLineString: function (t, n) { for (var e = t.coordinates, r = -1, i = e.length; ++r < i;)if (Qs(e[r], n)) return !0; return !1 }, Polygon: function (t, n) { return Js(t.coordinates, n) }, MultiPolygon: function (t, n) { for (var e = t.coordinates, r = -1, i = e.length; ++r < i;)if (Js(e[r], n)) return !0; return !1 }, GeometryCollection: function (t, n) { for (var e = t.geometries, r = -1, i = e.length; ++r < i;)if (Zs(e[r], n)) return !0; return !1 } }; function Zs(t, n) { return !(!t || !Ws.hasOwnProperty(t.type)) && Ws[t.type](t, n) } function Ks(t, n) { return 0 === Vs(t, n) } function Qs(t, n) { for (var e, r, i, o = 0, a = t.length; o < a; o++) { if (0 === (r = Vs(t[o], n))) return !0; if (o > 0 && (i = Vs(t[o], t[o - 1])) > 0 && e <= i && r <= i && (e + r - i) * (1 - Math.pow((e - r) / i, 2)) < mc * i) return !0; e = r } return !1 } function Js(t, n) { return !!Es(t.map(tl), nl(n)) } function tl(t) { return (t = t.map(nl)).pop(), t } function nl(t) { return [t[0] * Sc, t[1] * Sc] } function el(t, n, e) { var r = Z(t, n - bc, e).concat(n); return function (t) { return r.map((function (n) { return [t, n] })) } } function rl(t, n, e) { var r = Z(t, n - bc, e).concat(n); return function (t) { return r.map((function (n) { return [n, t] })) } } function il() { var t, n, e, r, i, o, a, u, c, f, s, l, h = 10, d = h, p = 90, g = 360, y = 2.5; function v() { return { type: "MultiLineString", coordinates: _() } } function _() { return Z(Pc(r / p) * p, e, p).map(s).concat(Z(Pc(u / g) * g, a, g).map(l)).concat(Z(Pc(n / h) * h, t, h).filter((function (t) { return Ec(t % p) > bc })).map(c)).concat(Z(Pc(o / d) * d, i, d).filter((function (t) { return Ec(t % g) > bc })).map(f)) } return v.lines = function () { return _().map((function (t) { return { type: "LineString", coordinates: t } })) }, v.outline = function () { return { type: "Polygon", coordinates: [s(r).concat(l(a).slice(1), s(e).reverse().slice(1), l(u).reverse().slice(1))] } }, v.extent = function (t) { return arguments.length ? v.extentMajor(t).extentMinor(t) : v.extentMinor() }, v.extentMajor = function (t) { return arguments.length ? (r = +t[0][0], e = +t[1][0], u = +t[0][1], a = +t[1][1], r > e && (t = r, r = e, e = t), u > a && (t = u, u = a, a = t), v.precision(y)) : [[r, u], [e, a]] }, v.extentMinor = function (e) { return arguments.length ? (n = +e[0][0], t = +e[1][0], o = +e[0][1], i = +e[1][1], n > t && (e = n, n = t, t = e), o > i && (e = o, o = i, i = e), v.precision(y)) : [[n, o], [t, i]] }, v.step = function (t) { return arguments.length ? v.stepMajor(t).stepMinor(t) : v.stepMinor() }, v.stepMajor = function (t) { return arguments.length ? (p = +t[0], g = +t[1], v) : [p, g] }, v.stepMinor = function (t) { return arguments.length ? (h = +t[0], d = +t[1], v) : [h, d] }, v.precision = function (h) { return arguments.length ? (y = +h, c = el(o, i, 90), f = rl(n, t, y), s = el(u, a, 90), l = rl(r, e, y), v) : y }, v.extentMajor([[-180, -89.999999], [180, 89.999999]]).extentMinor([[-180, -80.000001], [180, 80.000001]]) } var ol, al, ul, cl, fl = t => t, sl = new g, ll = new g, hl = { point: jc, lineStart: jc, lineEnd: jc, polygonStart: function () { hl.lineStart = dl, hl.lineEnd = yl }, polygonEnd: function () { hl.lineStart = hl.lineEnd = hl.point = jc, sl.add(Ec(ll)), ll = new g }, result: function () { var t = sl / 2; return sl = new g, t } }; function dl() { hl.point = pl } function pl(t, n) { hl.point = gl, ol = ul = t, al = cl = n } function gl(t, n) { ll.add(cl * t - ul * n), ul = t, cl = n } function yl() { gl(ol, al) } var vl = 1 / 0, _l = vl, bl = -vl, ml = bl, xl = { point: function (t, n) { t < vl && (vl = t); t > bl && (bl = t); n < _l && (_l = n); n > ml && (ml = n) }, lineStart: jc, lineEnd: jc, polygonStart: jc, polygonEnd: jc, result: function () { var t = [[vl, _l], [bl, ml]]; return bl = ml = -(_l = vl = 1 / 0), t } }; var wl, Ml, Al, Tl, Sl = 0, El = 0, kl = 0, Nl = 0, Cl = 0, Pl = 0, zl = 0, Dl = 0, ql = 0, Rl = { point: Fl, lineStart: Ol, lineEnd: Bl, polygonStart: function () { Rl.lineStart = Yl, Rl.lineEnd = Ll }, polygonEnd: function () { Rl.point = Fl, Rl.lineStart = Ol, Rl.lineEnd = Bl }, result: function () { var t = ql ? [zl / ql, Dl / ql] : Pl ? [Nl / Pl, Cl / Pl] : kl ? [Sl / kl, El / kl] : [NaN, NaN]; return Sl = El = kl = Nl = Cl = Pl = zl = Dl = ql = 0, t } }; function Fl(t, n) { Sl += t, El += n, ++kl } function Ol() { Rl.point = Il } function Il(t, n) { Rl.point = Ul, Fl(Al = t, Tl = n) } function Ul(t, n) { var e = t - Al, r = n - Tl, i = Ic(e * e + r * r); Nl += i * (Al + t) / 2, Cl += i * (Tl + n) / 2, Pl += i, Fl(Al = t, Tl = n) } function Bl() { Rl.point = Fl } function Yl() { Rl.point = jl } function Ll() { Hl(wl, Ml) } function jl(t, n) { Rl.point = Hl, Fl(wl = Al = t, Ml = Tl = n) } function Hl(t, n) { var e = t - Al, r = n - Tl, i = Ic(e * e + r * r); Nl += i * (Al + t) / 2, Cl += i * (Tl + n) / 2, Pl += i, zl += (i = Tl * t - Al * n) * (Al + t), Dl += i * (Tl + n), ql += 3 * i, Fl(Al = t, Tl = n) } function Xl(t) { this._context = t } Xl.prototype = { _radius: 4.5, pointRadius: function (t) { return this._radius = t, this }, polygonStart: function () { this._line = 0 }, polygonEnd: function () { this._line = NaN }, lineStart: function () { this._point = 0 }, lineEnd: function () { 0 === this._line && this._context.closePath(), this._point = NaN }, point: function (t, n) { switch (this._point) { case 0: this._context.moveTo(t, n), this._point = 1; break; case 1: this._context.lineTo(t, n); break; default: this._context.moveTo(t + this._radius, n), this._context.arc(t, n, this._radius, 0, Ac) } }, result: jc }; var Gl, Vl, $l, Wl, Zl, Kl = new g, Ql = { point: jc, lineStart: function () { Ql.point = Jl }, lineEnd: function () { Gl && th(Vl, $l), Ql.point = jc }, polygonStart: function () { Gl = !0 }, polygonEnd: function () { Gl = null }, result: function () { var t = +Kl; return Kl = new g, t } }; function Jl(t, n) { Ql.point = th, Vl = Wl = t, $l = Zl = n } function th(t, n) { Wl -= t, Zl -= n, Kl.add(Ic(Wl * Wl + Zl * Zl)), Wl = t, Zl = n } function nh() { this._string = [] } function eh(t) { return "m0," + t + "a" + t + "," + t + " 0 1,1 0," + -2 * t + "a" + t + "," + t + " 0 1,1 0," + 2 * t + "z" } function rh(t) { return function (n) { var e = new ih; for (var r in t) e[r] = t[r]; return e.stream = n, e } } function ih() { } function oh(t, n, e) { var r = t.clipExtent && t.clipExtent(); return t.scale(150).translate([0, 0]), null != r && t.clipExtent(null), Wc(e, t.stream(xl)), n(xl.result()), null != r && t.clipExtent(r), t } function ah(t, n, e) { return oh(t, (function (e) { var r = n[1][0] - n[0][0], i = n[1][1] - n[0][1], o = Math.min(r / (e[1][0] - e[0][0]), i / (e[1][1] - e[0][1])), a = +n[0][0] + (r - o * (e[1][0] + e[0][0])) / 2, u = +n[0][1] + (i - o * (e[1][1] + e[0][1])) / 2; t.scale(150 * o).translate([a, u]) }), e) } function uh(t, n, e) { return ah(t, [[0, 0], n], e) } function ch(t, n, e) { return oh(t, (function (e) { var r = +n, i = r / (e[1][0] - e[0][0]), o = (r - i * (e[1][0] + e[0][0])) / 2, a = -i * e[0][1]; t.scale(150 * i).translate([o, a]) }), e) } function fh(t, n, e) { return oh(t, (function (e) { var r = +n, i = r / (e[1][1] - e[0][1]), o = -i * e[0][0], a = (r - i * (e[1][1] + e[0][1])) / 2; t.scale(150 * i).translate([o, a]) }), e) } nh.prototype = { _radius: 4.5, _circle: eh(4.5), pointRadius: function (t) { return (t = +t) !== this._radius && (this._radius = t, this._circle = null), this }, polygonStart: function () { this._line = 0 }, polygonEnd: function () { this._line = NaN }, lineStart: function () { this._point = 0 }, lineEnd: function () { 0 === this._line && this._string.push("Z"), this._point = NaN }, point: function (t, n) { switch (this._point) { case 0: this._string.push("M", t, ",", n), this._point = 1; break; case 1: this._string.push("L", t, ",", n); break; default: null == this._circle && (this._circle = eh(this._radius)), this._string.push("M", t, ",", n, this._circle) } }, result: function () { if (this._string.length) { var t = this._string.join(""); return this._string = [], t } return null } }, ih.prototype = { constructor: ih, point: function (t, n) { this.stream.point(t, n) }, sphere: function () { this.stream.sphere() }, lineStart: function () { this.stream.lineStart() }, lineEnd: function () { this.stream.lineEnd() }, polygonStart: function () { this.stream.polygonStart() }, polygonEnd: function () { this.stream.polygonEnd() } }; var sh = Cc(30 * Sc); function lh(t, n) { return +n ? function (t, n) { function e(r, i, o, a, u, c, f, s, l, h, d, p, g, y) { var v = f - r, _ = s - i, b = v * v + _ * _; if (b > 4 * n && g--) { var m = a + h, x = u + d, w = c + p, M = Ic(m * m + x * x + w * w), A = Yc(w /= M), T = Ec(Ec(w) - 1) < bc || Ec(o - l) < bc ? (o + l) / 2 : Nc(x, m), S = t(T, A), E = S[0], k = S[1], N = E - r, C = k - i, P = _ * N - v * C; (P * P / b > n || Ec((v * N + _ * C) / b - .5) > .3 || a * h + u * d + c * p < sh) && (e(r, i, o, a, u, c, E, k, T, m /= M, x /= M, w, g, y), y.point(E, k), e(E, k, T, m, x, w, f, s, l, h, d, p, g, y)) } } return function (n) { var r, i, o, a, u, c, f, s, l, h, d, p, g = { point: y, lineStart: v, lineEnd: b, polygonStart: function () { n.polygonStart(), g.lineStart = m }, polygonEnd: function () { n.polygonEnd(), g.lineStart = v } }; function y(e, r) { e = t(e, r), n.point(e[0], e[1]) } function v() { s = NaN, g.point = _, n.lineStart() } function _(r, i) { var o = xf([r, i]), a = t(r, i); e(s, l, f, h, d, p, s = a[0], l = a[1], f = r, h = o[0], d = o[1], p = o[2], 16, n), n.point(s, l) } function b() { g.point = y, n.lineEnd() } function m() { v(), g.point = x, g.lineEnd = w } function x(t, n) { _(r = t, n), i = s, o = l, a = h, u = d, c = p, g.point = _ } function w() { e(s, l, f, h, d, p, i, o, r, a, u, c, 16, n), g.lineEnd = b, b() } return g } }(t, n) : function (t) { return rh({ point: function (n, e) { n = t(n, e), this.stream.point(n[0], n[1]) } }) }(t) } var hh = rh({ point: function (t, n) { this.stream.point(t * Sc, n * Sc) } }); function dh(t, n, e, r, i, o) { if (!o) return function (t, n, e, r, i) { function o(o, a) { return [n + t * (o *= r), e - t * (a *= i)] } return o.invert = function (o, a) { return [(o - n) / t * r, (e - a) / t * i] }, o }(t, n, e, r, i); var a = Cc(o), u = Fc(o), c = a * t, f = u * t, s = a / t, l = u / t, h = (u * e - a * n) / t, d = (u * n + a * e) / t; function p(t, o) { return [c * (t *= r) - f * (o *= i) + n, e - f * t - c * o] } return p.invert = function (t, n) { return [r * (s * t - l * n + h), i * (d - l * t - s * n)] }, p } function ph(t) { return gh((function () { return t }))() } function gh(t) { var n, e, r, i, o, a, u, c, f, s, l = 150, h = 480, d = 250, p = 0, g = 0, y = 0, v = 0, _ = 0, b = 0, m = 1, x = 1, w = null, M = Ps, A = null, T = fl, S = .5; function E(t) { return c(t[0] * Sc, t[1] * Sc) } function k(t) { return (t = c.invert(t[0], t[1])) && [t[0] * Tc, t[1] * Tc] } function N() { var t = dh(l, 0, 0, m, x, b).apply(null, n(p, g)), r = dh(l, h - t[0], d - t[1], m, x, b); return e = ps(y, v, _), u = hs(n, r), c = hs(e, u), a = lh(u, S), C() } function C() { return f = s = null, E } return E.stream = function (t) { return f && s === t ? f : f = hh(function (t) { return rh({ point: function (n, e) { var r = t(n, e); return this.stream.point(r[0], r[1]) } }) }(e)(M(a(T(s = t))))) }, E.preclip = function (t) { return arguments.length ? (M = t, w = void 0, C()) : M }, E.postclip = function (t) { return arguments.length ? (T = t, A = r = i = o = null, C()) : T }, E.clipAngle = function (t) { return arguments.length ? (M = +t ? zs(w = t * Sc) : (w = null, Ps), C()) : w * Tc }, E.clipExtent = function (t) { return arguments.length ? (T = null == t ? (A = r = i = o = null, fl) : Us(A = +t[0][0], r = +t[0][1], i = +t[1][0], o = +t[1][1]), C()) : null == A ? null : [[A, r], [i, o]] }, E.scale = function (t) { return arguments.length ? (l = +t, N()) : l }, E.translate = function (t) { return arguments.length ? (h = +t[0], d = +t[1], N()) : [h, d] }, E.center = function (t) { return arguments.length ? (p = t[0] % 360 * Sc, g = t[1] % 360 * Sc, N()) : [p * Tc, g * Tc] }, E.rotate = function (t) { return arguments.length ? (y = t[0] % 360 * Sc, v = t[1] % 360 * Sc, _ = t.length > 2 ? t[2] % 360 * Sc : 0, N()) : [y * Tc, v * Tc, _ * Tc] }, E.angle = function (t) { return arguments.length ? (b = t % 360 * Sc, N()) : b * Tc }, E.reflectX = function (t) { return arguments.length ? (m = t ? -1 : 1, N()) : m < 0 }, E.reflectY = function (t) { return arguments.length ? (x = t ? -1 : 1, N()) : x < 0 }, E.precision = function (t) { return arguments.length ? (a = lh(u, S = t * t), C()) : Ic(S) }, E.fitExtent = function (t, n) { return ah(E, t, n) }, E.fitSize = function (t, n) { return uh(E, t, n) }, E.fitWidth = function (t, n) { return ch(E, t, n) }, E.fitHeight = function (t, n) { return fh(E, t, n) }, function () { return n = t.apply(this, arguments), E.invert = n.invert && k, N() } } function yh(t) { var n = 0, e = xc / 3, r = gh(t), i = r(n, e); return i.parallels = function (t) { return arguments.length ? r(n = t[0] * Sc, e = t[1] * Sc) : [n * Tc, e * Tc] }, i } function vh(t, n) { var e = Fc(t), r = (e + Fc(n)) / 2; if (Ec(r) < bc) return function (t) { var n = Cc(t); function e(t, e) { return [t * n, Fc(e) / n] } return e.invert = function (t, e) { return [t / n, Yc(e * n)] }, e }(t); var i = 1 + e * (2 * r - e), o = Ic(i) / r; function a(t, n) { var e = Ic(i - 2 * r * Fc(n)) / r; return [e * Fc(t *= r), o - e * Cc(t)] } return a.invert = function (t, n) { var e = o - n, a = Nc(t, Ec(e)) * Oc(e); return e * r < 0 && (a -= xc * Oc(t) * Oc(e)), [a / r, Yc((i - (t * t + e * e) * r * r) / (2 * r))] }, a } function _h() { return yh(vh).scale(155.424).center([0, 33.6442]) } function bh() { return _h().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-.6, 38.7]) } function mh(t) { return function (n, e) { var r = Cc(n), i = Cc(e), o = t(r * i); return o === 1 / 0 ? [2, 0] : [o * i * Fc(n), o * Fc(e)] } } function xh(t) { return function (n, e) { var r = Ic(n * n + e * e), i = t(r), o = Fc(i), a = Cc(i); return [Nc(n * o, r * a), Yc(r && e * o / r)] } } var wh = mh((function (t) { return Ic(2 / (1 + t)) })); wh.invert = xh((function (t) { return 2 * Yc(t / 2) })); var Mh = mh((function (t) { return (t = Bc(t)) && t / Fc(t) })); function Ah(t, n) { return [t, qc(Uc((wc + n) / 2))] } function Th(t) { var n, e, r, i = ph(t), o = i.center, a = i.scale, u = i.translate, c = i.clipExtent, f = null; function s() { var o = xc * a(), u = i(_s(i.rotate()).invert([0, 0])); return c(null == f ? [[u[0] - o, u[1] - o], [u[0] + o, u[1] + o]] : t === Ah ? [[Math.max(u[0] - o, f), n], [Math.min(u[0] + o, e), r]] : [[f, Math.max(u[1] - o, n)], [e, Math.min(u[1] + o, r)]]) } return i.scale = function (t) { return arguments.length ? (a(t), s()) : a() }, i.translate = function (t) { return arguments.length ? (u(t), s()) : u() }, i.center = function (t) { return arguments.length ? (o(t), s()) : o() }, i.clipExtent = function (t) { return arguments.length ? (null == t ? f = n = e = r = null : (f = +t[0][0], n = +t[0][1], e = +t[1][0], r = +t[1][1]), s()) : null == f ? null : [[f, n], [e, r]] }, s() } function Sh(t) { return Uc((wc + t) / 2) } function Eh(t, n) { var e = Cc(t), r = t === n ? Fc(t) : qc(e / Cc(n)) / qc(Sh(n) / Sh(t)), i = e * Rc(Sh(t), r) / r; if (!r) return Ah; function o(t, n) { i > 0 ? n < -wc + bc && (n = -wc + bc) : n > wc - bc && (n = wc - bc); var e = i / Rc(Sh(n), r); return [e * Fc(r * t), i - e * Cc(r * t)] } return o.invert = function (t, n) { var e = i - n, o = Oc(r) * Ic(t * t + e * e), a = Nc(t, Ec(e)) * Oc(e); return e * r < 0 && (a -= xc * Oc(t) * Oc(e)), [a / r, 2 * kc(Rc(i / o, 1 / r)) - wc] }, o } function kh(t, n) { return [t, n] } function Nh(t, n) { var e = Cc(t), r = t === n ? Fc(t) : (e - Cc(n)) / (n - t), i = e / r + t; if (Ec(r) < bc) return kh; function o(t, n) { var e = i - n, o = r * t; return [e * Fc(o), i - e * Cc(o)] } return o.invert = function (t, n) { var e = i - n, o = Nc(t, Ec(e)) * Oc(e); return e * r < 0 && (o -= xc * Oc(t) * Oc(e)), [o / r, i - Oc(r) * Ic(t * t + e * e)] }, o } Mh.invert = xh((function (t) { return t })), Ah.invert = function (t, n) { return [t, 2 * kc(zc(n)) - wc] }, kh.invert = kh; var Ch = 1.340264, Ph = -.081106, zh = 893e-6, Dh = .003796, qh = Ic(3) / 2; function Rh(t, n) { var e = Yc(qh * Fc(n)), r = e * e, i = r * r * r; return [t * Cc(e) / (qh * (Ch + 3 * Ph * r + i * (7 * zh + 9 * Dh * r))), e * (Ch + Ph * r + i * (zh + Dh * r))] } function Fh(t, n) { var e = Cc(n), r = Cc(t) * e; return [e * Fc(t) / r, Fc(n) / r] } function Oh(t, n) { var e = n * n, r = e * e; return [t * (.8707 - .131979 * e + r * (r * (.003971 * e - .001529 * r) - .013791)), n * (1.007226 + e * (.015085 + r * (.028874 * e - .044475 - .005916 * r)))] } function Ih(t, n) { return [Cc(n) * Fc(t), Fc(n)] } function Uh(t, n) { var e = Cc(n), r = 1 + Cc(t) * e; return [e * Fc(t) / r, Fc(n) / r] } function Bh(t, n) { return [qc(Uc((wc + n) / 2)), -t] } function Yh(t, n) { return t.parent === n.parent ? 1 : 2 } function Lh(t, n) { return t + n.x } function jh(t, n) { return Math.max(t, n.y) } function Hh(t) { var n = 0, e = t.children, r = e && e.length; if (r) for (; --r >= 0;)n += e[r].value; else n = 1; t.value = n } function Xh(t, n) { t instanceof Map ? (t = [void 0, t], void 0 === n && (n = Vh)) : void 0 === n && (n = Gh); for (var e, r, i, o, a, u = new Zh(t), c = [u]; e = c.pop();)if ((i = n(e.data)) && (a = (i = Array.from(i)).length)) for (e.children = i, o = a - 1; o >= 0; --o)c.push(r = i[o] = new Zh(i[o])), r.parent = e, r.depth = e.depth + 1; return u.eachBefore(Wh) } function Gh(t) { return t.children } function Vh(t) { return Array.isArray(t) ? t[1] : null } function $h(t) { void 0 !== t.data.value && (t.value = t.data.value), t.data = t.data.data } function Wh(t) { var n = 0; do { t.height = n } while ((t = t.parent) && t.height < ++n) } function Zh(t) { this.data = t, this.depth = this.height = 0, this.parent = null } function Kh(t) { for (var n, e, r = 0, i = (t = function (t) { for (var n, e, r = t.length; r;)e = Math.random() * r-- | 0, n = t[r], t[r] = t[e], t[e] = n; return t }(Array.from(t))).length, o = []; r < i;)n = t[r], e && td(e, n) ? ++r : (e = ed(o = Qh(o, n)), r = 0); return e } function Qh(t, n) { var e, r; if (nd(n, t)) return [n]; for (e = 0; e < t.length; ++e)if (Jh(n, t[e]) && nd(rd(t[e], n), t)) return [t[e], n]; for (e = 0; e < t.length - 1; ++e)for (r = e + 1; r < t.length; ++r)if (Jh(rd(t[e], t[r]), n) && Jh(rd(t[e], n), t[r]) && Jh(rd(t[r], n), t[e]) && nd(id(t[e], t[r], n), t)) return [t[e], t[r], n]; throw new Error } function Jh(t, n) { var e = t.r - n.r, r = n.x - t.x, i = n.y - t.y; return e < 0 || e * e < r * r + i * i } function td(t, n) { var e = t.r - n.r + 1e-9 * Math.max(t.r, n.r, 1), r = n.x - t.x, i = n.y - t.y; return e > 0 && e * e > r * r + i * i } function nd(t, n) { for (var e = 0; e < n.length; ++e)if (!td(t, n[e])) return !1; return !0 } function ed(t) { switch (t.length) { case 1: return function (t) { return { x: t.x, y: t.y, r: t.r } }(t[0]); case 2: return rd(t[0], t[1]); case 3: return id(t[0], t[1], t[2]) } } function rd(t, n) { var e = t.x, r = t.y, i = t.r, o = n.x, a = n.y, u = n.r, c = o - e, f = a - r, s = u - i, l = Math.sqrt(c * c + f * f); return { x: (e + o + c / l * s) / 2, y: (r + a + f / l * s) / 2, r: (l + i + u) / 2 } } function id(t, n, e) { var r = t.x, i = t.y, o = t.r, a = n.x, u = n.y, c = n.r, f = e.x, s = e.y, l = e.r, h = r - a, d = r - f, p = i - u, g = i - s, y = c - o, v = l - o, _ = r * r + i * i - o * o, b = _ - a * a - u * u + c * c, m = _ - f * f - s * s + l * l, x = d * p - h * g, w = (p * m - g * b) / (2 * x) - r, M = (g * y - p * v) / x, A = (d * b - h * m) / (2 * x) - i, T = (h * v - d * y) / x, S = M * M + T * T - 1, E = 2 * (o + w * M + A * T), k = w * w + A * A - o * o, N = -(S ? (E + Math.sqrt(E * E - 4 * S * k)) / (2 * S) : k / E); return { x: r + w + M * N, y: i + A + T * N, r: N } } function od(t, n, e) { var r, i, o, a, u = t.x - n.x, c = t.y - n.y, f = u * u + c * c; f ? (i = n.r + e.r, i *= i, a = t.r + e.r, i > (a *= a) ? (r = (f + a - i) / (2 * f), o = Math.sqrt(Math.max(0, a / f - r * r)), e.x = t.x - r * u - o * c, e.y = t.y - r * c + o * u) : (r = (f + i - a) / (2 * f), o = Math.sqrt(Math.max(0, i / f - r * r)), e.x = n.x + r * u - o * c, e.y = n.y + r * c + o * u)) : (e.x = n.x + e.r, e.y = n.y) } function ad(t, n) { var e = t.r + n.r - 1e-6, r = n.x - t.x, i = n.y - t.y; return e > 0 && e * e > r * r + i * i } function ud(t) { var n = t._, e = t.next._, r = n.r + e.r, i = (n.x * e.r + e.x * n.r) / r, o = (n.y * e.r + e.y * n.r) / r; return i * i + o * o } function cd(t) { this._ = t, this.next = null, this.previous = null } function fd(t) { if (!(i = (t = function (t) { return "object" == typeof t && "length" in t ? t : Array.from(t) }(t)).length)) return 0; var n, e, r, i, o, a, u, c, f, s, l; if ((n = t[0]).x = 0, n.y = 0, !(i > 1)) return n.r; if (e = t[1], n.x = -e.r, e.x = n.r, e.y = 0, !(i > 2)) return n.r + e.r; od(e, n, r = t[2]), n = new cd(n), e = new cd(e), r = new cd(r), n.next = r.previous = e, e.next = n.previous = r, r.next = e.previous = n; t: for (u = 3; u < i; ++u) { od(n._, e._, r = t[u]), r = new cd(r), c = e.next, f = n.previous, s = e._.r, l = n._.r; do { if (s <= l) { if (ad(c._, r._)) { e = c, n.next = e, e.previous = n, --u; continue t } s += c._.r, c = c.next } else { if (ad(f._, r._)) { (n = f).next = e, e.previous = n, --u; continue t } l += f._.r, f = f.previous } } while (c !== f.next); for (r.previous = n, r.next = e, n.next = e.previous = e = r, o = ud(n); (r = r.next) !== e;)(a = ud(r)) < o && (n = r, o = a); e = n.next } for (n = [e._], r = e; (r = r.next) !== e;)n.push(r._); for (r = Kh(n), u = 0; u < i; ++u)(n = t[u]).x -= r.x, n.y -= r.y; return r.r } function sd(t) { return null == t ? null : ld(t) } function ld(t) { if ("function" != typeof t) throw new Error; return t } function hd() { return 0 } function dd(t) { return function () { return t } } function pd(t) { return Math.sqrt(t.value) } function gd(t) { return function (n) { n.children || (n.r = Math.max(0, +t(n) || 0)) } } function yd(t, n) { return function (e) { if (r = e.children) { var r, i, o, a = r.length, u = t(e) * n || 0; if (u) for (i = 0; i < a; ++i)r[i].r += u; if (o = fd(r), u) for (i = 0; i < a; ++i)r[i].r -= u; e.r = o + u } } } function vd(t) { return function (n) { var e = n.parent; n.r *= t, e && (n.x = e.x + t * n.x, n.y = e.y + t * n.y) } } function _d(t) { t.x0 = Math.round(t.x0), t.y0 = Math.round(t.y0), t.x1 = Math.round(t.x1), t.y1 = Math.round(t.y1) } function bd(t, n, e, r, i) { for (var o, a = t.children, u = -1, c = a.length, f = t.value && (r - n) / t.value; ++u < c;)(o = a[u]).y0 = e, o.y1 = i, o.x0 = n, o.x1 = n += o.value * f } Rh.invert = function (t, n) { for (var e, r = n, i = r * r, o = i * i * i, a = 0; a < 12 && (o = (i = (r -= e = (r * (Ch + Ph * i + o * (zh + Dh * i)) - n) / (Ch + 3 * Ph * i + o * (7 * zh + 9 * Dh * i))) * r) * i * i, !(Ec(e) < mc)); ++a); return [qh * t * (Ch + 3 * Ph * i + o * (7 * zh + 9 * Dh * i)) / Cc(r), Yc(Fc(r) / qh)] }, Fh.invert = xh(kc), Oh.invert = function (t, n) { var e, r = n, i = 25; do { var o = r * r, a = o * o; r -= e = (r * (1.007226 + o * (.015085 + a * (.028874 * o - .044475 - .005916 * a))) - n) / (1.007226 + o * (.045255 + a * (.259866 * o - .311325 - .005916 * 11 * a))) } while (Ec(e) > bc && --i > 0); return [t / (.8707 + (o = r * r) * (o * (o * o * o * (.003971 - .001529 * o) - .013791) - .131979)), r] }, Ih.invert = xh(Yc), Uh.invert = xh((function (t) { return 2 * kc(t) })), Bh.invert = function (t, n) { return [-n, 2 * kc(zc(t)) - wc] }, Zh.prototype = Xh.prototype = { constructor: Zh, count: function () { return this.eachAfter(Hh) }, each: function (t, n) { let e = -1; for (const r of this) t.call(n, r, ++e, this); return this }, eachAfter: function (t, n) { for (var e, r, i, o = this, a = [o], u = [], c = -1; o = a.pop();)if (u.push(o), e = o.children) for (r = 0, i = e.length; r < i; ++r)a.push(e[r]); for (; o = u.pop();)t.call(n, o, ++c, this); return this }, eachBefore: function (t, n) { for (var e, r, i = this, o = [i], a = -1; i = o.pop();)if (t.call(n, i, ++a, this), e = i.children) for (r = e.length - 1; r >= 0; --r)o.push(e[r]); return this }, find: function (t, n) { let e = -1; for (const r of this) if (t.call(n, r, ++e, this)) return r }, sum: function (t) { return this.eachAfter((function (n) { for (var e = +t(n.data) || 0, r = n.children, i = r && r.length; --i >= 0;)e += r[i].value; n.value = e })) }, sort: function (t) { return this.eachBefore((function (n) { n.children && n.children.sort(t) })) }, path: function (t) { for (var n = this, e = function (t, n) { if (t === n) return t; var e = t.ancestors(), r = n.ancestors(), i = null; t = e.pop(), n = r.pop(); for (; t === n;)i = t, t = e.pop(), n = r.pop(); return i }(n, t), r = [n]; n !== e;)n = n.parent, r.push(n); for (var i = r.length; t !== e;)r.splice(i, 0, t), t = t.parent; return r }, ancestors: function () { for (var t = this, n = [t]; t = t.parent;)n.push(t); return n }, descendants: function () { return Array.from(this) }, leaves: function () { var t = []; return this.eachBefore((function (n) { n.children || t.push(n) })), t }, links: function () { var t = this, n = []; return t.each((function (e) { e !== t && n.push({ source: e.parent, target: e }) })), n }, copy: function () { return Xh(this).eachBefore($h) }, [Symbol.iterator]: function* () { var t, n, e, r, i = this, o = [i]; do { for (t = o.reverse(), o = []; i = t.pop();)if (yield i, n = i.children) for (e = 0, r = n.length; e < r; ++e)o.push(n[e]) } while (o.length) } }; var md = { depth: -1 }, xd = {}; function wd(t) { return t.id } function Md(t) { return t.parentId } function Ad(t, n) { return t.parent === n.parent ? 1 : 2 } function Td(t) { var n = t.children; return n ? n[0] : t.t } function Sd(t) { var n = t.children; return n ? n[n.length - 1] : t.t } function Ed(t, n, e) { var r = e / (n.i - t.i); n.c -= r, n.s += e, t.c += r, n.z += e, n.m += e } function kd(t, n, e) { return t.a.parent === n.parent ? t.a : e } function Nd(t, n) { this._ = t, this.parent = null, this.children = null, this.A = null, this.a = this, this.z = 0, this.m = 0, this.c = 0, this.s = 0, this.t = null, this.i = n } function Cd(t, n, e, r, i) { for (var o, a = t.children, u = -1, c = a.length, f = t.value && (i - e) / t.value; ++u < c;)(o = a[u]).x0 = n, o.x1 = r, o.y0 = e, o.y1 = e += o.value * f } Nd.prototype = Object.create(Zh.prototype); var Pd = (1 + Math.sqrt(5)) / 2; function zd(t, n, e, r, i, o) { for (var a, u, c, f, s, l, h, d, p, g, y, v = [], _ = n.children, b = 0, m = 0, x = _.length, w = n.value; b < x;) { c = i - e, f = o - r; do { s = _[m++].value } while (!s && m < x); for (l = h = s, y = s * s * (g = Math.max(f / c, c / f) / (w * t)), p = Math.max(h / y, y / l); m < x; ++m) { if (s += u = _[m].value, u < l && (l = u), u > h && (h = u), y = s * s * g, (d = Math.max(h / y, y / l)) > p) { s -= u; break } p = d } v.push(a = { value: s, dice: c < f, children: _.slice(b, m) }), a.dice ? bd(a, e, r, i, w ? r += f * s / w : o) : Cd(a, e, r, w ? e += c * s / w : i, o), w -= s, b = m } return v } var Dd = function t(n) { function e(t, e, r, i, o) { zd(n, t, e, r, i, o) } return e.ratio = function (n) { return t((n = +n) > 1 ? n : 1) }, e }(Pd); var qd = function t(n) { function e(t, e, r, i, o) { if ((a = t._squarify) && a.ratio === n) for (var a, u, c, f, s, l = -1, h = a.length, d = t.value; ++l < h;) { for (c = (u = a[l]).children, f = u.value = 0, s = c.length; f < s; ++f)u.value += c[f].value; u.dice ? bd(u, e, r, i, d ? r += (o - r) * u.value / d : o) : Cd(u, e, r, d ? e += (i - e) * u.value / d : i, o), d -= u.value } else t._squarify = a = zd(n, t, e, r, i, o), a.ratio = n } return e.ratio = function (n) { return t((n = +n) > 1 ? n : 1) }, e }(Pd); function Rd(t, n, e) { return (n[0] - t[0]) * (e[1] - t[1]) - (n[1] - t[1]) * (e[0] - t[0]) } function Fd(t, n) { return t[0] - n[0] || t[1] - n[1] } function Od(t) { const n = t.length, e = [0, 1]; let r, i = 2; for (r = 2; r < n; ++r) { for (; i > 1 && Rd(t[e[i - 2]], t[e[i - 1]], t[r]) <= 0;)--i; e[i++] = r } return e.slice(0, i) } var Id = Math.random, Ud = function t(n) { function e(t, e) { return t = null == t ? 0 : +t, e = null == e ? 1 : +e, 1 === arguments.length ? (e = t, t = 0) : e -= t, function () { return n() * e + t } } return e.source = t, e }(Id), Bd = function t(n) { function e(t, e) { return arguments.length < 2 && (e = t, t = 0), t = Math.floor(t), e = Math.floor(e) - t, function () { return Math.floor(n() * e + t) } } return e.source = t, e }(Id), Yd = function t(n) { function e(t, e) { var r, i; return t = null == t ? 0 : +t, e = null == e ? 1 : +e, function () { var o; if (null != r) o = r, r = null; else do { r = 2 * n() - 1, o = 2 * n() - 1, i = r * r + o * o } while (!i || i > 1); return t + e * o * Math.sqrt(-2 * Math.log(i) / i) } } return e.source = t, e }(Id), Ld = function t(n) { var e = Yd.source(n); function r() { var t = e.apply(this, arguments); return function () { return Math.exp(t()) } } return r.source = t, r }(Id), jd = function t(n) { function e(t) { return (t = +t) <= 0 ? () => 0 : function () { for (var e = 0, r = t; r > 1; --r)e += n(); return e + r * n() } } return e.source = t, e }(Id), Hd = function t(n) { var e = jd.source(n); function r(t) { if (0 == (t = +t)) return n; var r = e(t); return function () { return r() / t } } return r.source = t, r }(Id), Xd = function t(n) { function e(t) { return function () { return -Math.log1p(-n()) / t } } return e.source = t, e }(Id), Gd = function t(n) { function e(t) { if ((t = +t) < 0) throw new RangeError("invalid alpha"); return t = 1 / -t, function () { return Math.pow(1 - n(), t) } } return e.source = t, e }(Id), Vd = function t(n) { function e(t) { if ((t = +t) < 0 || t > 1) throw new RangeError("invalid p"); return function () { return Math.floor(n() + t) } } return e.source = t, e }(Id), $d = function t(n) { function e(t) { if ((t = +t) < 0 || t > 1) throw new RangeError("invalid p"); return 0 === t ? () => 1 / 0 : 1 === t ? () => 1 : (t = Math.log1p(-t), function () { return 1 + Math.floor(Math.log1p(-n()) / t) }) } return e.source = t, e }(Id), Wd = function t(n) { var e = Yd.source(n)(); function r(t, r) { if ((t = +t) < 0) throw new RangeError("invalid k"); if (0 === t) return () => 0; if (r = null == r ? 1 : +r, 1 === t) return () => -Math.log1p(-n()) * r; var i = (t < 1 ? t + 1 : t) - 1 / 3, o = 1 / (3 * Math.sqrt(i)), a = t < 1 ? () => Math.pow(n(), 1 / t) : () => 1; return function () { do { do { var t = e(), u = 1 + o * t } while (u <= 0); u *= u * u; var c = 1 - n() } while (c >= 1 - .0331 * t * t * t * t && Math.log(c) >= .5 * t * t + i * (1 - u + Math.log(u))); return i * u * a() * r } } return r.source = t, r }(Id), Zd = function t(n) { var e = Wd.source(n); function r(t, n) { var r = e(t), i = e(n); return function () { var t = r(); return 0 === t ? 0 : t / (t + i()) } } return r.source = t, r }(Id), Kd = function t(n) { var e = $d.source(n), r = Zd.source(n); function i(t, n) { return t = +t, (n = +n) >= 1 ? () => t : n <= 0 ? () => 0 : function () { for (var i = 0, o = t, a = n; o * a > 16 && o * (1 - a) > 16;) { var u = Math.floor((o + 1) * a), c = r(u, o - u + 1)(); c <= a ? (i += u, o -= u, a = (a - c) / (1 - c)) : (o = u - 1, a /= c) } for (var f = a < .5, s = e(f ? a : 1 - a), l = s(), h = 0; l <= o; ++h)l += s(); return i + (f ? h : o - h) } } return i.source = t, i }(Id), Qd = function t(n) { function e(t, e, r) { var i; return 0 == (t = +t) ? i = t => -Math.log(t) : (t = 1 / t, i = n => Math.pow(n, t)), e = null == e ? 0 : +e, r = null == r ? 1 : +r, function () { return e + r * i(-Math.log1p(-n())) } } return e.source = t, e }(Id), Jd = function t(n) { function e(t, e) { return t = null == t ? 0 : +t, e = null == e ? 1 : +e, function () { return t + e * Math.tan(Math.PI * n()) } } return e.source = t, e }(Id), tp = function t(n) { function e(t, e) { return t = null == t ? 0 : +t, e = null == e ? 1 : +e, function () { var r = n(); return t + e * Math.log(r / (1 - r)) } } return e.source = t, e }(Id), np = function t(n) { var e = Wd.source(n), r = Kd.source(n); function i(t) { return function () { for (var i = 0, o = t; o > 16;) { var a = Math.floor(.875 * o), u = e(a)(); if (u > o) return i + r(a - 1, o / u)(); i += a, o -= u } for (var c = -Math.log1p(-n()), f = 0; c <= o; ++f)c -= Math.log1p(-n()); return i + f } } return i.source = t, i }(Id); const ep = 1 / 4294967296; function rp(t, n) { switch (arguments.length) { case 0: break; case 1: this.range(t); break; default: this.range(n).domain(t) }return this } function ip(t, n) { switch (arguments.length) { case 0: break; case 1: "function" == typeof t ? this.interpolator(t) : this.range(t); break; default: this.domain(t), "function" == typeof n ? this.interpolator(n) : this.range(n) }return this } const op = Symbol("implicit"); function ap() { var t = new Map, n = [], e = [], r = op; function i(i) { var o = i + "", a = t.get(o); if (!a) { if (r !== op) return r; t.set(o, a = n.push(i)) } return e[(a - 1) % e.length] } return i.domain = function (e) { if (!arguments.length) return n.slice(); n = [], t = new Map; for (const r of e) { const e = r + ""; t.has(e) || t.set(e, n.push(r)) } return i }, i.range = function (t) { return arguments.length ? (e = Array.from(t), i) : e.slice() }, i.unknown = function (t) { return arguments.length ? (r = t, i) : r }, i.copy = function () { return ap(n, e).unknown(r) }, rp.apply(i, arguments), i } function up() { var t, n, e = ap().unknown(void 0), r = e.domain, i = e.range, o = 0, a = 1, u = !1, c = 0, f = 0, s = .5; function l() { var e = r().length, l = a < o, h = l ? a : o, d = l ? o : a; t = (d - h) / Math.max(1, e - c + 2 * f), u && (t = Math.floor(t)), h += (d - h - t * (e - c)) * s, n = t * (1 - c), u && (h = Math.round(h), n = Math.round(n)); var p = Z(e).map((function (n) { return h + t * n })); return i(l ? p.reverse() : p) } return delete e.unknown, e.domain = function (t) { return arguments.length ? (r(t), l()) : r() }, e.range = function (t) { return arguments.length ? ([o, a] = t, o = +o, a = +a, l()) : [o, a] }, e.rangeRound = function (t) { return [o, a] = t, o = +o, a = +a, u = !0, l() }, e.bandwidth = function () { return n }, e.step = function () { return t }, e.round = function (t) { return arguments.length ? (u = !!t, l()) : u }, e.padding = function (t) { return arguments.length ? (c = Math.min(1, f = +t), l()) : c }, e.paddingInner = function (t) { return arguments.length ? (c = Math.min(1, t), l()) : c }, e.paddingOuter = function (t) { return arguments.length ? (f = +t, l()) : f }, e.align = function (t) { return arguments.length ? (s = Math.max(0, Math.min(1, t)), l()) : s }, e.copy = function () { return up(r(), [o, a]).round(u).paddingInner(c).paddingOuter(f).align(s) }, rp.apply(l(), arguments) } function cp(t) { var n = t.copy; return t.padding = t.paddingOuter, delete t.paddingInner, delete t.paddingOuter, t.copy = function () { return cp(n()) }, t } function fp(t) { return +t } var sp = [0, 1]; function lp(t) { return t } function hp(t, n) { return (n -= t = +t) ? function (e) { return (e - t) / n } : function (t) { return function () { return t } }(isNaN(n) ? NaN : .5) } function dp(t, n, e) { var r = t[0], i = t[1], o = n[0], a = n[1]; return i < r ? (r = hp(i, r), o = e(a, o)) : (r = hp(r, i), o = e(o, a)), function (t) { return o(r(t)) } } function pp(t, n, e) { var r = Math.min(t.length, n.length) - 1, i = new Array(r), a = new Array(r), u = -1; for (t[r] < t[0] && (t = t.slice().reverse(), n = n.slice().reverse()); ++u < r;)i[u] = hp(t[u], t[u + 1]), a[u] = e(n[u], n[u + 1]); return function (n) { var e = o(t, n, 1, r) - 1; return a[e](i[e](n)) } } function gp(t, n) { return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown()) } function yp() { var t, n, e, r, i, o, a = sp, u = sp, c = Mr, f = lp; function s() { var t = Math.min(a.length, u.length); return f !== lp && (f = function (t, n) { var e; return t > n && (e = t, t = n, n = e), function (e) { return Math.max(t, Math.min(n, e)) } }(a[0], a[t - 1])), r = t > 2 ? pp : dp, i = o = null, l } function l(n) { return null == n || isNaN(n = +n) ? e : (i || (i = r(a.map(t), u, c)))(t(f(n))) } return l.invert = function (e) { return f(n((o || (o = r(u, a.map(t), _r)))(e))) }, l.domain = function (t) { return arguments.length ? (a = Array.from(t, fp), s()) : a.slice() }, l.range = function (t) { return arguments.length ? (u = Array.from(t), s()) : u.slice() }, l.rangeRound = function (t) { return u = Array.from(t), c = Ar, s() }, l.clamp = function (t) { return arguments.length ? (f = !!t || lp, s()) : f !== lp }, l.interpolate = function (t) { return arguments.length ? (c = t, s()) : c }, l.unknown = function (t) { return arguments.length ? (e = t, l) : e }, function (e, r) { return t = e, n = r, s() } } function vp() { return yp()(lp, lp) } function _p(n, e, r, i) { var o, a = F(n, e, r); switch ((i = ac(null == i ? ",f" : i)).type) { case "s": var u = Math.max(Math.abs(n), Math.abs(e)); return null != i.precision || isNaN(o = vc(a, u)) || (i.precision = o), t.formatPrefix(i, u); case "": case "e": case "g": case "p": case "r": null != i.precision || isNaN(o = _c(a, Math.max(Math.abs(n), Math.abs(e)))) || (i.precision = o - ("e" === i.type)); break; case "f": case "%": null != i.precision || isNaN(o = yc(a)) || (i.precision = o - 2 * ("%" === i.type)) }return t.format(i) } function bp(t) { var n = t.domain; return t.ticks = function (t) { var e = n(); return q(e[0], e[e.length - 1], null == t ? 10 : t) }, t.tickFormat = function (t, e) { var r = n(); return _p(r[0], r[r.length - 1], null == t ? 10 : t, e) }, t.nice = function (e) { null == e && (e = 10); var r, i, o = n(), a = 0, u = o.length - 1, c = o[a], f = o[u], s = 10; for (f < c && (i = c, c = f, f = i, i = a, a = u, u = i); s-- > 0;) { if ((i = R(c, f, e)) === r) return o[a] = c, o[u] = f, n(o); if (i > 0) c = Math.floor(c / i) * i, f = Math.ceil(f / i) * i; else { if (!(i < 0)) break; c = Math.ceil(c * i) / i, f = Math.floor(f * i) / i } r = i } return t }, t } function mp(t, n) { var e, r = 0, i = (t = t.slice()).length - 1, o = t[r], a = t[i]; return a < o && (e = r, r = i, i = e, e = o, o = a, a = e), t[r] = n.floor(o), t[i] = n.ceil(a), t } function xp(t) { return Math.log(t) } function wp(t) { return Math.exp(t) } function Mp(t) { return -Math.log(-t) } function Ap(t) { return -Math.exp(-t) } function Tp(t) { return isFinite(t) ? +("1e" + t) : t < 0 ? 0 : t } function Sp(t) { return function (n) { return -t(-n) } } function Ep(n) { var e, r, i = n(xp, wp), o = i.domain, a = 10; function u() { return e = function (t) { return t === Math.E ? Math.log : 10 === t && Math.log10 || 2 === t && Math.log2 || (t = Math.log(t), function (n) { return Math.log(n) / t }) }(a), r = function (t) { return 10 === t ? Tp : t === Math.E ? Math.exp : function (n) { return Math.pow(t, n) } }(a), o()[0] < 0 ? (e = Sp(e), r = Sp(r), n(Mp, Ap)) : n(xp, wp), i } return i.base = function (t) { return arguments.length ? (a = +t, u()) : a }, i.domain = function (t) { return arguments.length ? (o(t), u()) : o() }, i.ticks = function (t) { var n, i = o(), u = i[0], c = i[i.length - 1]; (n = c < u) && (h = u, u = c, c = h); var f, s, l, h = e(u), d = e(c), p = null == t ? 10 : +t, g = []; if (!(a % 1) && d - h < p) { if (h = Math.floor(h), d = Math.ceil(d), u > 0) { for (; h <= d; ++h)for (s = 1, f = r(h); s < a; ++s)if (!((l = f * s) < u)) { if (l > c) break; g.push(l) } } else for (; h <= d; ++h)for (s = a - 1, f = r(h); s >= 1; --s)if (!((l = f * s) < u)) { if (l > c) break; g.push(l) } 2 * g.length < p && (g = q(u, c, p)) } else g = q(h, d, Math.min(d - h, p)).map(r); return n ? g.reverse() : g }, i.tickFormat = function (n, o) { if (null == o && (o = 10 === a ? ".0e" : ","), "function" != typeof o && (o = t.format(o)), n === 1 / 0) return o; null == n && (n = 10); var u = Math.max(1, a * n / i.ticks().length); return function (t) { var n = t / r(Math.round(e(t))); return n * a < a - .5 && (n *= a), n <= u ? o(t) : "" } }, i.nice = function () { return o(mp(o(), { floor: function (t) { return r(Math.floor(e(t))) }, ceil: function (t) { return r(Math.ceil(e(t))) } })) }, i } function kp(t) { return function (n) { return Math.sign(n) * Math.log1p(Math.abs(n / t)) } } function Np(t) { return function (n) { return Math.sign(n) * Math.expm1(Math.abs(n)) * t } } function Cp(t) { var n = 1, e = t(kp(n), Np(n)); return e.constant = function (e) { return arguments.length ? t(kp(n = +e), Np(n)) : n }, bp(e) } function Pp(t) { return function (n) { return n < 0 ? -Math.pow(-n, t) : Math.pow(n, t) } } function zp(t) { return t < 0 ? -Math.sqrt(-t) : Math.sqrt(t) } function Dp(t) { return t < 0 ? -t * t : t * t } function qp(t) { var n = t(lp, lp), e = 1; function r() { return 1 === e ? t(lp, lp) : .5 === e ? t(zp, Dp) : t(Pp(e), Pp(1 / e)) } return n.exponent = function (t) { return arguments.length ? (e = +t, r()) : e }, bp(n) } function Rp() { var t = qp(yp()); return t.copy = function () { return gp(t, Rp()).exponent(t.exponent()) }, rp.apply(t, arguments), t } function Fp(t) { return Math.sign(t) * t * t } function Op(t) { return Math.sign(t) * Math.sqrt(Math.abs(t)) } var Ip = new Date, Up = new Date; function Bp(t, n, e, r) { function i(n) { return t(n = 0 === arguments.length ? new Date : new Date(+n)), n } return i.floor = function (n) { return t(n = new Date(+n)), n }, i.ceil = function (e) { return t(e = new Date(e - 1)), n(e, 1), t(e), e }, i.round = function (t) { var n = i(t), e = i.ceil(t); return t - n < e - t ? n : e }, i.offset = function (t, e) { return n(t = new Date(+t), null == e ? 1 : Math.floor(e)), t }, i.range = function (e, r, o) { var a, u = []; if (e = i.ceil(e), o = null == o ? 1 : Math.floor(o), !(e < r && o > 0)) return u; do { u.push(a = new Date(+e)), n(e, o), t(e) } while (a < e && e < r); return u }, i.filter = function (e) { return Bp((function (n) { if (n >= n) for (; t(n), !e(n);)n.setTime(n - 1) }), (function (t, r) { if (t >= t) if (r < 0) for (; ++r <= 0;)for (; n(t, -1), !e(t);); else for (; --r >= 0;)for (; n(t, 1), !e(t);); })) }, e && (i.count = function (n, r) { return Ip.setTime(+n), Up.setTime(+r), t(Ip), t(Up), Math.floor(e(Ip, Up)) }, i.every = function (t) { return t = Math.floor(t), isFinite(t) && t > 0 ? t > 1 ? i.filter(r ? function (n) { return r(n) % t == 0 } : function (n) { return i.count(0, n) % t == 0 }) : i : null }), i } var Yp = Bp((function () { }), (function (t, n) { t.setTime(+t + n) }), (function (t, n) { return n - t })); Yp.every = function (t) { return t = Math.floor(t), isFinite(t) && t > 0 ? t > 1 ? Bp((function (n) { n.setTime(Math.floor(n / t) * t) }), (function (n, e) { n.setTime(+n + e * t) }), (function (n, e) { return (e - n) / t })) : Yp : null }; var Lp = Yp.range; const jp = 1e3, Hp = 6e4, Xp = 36e5, Gp = 864e5, Vp = 6048e5, $p = 2592e6, Wp = 31536e6; var Zp = Bp((function (t) { t.setTime(t - t.getMilliseconds()) }), (function (t, n) { t.setTime(+t + n * jp) }), (function (t, n) { return (n - t) / jp }), (function (t) { return t.getUTCSeconds() })), Kp = Zp.range, Qp = Bp((function (t) { t.setTime(t - t.getMilliseconds() - t.getSeconds() * jp) }), (function (t, n) { t.setTime(+t + n * Hp) }), (function (t, n) { return (n - t) / Hp }), (function (t) { return t.getMinutes() })), Jp = Qp.range, tg = Bp((function (t) { t.setTime(t - t.getMilliseconds() - t.getSeconds() * jp - t.getMinutes() * Hp) }), (function (t, n) { t.setTime(+t + n * Xp) }), (function (t, n) { return (n - t) / Xp }), (function (t) { return t.getHours() })), ng = tg.range, eg = Bp((t => t.setHours(0, 0, 0, 0)), ((t, n) => t.setDate(t.getDate() + n)), ((t, n) => (n - t - (n.getTimezoneOffset() - t.getTimezoneOffset()) * Hp) / Gp), (t => t.getDate() - 1)), rg = eg.range; function ig(t) { return Bp((function (n) { n.setDate(n.getDate() - (n.getDay() + 7 - t) % 7), n.setHours(0, 0, 0, 0) }), (function (t, n) { t.setDate(t.getDate() + 7 * n) }), (function (t, n) { return (n - t - (n.getTimezoneOffset() - t.getTimezoneOffset()) * Hp) / Vp })) } var og = ig(0), ag = ig(1), ug = ig(2), cg = ig(3), fg = ig(4), sg = ig(5), lg = ig(6), hg = og.range, dg = ag.range, pg = ug.range, gg = cg.range, yg = fg.range, vg = sg.range, _g = lg.range, bg = Bp((function (t) { t.setDate(1), t.setHours(0, 0, 0, 0) }), (function (t, n) { t.setMonth(t.getMonth() + n) }), (function (t, n) { return n.getMonth() - t.getMonth() + 12 * (n.getFullYear() - t.getFullYear()) }), (function (t) { return t.getMonth() })), mg = bg.range, xg = Bp((function (t) { t.setMonth(0, 1), t.setHours(0, 0, 0, 0) }), (function (t, n) { t.setFullYear(t.getFullYear() + n) }), (function (t, n) { return n.getFullYear() - t.getFullYear() }), (function (t) { return t.getFullYear() })); xg.every = function (t) { return isFinite(t = Math.floor(t)) && t > 0 ? Bp((function (n) { n.setFullYear(Math.floor(n.getFullYear() / t) * t), n.setMonth(0, 1), n.setHours(0, 0, 0, 0) }), (function (n, e) { n.setFullYear(n.getFullYear() + e * t) })) : null }; var wg = xg.range, Mg = Bp((function (t) { t.setUTCSeconds(0, 0) }), (function (t, n) { t.setTime(+t + n * Hp) }), (function (t, n) { return (n - t) / Hp }), (function (t) { return t.getUTCMinutes() })), Ag = Mg.range, Tg = Bp((function (t) { t.setUTCMinutes(0, 0, 0) }), (function (t, n) { t.setTime(+t + n * Xp) }), (function (t, n) { return (n - t) / Xp }), (function (t) { return t.getUTCHours() })), Sg = Tg.range, Eg = Bp((function (t) { t.setUTCHours(0, 0, 0, 0) }), (function (t, n) { t.setUTCDate(t.getUTCDate() + n) }), (function (t, n) { return (n - t) / Gp }), (function (t) { return t.getUTCDate() - 1 })), kg = Eg.range; function Ng(t) { return Bp((function (n) { n.setUTCDate(n.getUTCDate() - (n.getUTCDay() + 7 - t) % 7), n.setUTCHours(0, 0, 0, 0) }), (function (t, n) { t.setUTCDate(t.getUTCDate() + 7 * n) }), (function (t, n) { return (n - t) / Vp })) } var Cg = Ng(0), Pg = Ng(1), zg = Ng(2), Dg = Ng(3), qg = Ng(4), Rg = Ng(5), Fg = Ng(6), Og = Cg.range, Ig = Pg.range, Ug = zg.range, Bg = Dg.range, Yg = qg.range, Lg = Rg.range, jg = Fg.range, Hg = Bp((function (t) { t.setUTCDate(1), t.setUTCHours(0, 0, 0, 0) }), (function (t, n) { t.setUTCMonth(t.getUTCMonth() + n) }), (function (t, n) { return n.getUTCMonth() - t.getUTCMonth() + 12 * (n.getUTCFullYear() - t.getUTCFullYear()) }), (function (t) { return t.getUTCMonth() })), Xg = Hg.range, Gg = Bp((function (t) { t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0) }), (function (t, n) { t.setUTCFullYear(t.getUTCFullYear() + n) }), (function (t, n) { return n.getUTCFullYear() - t.getUTCFullYear() }), (function (t) { return t.getUTCFullYear() })); Gg.every = function (t) { return isFinite(t = Math.floor(t)) && t > 0 ? Bp((function (n) { n.setUTCFullYear(Math.floor(n.getUTCFullYear() / t) * t), n.setUTCMonth(0, 1), n.setUTCHours(0, 0, 0, 0) }), (function (n, e) { n.setUTCFullYear(n.getUTCFullYear() + e * t) })) : null }; var Vg = Gg.range; function $g(t, n, r, i, o, a) { const u = [[Zp, 1, jp], [Zp, 5, 5e3], [Zp, 15, 15e3], [Zp, 30, 3e4], [a, 1, Hp], [a, 5, 3e5], [a, 15, 9e5], [a, 30, 18e5], [o, 1, Xp], [o, 3, 108e5], [o, 6, 216e5], [o, 12, 432e5], [i, 1, Gp], [i, 2, 1728e5], [r, 1, Vp], [n, 1, $p], [n, 3, 7776e6], [t, 1, Wp]]; function c(n, r, i) { const o = Math.abs(r - n) / i, a = e((([, , t]) => t)).right(u, o); if (a === u.length) return t.every(F(n / Wp, r / Wp, i)); if (0 === a) return Yp.every(Math.max(F(n, r, i), 1)); const [c, f] = u[o / u[a - 1][2] < u[a][2] / o ? a - 1 : a]; return c.every(f) } return [function (t, n, e) { const r = n < t; r && ([t, n] = [n, t]); const i = e && "function" == typeof e.range ? e : c(t, n, e), o = i ? i.range(t, +n + 1) : []; return r ? o.reverse() : o }, c] } const [Wg, Zg] = $g(Gg, Hg, Cg, Eg, Tg, Mg), [Kg, Qg] = $g(xg, bg, og, eg, tg, Qp); function Jg(t) { if (0 <= t.y && t.y < 100) { var n = new Date(-1, t.m, t.d, t.H, t.M, t.S, t.L); return n.setFullYear(t.y), n } return new Date(t.y, t.m, t.d, t.H, t.M, t.S, t.L) } function ty(t) { if (0 <= t.y && t.y < 100) { var n = new Date(Date.UTC(-1, t.m, t.d, t.H, t.M, t.S, t.L)); return n.setUTCFullYear(t.y), n } return new Date(Date.UTC(t.y, t.m, t.d, t.H, t.M, t.S, t.L)) } function ny(t, n, e) { return { y: t, m: n, d: e, H: 0, M: 0, S: 0, L: 0 } } function ey(t) { var n = t.dateTime, e = t.date, r = t.time, i = t.periods, o = t.days, a = t.shortDays, u = t.months, c = t.shortMonths, f = sy(i), s = ly(i), l = sy(o), h = ly(o), d = sy(a), p = ly(a), g = sy(u), y = ly(u), v = sy(c), _ = ly(c), b = { a: function (t) { return a[t.getDay()] }, A: function (t) { return o[t.getDay()] }, b: function (t) { return c[t.getMonth()] }, B: function (t) { return u[t.getMonth()] }, c: null, d: zy, e: zy, f: Oy, g: $y, G: Zy, H: Dy, I: qy, j: Ry, L: Fy, m: Iy, M: Uy, p: function (t) { return i[+(t.getHours() >= 12)] }, q: function (t) { return 1 + ~~(t.getMonth() / 3) }, Q: bv, s: mv, S: By, u: Yy, U: Ly, V: Hy, w: Xy, W: Gy, x: null, X: null, y: Vy, Y: Wy, Z: Ky, "%": _v }, m = { a: function (t) { return a[t.getUTCDay()] }, A: function (t) { return o[t.getUTCDay()] }, b: function (t) { return c[t.getUTCMonth()] }, B: function (t) { return u[t.getUTCMonth()] }, c: null, d: Qy, e: Qy, f: rv, g: pv, G: yv, H: Jy, I: tv, j: nv, L: ev, m: iv, M: ov, p: function (t) { return i[+(t.getUTCHours() >= 12)] }, q: function (t) { return 1 + ~~(t.getUTCMonth() / 3) }, Q: bv, s: mv, S: av, u: uv, U: cv, V: sv, w: lv, W: hv, x: null, X: null, y: dv, Y: gv, Z: vv, "%": _v }, x = { a: function (t, n, e) { var r = d.exec(n.slice(e)); return r ? (t.w = p.get(r[0].toLowerCase()), e + r[0].length) : -1 }, A: function (t, n, e) { var r = l.exec(n.slice(e)); return r ? (t.w = h.get(r[0].toLowerCase()), e + r[0].length) : -1 }, b: function (t, n, e) { var r = v.exec(n.slice(e)); return r ? (t.m = _.get(r[0].toLowerCase()), e + r[0].length) : -1 }, B: function (t, n, e) { var r = g.exec(n.slice(e)); return r ? (t.m = y.get(r[0].toLowerCase()), e + r[0].length) : -1 }, c: function (t, e, r) { return A(t, n, e, r) }, d: wy, e: wy, f: ky, g: _y, G: vy, H: Ay, I: Ay, j: My, L: Ey, m: xy, M: Ty, p: function (t, n, e) { var r = f.exec(n.slice(e)); return r ? (t.p = s.get(r[0].toLowerCase()), e + r[0].length) : -1 }, q: my, Q: Cy, s: Py, S: Sy, u: dy, U: py, V: gy, w: hy, W: yy, x: function (t, n, r) { return A(t, e, n, r) }, X: function (t, n, e) { return A(t, r, n, e) }, y: _y, Y: vy, Z: by, "%": Ny }; function w(t, n) { return function (e) { var r, i, o, a = [], u = -1, c = 0, f = t.length; for (e instanceof Date || (e = new Date(+e)); ++u < f;)37 === t.charCodeAt(u) && (a.push(t.slice(c, u)), null != (i = iy[r = t.charAt(++u)]) ? r = t.charAt(++u) : i = "e" === r ? " " : "0", (o = n[r]) && (r = o(e, i)), a.push(r), c = u + 1); return a.push(t.slice(c, u)), a.join("") } } function M(t, n) { return function (e) { var r, i, o = ny(1900, void 0, 1); if (A(o, t, e += "", 0) != e.length) return null; if ("Q" in o) return new Date(o.Q); if ("s" in o) return new Date(1e3 * o.s + ("L" in o ? o.L : 0)); if (n && !("Z" in o) && (o.Z = 0), "p" in o && (o.H = o.H % 12 + 12 * o.p), void 0 === o.m && (o.m = "q" in o ? o.q : 0), "V" in o) { if (o.V < 1 || o.V > 53) return null; "w" in o || (o.w = 1), "Z" in o ? (i = (r = ty(ny(o.y, 0, 1))).getUTCDay(), r = i > 4 || 0 === i ? Pg.ceil(r) : Pg(r), r = Eg.offset(r, 7 * (o.V - 1)), o.y = r.getUTCFullYear(), o.m = r.getUTCMonth(), o.d = r.getUTCDate() + (o.w + 6) % 7) : (i = (r = Jg(ny(o.y, 0, 1))).getDay(), r = i > 4 || 0 === i ? ag.ceil(r) : ag(r), r = eg.offset(r, 7 * (o.V - 1)), o.y = r.getFullYear(), o.m = r.getMonth(), o.d = r.getDate() + (o.w + 6) % 7) } else ("W" in o || "U" in o) && ("w" in o || (o.w = "u" in o ? o.u % 7 : "W" in o ? 1 : 0), i = "Z" in o ? ty(ny(o.y, 0, 1)).getUTCDay() : Jg(ny(o.y, 0, 1)).getDay(), o.m = 0, o.d = "W" in o ? (o.w + 6) % 7 + 7 * o.W - (i + 5) % 7 : o.w + 7 * o.U - (i + 6) % 7); return "Z" in o ? (o.H += o.Z / 100 | 0, o.M += o.Z % 100, ty(o)) : Jg(o) } } function A(t, n, e, r) { for (var i, o, a = 0, u = n.length, c = e.length; a < u;) { if (r >= c) return -1; if (37 === (i = n.charCodeAt(a++))) { if (i = n.charAt(a++), !(o = x[i in iy ? n.charAt(a++) : i]) || (r = o(t, e, r)) < 0) return -1 } else if (i != e.charCodeAt(r++)) return -1 } return r } return b.x = w(e, b), b.X = w(r, b), b.c = w(n, b), m.x = w(e, m), m.X = w(r, m), m.c = w(n, m), { format: function (t) { var n = w(t += "", b); return n.toString = function () { return t }, n }, parse: function (t) { var n = M(t += "", !1); return n.toString = function () { return t }, n }, utcFormat: function (t) { var n = w(t += "", m); return n.toString = function () { return t }, n }, utcParse: function (t) { var n = M(t += "", !0); return n.toString = function () { return t }, n } } } var ry, iy = { "-": "", _: " ", 0: "0" }, oy = /^\s*\d+/, ay = /^%/, uy = /[\\^$*+?|[\]().{}]/g; function cy(t, n, e) { var r = t < 0 ? "-" : "", i = (r ? -t : t) + "", o = i.length; return r + (o < e ? new Array(e - o + 1).join(n) + i : i) } function fy(t) { return t.replace(uy, "\\$&") } function sy(t) { return new RegExp("^(?:" + t.map(fy).join("|") + ")", "i") } function ly(t) { return new Map(t.map(((t, n) => [t.toLowerCase(), n]))) } function hy(t, n, e) { var r = oy.exec(n.slice(e, e + 1)); return r ? (t.w = +r[0], e + r[0].length) : -1 } function dy(t, n, e) { var r = oy.exec(n.slice(e, e + 1)); return r ? (t.u = +r[0], e + r[0].length) : -1 } function py(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.U = +r[0], e + r[0].length) : -1 } function gy(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.V = +r[0], e + r[0].length) : -1 } function yy(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.W = +r[0], e + r[0].length) : -1 } function vy(t, n, e) { var r = oy.exec(n.slice(e, e + 4)); return r ? (t.y = +r[0], e + r[0].length) : -1 } function _y(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.y = +r[0] + (+r[0] > 68 ? 1900 : 2e3), e + r[0].length) : -1 } function by(t, n, e) { var r = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e, e + 6)); return r ? (t.Z = r[1] ? 0 : -(r[2] + (r[3] || "00")), e + r[0].length) : -1 } function my(t, n, e) { var r = oy.exec(n.slice(e, e + 1)); return r ? (t.q = 3 * r[0] - 3, e + r[0].length) : -1 } function xy(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.m = r[0] - 1, e + r[0].length) : -1 } function wy(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.d = +r[0], e + r[0].length) : -1 } function My(t, n, e) { var r = oy.exec(n.slice(e, e + 3)); return r ? (t.m = 0, t.d = +r[0], e + r[0].length) : -1 } function Ay(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.H = +r[0], e + r[0].length) : -1 } function Ty(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.M = +r[0], e + r[0].length) : -1 } function Sy(t, n, e) { var r = oy.exec(n.slice(e, e + 2)); return r ? (t.S = +r[0], e + r[0].length) : -1 } function Ey(t, n, e) { var r = oy.exec(n.slice(e, e + 3)); return r ? (t.L = +r[0], e + r[0].length) : -1 } function ky(t, n, e) { var r = oy.exec(n.slice(e, e + 6)); return r ? (t.L = Math.floor(r[0] / 1e3), e + r[0].length) : -1 } function Ny(t, n, e) { var r = ay.exec(n.slice(e, e + 1)); return r ? e + r[0].length : -1 } function Cy(t, n, e) { var r = oy.exec(n.slice(e)); return r ? (t.Q = +r[0], e + r[0].length) : -1 } function Py(t, n, e) { var r = oy.exec(n.slice(e)); return r ? (t.s = +r[0], e + r[0].length) : -1 } function zy(t, n) { return cy(t.getDate(), n, 2) } function Dy(t, n) { return cy(t.getHours(), n, 2) } function qy(t, n) { return cy(t.getHours() % 12 || 12, n, 2) } function Ry(t, n) { return cy(1 + eg.count(xg(t), t), n, 3) } function Fy(t, n) { return cy(t.getMilliseconds(), n, 3) } function Oy(t, n) { return Fy(t, n) + "000" } function Iy(t, n) { return cy(t.getMonth() + 1, n, 2) } function Uy(t, n) { return cy(t.getMinutes(), n, 2) } function By(t, n) { return cy(t.getSeconds(), n, 2) } function Yy(t) { var n = t.getDay(); return 0 === n ? 7 : n } function Ly(t, n) { return cy(og.count(xg(t) - 1, t), n, 2) } function jy(t) { var n = t.getDay(); return n >= 4 || 0 === n ? fg(t) : fg.ceil(t) } function Hy(t, n) { return t = jy(t), cy(fg.count(xg(t), t) + (4 === xg(t).getDay()), n, 2) } function Xy(t) { return t.getDay() } function Gy(t, n) { return cy(ag.count(xg(t) - 1, t), n, 2) } function Vy(t, n) { return cy(t.getFullYear() % 100, n, 2) } function $y(t, n) { return cy((t = jy(t)).getFullYear() % 100, n, 2) } function Wy(t, n) { return cy(t.getFullYear() % 1e4, n, 4) } function Zy(t, n) { var e = t.getDay(); return cy((t = e >= 4 || 0 === e ? fg(t) : fg.ceil(t)).getFullYear() % 1e4, n, 4) } function Ky(t) { var n = t.getTimezoneOffset(); return (n > 0 ? "-" : (n *= -1, "+")) + cy(n / 60 | 0, "0", 2) + cy(n % 60, "0", 2) } function Qy(t, n) { return cy(t.getUTCDate(), n, 2) } function Jy(t, n) { return cy(t.getUTCHours(), n, 2) } function tv(t, n) { return cy(t.getUTCHours() % 12 || 12, n, 2) } function nv(t, n) { return cy(1 + Eg.count(Gg(t), t), n, 3) } function ev(t, n) { return cy(t.getUTCMilliseconds(), n, 3) } function rv(t, n) { return ev(t, n) + "000" } function iv(t, n) { return cy(t.getUTCMonth() + 1, n, 2) } function ov(t, n) { return cy(t.getUTCMinutes(), n, 2) } function av(t, n) { return cy(t.getUTCSeconds(), n, 2) } function uv(t) { var n = t.getUTCDay(); return 0 === n ? 7 : n } function cv(t, n) { return cy(Cg.count(Gg(t) - 1, t), n, 2) } function fv(t) { var n = t.getUTCDay(); return n >= 4 || 0 === n ? qg(t) : qg.ceil(t) } function sv(t, n) { return t = fv(t), cy(qg.count(Gg(t), t) + (4 === Gg(t).getUTCDay()), n, 2) } function lv(t) { return t.getUTCDay() } function hv(t, n) { return cy(Pg.count(Gg(t) - 1, t), n, 2) } function dv(t, n) { return cy(t.getUTCFullYear() % 100, n, 2) } function pv(t, n) { return cy((t = fv(t)).getUTCFullYear() % 100, n, 2) } function gv(t, n) { return cy(t.getUTCFullYear() % 1e4, n, 4) } function yv(t, n) { var e = t.getUTCDay(); return cy((t = e >= 4 || 0 === e ? qg(t) : qg.ceil(t)).getUTCFullYear() % 1e4, n, 4) } function vv() { return "+0000" } function _v() { return "%" } function bv(t) { return +t } function mv(t) { return Math.floor(+t / 1e3) } function xv(n) { return ry = ey(n), t.timeFormat = ry.format, t.timeParse = ry.parse, t.utcFormat = ry.utcFormat, t.utcParse = ry.utcParse, ry } t.timeFormat = void 0, t.timeParse = void 0, t.utcFormat = void 0, t.utcParse = void 0, xv({ dateTime: "%x, %X", date: "%-m/%-d/%Y", time: "%-I:%M:%S %p", periods: ["AM", "PM"], days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] }); var wv = "%Y-%m-%dT%H:%M:%S.%LZ"; var Mv = Date.prototype.toISOString ? function (t) { return t.toISOString() } : t.utcFormat(wv); var Av = +new Date("2000-01-01T00:00:00.000Z") ? function (t) { var n = new Date(t); return isNaN(n) ? null : n } : t.utcParse(wv); function Tv(t) { return new Date(t) } function Sv(t) { return t instanceof Date ? +t : +new Date(+t) } function Ev(t, n, e, r, i, o, a, u, c, f) { var s = vp(), l = s.invert, h = s.domain, d = f(".%L"), p = f(":%S"), g = f("%I:%M"), y = f("%I %p"), v = f("%a %d"), _ = f("%b %d"), b = f("%B"), m = f("%Y"); function x(t) { return (c(t) < t ? d : u(t) < t ? p : a(t) < t ? g : o(t) < t ? y : r(t) < t ? i(t) < t ? v : _ : e(t) < t ? b : m)(t) } return s.invert = function (t) { return new Date(l(t)) }, s.domain = function (t) { return arguments.length ? h(Array.from(t, Sv)) : h().map(Tv) }, s.ticks = function (n) { var e = h(); return t(e[0], e[e.length - 1], null == n ? 10 : n) }, s.tickFormat = function (t, n) { return null == n ? x : f(n) }, s.nice = function (t) { var e = h(); return t && "function" == typeof t.range || (t = n(e[0], e[e.length - 1], null == t ? 10 : t)), t ? h(mp(e, t)) : s }, s.copy = function () { return gp(s, Ev(t, n, e, r, i, o, a, u, c, f)) }, s } function kv() { var t, n, e, r, i, o = 0, a = 1, u = lp, c = !1; function f(n) { return null == n || isNaN(n = +n) ? i : u(0 === e ? .5 : (n = (r(n) - t) * e, c ? Math.max(0, Math.min(1, n)) : n)) } function s(t) { return function (n) { var e, r; return arguments.length ? ([e, r] = n, u = t(e, r), f) : [u(0), u(1)] } } return f.domain = function (i) { return arguments.length ? ([o, a] = i, t = r(o = +o), n = r(a = +a), e = t === n ? 0 : 1 / (n - t), f) : [o, a] }, f.clamp = function (t) { return arguments.length ? (c = !!t, f) : c }, f.interpolator = function (t) { return arguments.length ? (u = t, f) : u }, f.range = s(Mr), f.rangeRound = s(Ar), f.unknown = function (t) { return arguments.length ? (i = t, f) : i }, function (i) { return r = i, t = i(o), n = i(a), e = t === n ? 0 : 1 / (n - t), f } } function Nv(t, n) { return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown()) } function Cv() { var t = qp(kv()); return t.copy = function () { return Nv(t, Cv()).exponent(t.exponent()) }, ip.apply(t, arguments) } function Pv() { var t, n, e, r, i, o, a, u = 0, c = .5, f = 1, s = 1, l = lp, h = !1; function d(t) { return isNaN(t = +t) ? a : (t = .5 + ((t = +o(t)) - n) * (s * t < s * n ? r : i), l(h ? Math.max(0, Math.min(1, t)) : t)) } function p(t) { return function (n) { var e, r, i; return arguments.length ? ([e, r, i] = n, l = jr(t, [e, r, i]), d) : [l(0), l(.5), l(1)] } } return d.domain = function (a) { return arguments.length ? ([u, c, f] = a, t = o(u = +u), n = o(c = +c), e = o(f = +f), r = t === n ? 0 : .5 / (n - t), i = n === e ? 0 : .5 / (e - n), s = n < t ? -1 : 1, d) : [u, c, f] }, d.clamp = function (t) { return arguments.length ? (h = !!t, d) : h }, d.interpolator = function (t) { return arguments.length ? (l = t, d) : l }, d.range = p(Mr), d.rangeRound = p(Ar), d.unknown = function (t) { return arguments.length ? (a = t, d) : a }, function (a) { return o = a, t = a(u), n = a(c), e = a(f), r = t === n ? 0 : .5 / (n - t), i = n === e ? 0 : .5 / (e - n), s = n < t ? -1 : 1, d } } function zv() { var t = qp(Pv()); return t.copy = function () { return Nv(t, zv()).exponent(t.exponent()) }, ip.apply(t, arguments) } function Dv(t) { for (var n = t.length / 6 | 0, e = new Array(n), r = 0; r < n;)e[r] = "#" + t.slice(6 * r, 6 * ++r); return e } var qv = Dv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"), Rv = Dv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"), Fv = Dv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"), Ov = Dv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"), Iv = Dv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"), Uv = Dv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"), Bv = Dv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"), Yv = Dv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"), Lv = Dv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"), jv = Dv("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"), Hv = t => hr(t[t.length - 1]), Xv = new Array(3).concat("d8b365f5f5f55ab4ac", "a6611adfc27d80cdc1018571", "a6611adfc27df5f5f580cdc1018571", "8c510ad8b365f6e8c3c7eae55ab4ac01665e", "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e", "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e", "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e", "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30", "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Dv), Gv = Hv(Xv), Vv = new Array(3).concat("af8dc3f7f7f77fbf7b", "7b3294c2a5cfa6dba0008837", "7b3294c2a5cff7f7f7a6dba0008837", "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837", "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837", "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837", "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837", "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b", "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Dv), $v = Hv(Vv), Wv = new Array(3).concat("e9a3c9f7f7f7a1d76a", "d01c8bf1b6dab8e1864dac26", "d01c8bf1b6daf7f7f7b8e1864dac26", "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221", "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221", "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221", "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221", "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419", "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Dv), Zv = Hv(Wv), Kv = new Array(3).concat("998ec3f7f7f7f1a340", "5e3c99b2abd2fdb863e66101", "5e3c99b2abd2f7f7f7fdb863e66101", "542788998ec3d8daebfee0b6f1a340b35806", "542788998ec3d8daebf7f7f7fee0b6f1a340b35806", "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806", "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806", "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08", "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Dv), Qv = Hv(Kv), Jv = new Array(3).concat("ef8a62f7f7f767a9cf", "ca0020f4a58292c5de0571b0", "ca0020f4a582f7f7f792c5de0571b0", "b2182bef8a62fddbc7d1e5f067a9cf2166ac", "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac", "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac", "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac", "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061", "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Dv), t_ = Hv(Jv), n_ = new Array(3).concat("ef8a62ffffff999999", "ca0020f4a582bababa404040", "ca0020f4a582ffffffbababa404040", "b2182bef8a62fddbc7e0e0e09999994d4d4d", "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d", "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d", "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d", "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a", "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Dv), e_ = Hv(n_), r_ = new Array(3).concat("fc8d59ffffbf91bfdb", "d7191cfdae61abd9e92c7bb6", "d7191cfdae61ffffbfabd9e92c7bb6", "d73027fc8d59fee090e0f3f891bfdb4575b4", "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4", "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4", "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4", "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695", "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Dv), i_ = Hv(r_), o_ = new Array(3).concat("fc8d59ffffbf91cf60", "d7191cfdae61a6d96a1a9641", "d7191cfdae61ffffbfa6d96a1a9641", "d73027fc8d59fee08bd9ef8b91cf601a9850", "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850", "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850", "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850", "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837", "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Dv), a_ = Hv(o_), u_ = new Array(3).concat("fc8d59ffffbf99d594", "d7191cfdae61abdda42b83ba", "d7191cfdae61ffffbfabdda42b83ba", "d53e4ffc8d59fee08be6f59899d5943288bd", "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd", "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd", "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd", "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2", "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Dv), c_ = Hv(u_), f_ = new Array(3).concat("e5f5f999d8c92ca25f", "edf8fbb2e2e266c2a4238b45", "edf8fbb2e2e266c2a42ca25f006d2c", "edf8fbccece699d8c966c2a42ca25f006d2c", "edf8fbccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Dv), s_ = Hv(f_), l_ = new Array(3).concat("e0ecf49ebcda8856a7", "edf8fbb3cde38c96c688419d", "edf8fbb3cde38c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Dv), h_ = Hv(l_), d_ = new Array(3).concat("e0f3dba8ddb543a2ca", "f0f9e8bae4bc7bccc42b8cbe", "f0f9e8bae4bc7bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Dv), p_ = Hv(d_), g_ = new Array(3).concat("fee8c8fdbb84e34a33", "fef0d9fdcc8afc8d59d7301f", "fef0d9fdcc8afc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Dv), y_ = Hv(g_), v_ = new Array(3).concat("ece2f0a6bddb1c9099", "f6eff7bdc9e167a9cf02818a", "f6eff7bdc9e167a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Dv), __ = Hv(v_), b_ = new Array(3).concat("ece7f2a6bddb2b8cbe", "f1eef6bdc9e174a9cf0570b0", "f1eef6bdc9e174a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Dv), m_ = Hv(b_), x_ = new Array(3).concat("e7e1efc994c7dd1c77", "f1eef6d7b5d8df65b0ce1256", "f1eef6d7b5d8df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Dv), w_ = Hv(x_), M_ = new Array(3).concat("fde0ddfa9fb5c51b8a", "feebe2fbb4b9f768a1ae017e", "feebe2fbb4b9f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Dv), A_ = Hv(M_), T_ = new Array(3).concat("edf8b17fcdbb2c7fb8", "ffffcca1dab441b6c4225ea8", "ffffcca1dab441b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Dv), S_ = Hv(T_), E_ = new Array(3).concat("f7fcb9addd8e31a354", "ffffccc2e69978c679238443", "ffffccc2e69978c67931a354006837", "ffffccd9f0a3addd8e78c67931a354006837", "ffffccd9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Dv), k_ = Hv(E_), N_ = new Array(3).concat("fff7bcfec44fd95f0e", "ffffd4fed98efe9929cc4c02", "ffffd4fed98efe9929d95f0e993404", "ffffd4fee391fec44ffe9929d95f0e993404", "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Dv), C_ = Hv(N_), P_ = new Array(3).concat("ffeda0feb24cf03b20", "ffffb2fecc5cfd8d3ce31a1c", "ffffb2fecc5cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Dv), z_ = Hv(P_), D_ = new Array(3).concat("deebf79ecae13182bd", "eff3ffbdd7e76baed62171b5", "eff3ffbdd7e76baed63182bd08519c", "eff3ffc6dbef9ecae16baed63182bd08519c", "eff3ffc6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Dv), q_ = Hv(D_), R_ = new Array(3).concat("e5f5e0a1d99b31a354", "edf8e9bae4b374c476238b45", "edf8e9bae4b374c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Dv), F_ = Hv(R_), O_ = new Array(3).concat("f0f0f0bdbdbd636363", "f7f7f7cccccc969696525252", "f7f7f7cccccc969696636363252525", "f7f7f7d9d9d9bdbdbd969696636363252525", "f7f7f7d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Dv), I_ = Hv(O_), U_ = new Array(3).concat("efedf5bcbddc756bb1", "f2f0f7cbc9e29e9ac86a51a3", "f2f0f7cbc9e29e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Dv), B_ = Hv(U_), Y_ = new Array(3).concat("fee0d2fc9272de2d26", "fee5d9fcae91fb6a4acb181d", "fee5d9fcae91fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Dv), L_ = Hv(Y_), j_ = new Array(3).concat("fee6cefdae6be6550d", "feeddefdbe85fd8d3cd94701", "feeddefdbe85fd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Dv), H_ = Hv(j_); var X_ = Lr(tr(300, .5, 0), tr(-240, .5, 1)), G_ = Lr(tr(-100, .75, .35), tr(80, 1.5, .8)), V_ = Lr(tr(260, .75, .35), tr(80, 1.5, .8)), $_ = tr(); var W_ = ve(), Z_ = Math.PI / 3, K_ = 2 * Math.PI / 3; function Q_(t) { var n = t.length; return function (e) { return t[Math.max(0, Math.min(n - 1, Math.floor(e * n)))] } } var J_ = Q_(Dv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")), tb = Q_(Dv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")), nb = Q_(Dv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")), eb = Q_(Dv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")); function rb(t) { return function () { return t } } var ib = Math.abs, ob = Math.atan2, ab = Math.cos, ub = Math.max, cb = Math.min, fb = Math.sin, sb = Math.sqrt, lb = 1e-12, hb = Math.PI, db = hb / 2, pb = 2 * hb; function gb(t) { return t > 1 ? 0 : t < -1 ? hb : Math.acos(t) } function yb(t) { return t >= 1 ? db : t <= -1 ? -db : Math.asin(t) } function vb(t) { return t.innerRadius } function _b(t) { return t.outerRadius } function bb(t) { return t.startAngle } function mb(t) { return t.endAngle } function xb(t) { return t && t.padAngle } function wb(t, n, e, r, i, o, a, u) { var c = e - t, f = r - n, s = a - i, l = u - o, h = l * c - s * f; if (!(h * h < lb)) return [t + (h = (s * (n - o) - l * (t - i)) / h) * c, n + h * f] } function Mb(t, n, e, r, i, o, a) { var u = t - e, c = n - r, f = (a ? o : -o) / sb(u * u + c * c), s = f * c, l = -f * u, h = t + s, d = n + l, p = e + s, g = r + l, y = (h + p) / 2, v = (d + g) / 2, _ = p - h, b = g - d, m = _ * _ + b * b, x = i - o, w = h * g - p * d, M = (b < 0 ? -1 : 1) * sb(ub(0, x * x * m - w * w)), A = (w * b - _ * M) / m, T = (-w * _ - b * M) / m, S = (w * b + _ * M) / m, E = (-w * _ + b * M) / m, k = A - y, N = T - v, C = S - y, P = E - v; return k * k + N * N > C * C + P * P && (A = S, T = E), { cx: A, cy: T, x01: -s, y01: -l, x11: A * (i / x - 1), y11: T * (i / x - 1) } } var Ab = Array.prototype.slice; function Tb(t) { return "object" == typeof t && "length" in t ? t : Array.from(t) } function Sb(t) { this._context = t } function Eb(t) { return new Sb(t) } function kb(t) { return t[0] } function Nb(t) { return t[1] } function Cb(t, n) { var e = rb(!0), r = null, i = Eb, o = null; function a(a) { var u, c, f, s = (a = Tb(a)).length, l = !1; for (null == r && (o = i(f = fa())), u = 0; u <= s; ++u)!(u < s && e(c = a[u], u, a)) === l && ((l = !l) ? o.lineStart() : o.lineEnd()), l && o.point(+t(c, u, a), +n(c, u, a)); if (f) return o = null, f + "" || null } return t = "function" == typeof t ? t : void 0 === t ? kb : rb(t), n = "function" == typeof n ? n : void 0 === n ? Nb : rb(n), a.x = function (n) { return arguments.length ? (t = "function" == typeof n ? n : rb(+n), a) : t }, a.y = function (t) { return arguments.length ? (n = "function" == typeof t ? t : rb(+t), a) : n }, a.defined = function (t) { return arguments.length ? (e = "function" == typeof t ? t : rb(!!t), a) : e }, a.curve = function (t) { return arguments.length ? (i = t, null != r && (o = i(r)), a) : i }, a.context = function (t) { return arguments.length ? (null == t ? r = o = null : o = i(r = t), a) : r }, a } function Pb(t, n, e) { var r = null, i = rb(!0), o = null, a = Eb, u = null; function c(c) { var f, s, l, h, d, p = (c = Tb(c)).length, g = !1, y = new Array(p), v = new Array(p); for (null == o && (u = a(d = fa())), f = 0; f <= p; ++f) { if (!(f < p && i(h = c[f], f, c)) === g) if (g = !g) s = f, u.areaStart(), u.lineStart(); else { for (u.lineEnd(), u.lineStart(), l = f - 1; l >= s; --l)u.point(y[l], v[l]); u.lineEnd(), u.areaEnd() } g && (y[f] = +t(h, f, c), v[f] = +n(h, f, c), u.point(r ? +r(h, f, c) : y[f], e ? +e(h, f, c) : v[f])) } if (d) return u = null, d + "" || null } function f() { return Cb().defined(i).curve(a).context(o) } return t = "function" == typeof t ? t : void 0 === t ? kb : rb(+t), n = "function" == typeof n ? n : rb(void 0 === n ? 0 : +n), e = "function" == typeof e ? e : void 0 === e ? Nb : rb(+e), c.x = function (n) { return arguments.length ? (t = "function" == typeof n ? n : rb(+n), r = null, c) : t }, c.x0 = function (n) { return arguments.length ? (t = "function" == typeof n ? n : rb(+n), c) : t }, c.x1 = function (t) { return arguments.length ? (r = null == t ? null : "function" == typeof t ? t : rb(+t), c) : r }, c.y = function (t) { return arguments.length ? (n = "function" == typeof t ? t : rb(+t), e = null, c) : n }, c.y0 = function (t) { return arguments.length ? (n = "function" == typeof t ? t : rb(+t), c) : n }, c.y1 = function (t) { return arguments.length ? (e = null == t ? null : "function" == typeof t ? t : rb(+t), c) : e }, c.lineX0 = c.lineY0 = function () { return f().x(t).y(n) }, c.lineY1 = function () { return f().x(t).y(e) }, c.lineX1 = function () { return f().x(r).y(n) }, c.defined = function (t) { return arguments.length ? (i = "function" == typeof t ? t : rb(!!t), c) : i }, c.curve = function (t) { return arguments.length ? (a = t, null != o && (u = a(o)), c) : a }, c.context = function (t) { return arguments.length ? (null == t ? o = u = null : u = a(o = t), c) : o }, c } function zb(t, n) { return n < t ? -1 : n > t ? 1 : n >= t ? 0 : NaN } function Db(t) { return t } Sb.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._point = 0 }, lineEnd: function () { (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n); break; case 1: this._point = 2; default: this._context.lineTo(t, n) } } }; var qb = Fb(Eb); function Rb(t) { this._curve = t } function Fb(t) { function n(n) { return new Rb(t(n)) } return n._curve = t, n } function Ob(t) { var n = t.curve; return t.angle = t.x, delete t.x, t.radius = t.y, delete t.y, t.curve = function (t) { return arguments.length ? n(Fb(t)) : n()._curve }, t } function Ib() { return Ob(Cb().curve(qb)) } function Ub() { var t = Pb().curve(qb), n = t.curve, e = t.lineX0, r = t.lineX1, i = t.lineY0, o = t.lineY1; return t.angle = t.x, delete t.x, t.startAngle = t.x0, delete t.x0, t.endAngle = t.x1, delete t.x1, t.radius = t.y, delete t.y, t.innerRadius = t.y0, delete t.y0, t.outerRadius = t.y1, delete t.y1, t.lineStartAngle = function () { return Ob(e()) }, delete t.lineX0, t.lineEndAngle = function () { return Ob(r()) }, delete t.lineX1, t.lineInnerRadius = function () { return Ob(i()) }, delete t.lineY0, t.lineOuterRadius = function () { return Ob(o()) }, delete t.lineY1, t.curve = function (t) { return arguments.length ? n(Fb(t)) : n()._curve }, t } function Bb(t, n) { return [(n = +n) * Math.cos(t -= Math.PI / 2), n * Math.sin(t)] } function Yb(t) { return t.source } function Lb(t) { return t.target } function jb(t) { var n = Yb, e = Lb, r = kb, i = Nb, o = null; function a() { var a, u = Ab.call(arguments), c = n.apply(this, u), f = e.apply(this, u); if (o || (o = a = fa()), t(o, +r.apply(this, (u[0] = c, u)), +i.apply(this, u), +r.apply(this, (u[0] = f, u)), +i.apply(this, u)), a) return o = null, a + "" || null } return a.source = function (t) { return arguments.length ? (n = t, a) : n }, a.target = function (t) { return arguments.length ? (e = t, a) : e }, a.x = function (t) { return arguments.length ? (r = "function" == typeof t ? t : rb(+t), a) : r }, a.y = function (t) { return arguments.length ? (i = "function" == typeof t ? t : rb(+t), a) : i }, a.context = function (t) { return arguments.length ? (o = null == t ? null : t, a) : o }, a } function Hb(t, n, e, r, i) { t.moveTo(n, e), t.bezierCurveTo(n = (n + r) / 2, e, n, i, r, i) } function Xb(t, n, e, r, i) { t.moveTo(n, e), t.bezierCurveTo(n, e = (e + i) / 2, r, e, r, i) } function Gb(t, n, e, r, i) { var o = Bb(n, e), a = Bb(n, e = (e + i) / 2), u = Bb(r, e), c = Bb(r, i); t.moveTo(o[0], o[1]), t.bezierCurveTo(a[0], a[1], u[0], u[1], c[0], c[1]) } Rb.prototype = { areaStart: function () { this._curve.areaStart() }, areaEnd: function () { this._curve.areaEnd() }, lineStart: function () { this._curve.lineStart() }, lineEnd: function () { this._curve.lineEnd() }, point: function (t, n) { this._curve.point(n * Math.sin(t), n * -Math.cos(t)) } }; var Vb = { draw: function (t, n) { var e = Math.sqrt(n / hb); t.moveTo(e, 0), t.arc(0, 0, e, 0, pb) } }, $b = { draw: function (t, n) { var e = Math.sqrt(n / 5) / 2; t.moveTo(-3 * e, -e), t.lineTo(-e, -e), t.lineTo(-e, -3 * e), t.lineTo(e, -3 * e), t.lineTo(e, -e), t.lineTo(3 * e, -e), t.lineTo(3 * e, e), t.lineTo(e, e), t.lineTo(e, 3 * e), t.lineTo(-e, 3 * e), t.lineTo(-e, e), t.lineTo(-3 * e, e), t.closePath() } }, Wb = Math.sqrt(1 / 3), Zb = 2 * Wb, Kb = { draw: function (t, n) { var e = Math.sqrt(n / Zb), r = e * Wb; t.moveTo(0, -e), t.lineTo(r, 0), t.lineTo(0, e), t.lineTo(-r, 0), t.closePath() } }, Qb = Math.sin(hb / 10) / Math.sin(7 * hb / 10), Jb = Math.sin(pb / 10) * Qb, tm = -Math.cos(pb / 10) * Qb, nm = { draw: function (t, n) { var e = Math.sqrt(.8908130915292852 * n), r = Jb * e, i = tm * e; t.moveTo(0, -e), t.lineTo(r, i); for (var o = 1; o < 5; ++o) { var a = pb * o / 5, u = Math.cos(a), c = Math.sin(a); t.lineTo(c * e, -u * e), t.lineTo(u * r - c * i, c * r + u * i) } t.closePath() } }, em = { draw: function (t, n) { var e = Math.sqrt(n), r = -e / 2; t.rect(r, r, e, e) } }, rm = Math.sqrt(3), im = { draw: function (t, n) { var e = -Math.sqrt(n / (3 * rm)); t.moveTo(0, 2 * e), t.lineTo(-rm * e, -e), t.lineTo(rm * e, -e), t.closePath() } }, om = -.5, am = Math.sqrt(3) / 2, um = 1 / Math.sqrt(12), cm = 3 * (um / 2 + 1), fm = { draw: function (t, n) { var e = Math.sqrt(n / cm), r = e / 2, i = e * um, o = r, a = e * um + e, u = -o, c = a; t.moveTo(r, i), t.lineTo(o, a), t.lineTo(u, c), t.lineTo(om * r - am * i, am * r + om * i), t.lineTo(om * o - am * a, am * o + om * a), t.lineTo(om * u - am * c, am * u + om * c), t.lineTo(om * r + am * i, om * i - am * r), t.lineTo(om * o + am * a, om * a - am * o), t.lineTo(om * u + am * c, om * c - am * u), t.closePath() } }, sm = [Vb, $b, Kb, em, nm, im, fm]; function lm() { } function hm(t, n, e) { t._context.bezierCurveTo((2 * t._x0 + t._x1) / 3, (2 * t._y0 + t._y1) / 3, (t._x0 + 2 * t._x1) / 3, (t._y0 + 2 * t._y1) / 3, (t._x0 + 4 * t._x1 + n) / 6, (t._y0 + 4 * t._y1 + e) / 6) } function dm(t) { this._context = t } function pm(t) { this._context = t } function gm(t) { this._context = t } dm.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 3: hm(this, this._x1, this._y1); case 2: this._context.lineTo(this._x1, this._y1) }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n); break; case 1: this._point = 2; break; case 2: this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); default: hm(this, t, n) }this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = n } }, pm.prototype = { areaStart: lm, areaEnd: lm, lineStart: function () { this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 1: this._context.moveTo(this._x2, this._y2), this._context.closePath(); break; case 2: this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3), this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3), this._context.closePath(); break; case 3: this.point(this._x2, this._y2), this.point(this._x3, this._y3), this.point(this._x4, this._y4) } }, point: function (t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1, this._x2 = t, this._y2 = n; break; case 1: this._point = 2, this._x3 = t, this._y3 = n; break; case 2: this._point = 3, this._x4 = t, this._y4 = n, this._context.moveTo((this._x0 + 4 * this._x1 + t) / 6, (this._y0 + 4 * this._y1 + n) / 6); break; default: hm(this, t, n) }this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = n } }, gm.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0 }, lineEnd: function () { (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1; break; case 1: this._point = 2; break; case 2: this._point = 3; var e = (this._x0 + 4 * this._x1 + t) / 6, r = (this._y0 + 4 * this._y1 + n) / 6; this._line ? this._context.lineTo(e, r) : this._context.moveTo(e, r); break; case 3: this._point = 4; default: hm(this, t, n) }this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = n } }; class ym { constructor(t, n) { this._context = t, this._x = n } areaStart() { this._line = 0 } areaEnd() { this._line = NaN } lineStart() { this._point = 0 } lineEnd() { (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line } point(t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n); break; case 1: this._point = 2; default: this._x ? this._context.bezierCurveTo(this._x0 = (this._x0 + t) / 2, this._y0, this._x0, n, t, n) : this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + n) / 2, t, this._y0, t, n) }this._x0 = t, this._y0 = n } } function vm(t, n) { this._basis = new dm(t), this._beta = n } vm.prototype = { lineStart: function () { this._x = [], this._y = [], this._basis.lineStart() }, lineEnd: function () { var t = this._x, n = this._y, e = t.length - 1; if (e > 0) for (var r, i = t[0], o = n[0], a = t[e] - i, u = n[e] - o, c = -1; ++c <= e;)r = c / e, this._basis.point(this._beta * t[c] + (1 - this._beta) * (i + r * a), this._beta * n[c] + (1 - this._beta) * (o + r * u)); this._x = this._y = null, this._basis.lineEnd() }, point: function (t, n) { this._x.push(+t), this._y.push(+n) } }; var _m = function t(n) { function e(t) { return 1 === n ? new dm(t) : new vm(t, n) } return e.beta = function (n) { return t(+n) }, e }(.85); function bm(t, n, e) { t._context.bezierCurveTo(t._x1 + t._k * (t._x2 - t._x0), t._y1 + t._k * (t._y2 - t._y0), t._x2 + t._k * (t._x1 - n), t._y2 + t._k * (t._y1 - e), t._x2, t._y2) } function mm(t, n) { this._context = t, this._k = (1 - n) / 6 } mm.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 2: this._context.lineTo(this._x2, this._y2); break; case 3: bm(this, this._x1, this._y1) }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n); break; case 1: this._point = 2, this._x1 = t, this._y1 = n; break; case 2: this._point = 3; default: bm(this, t, n) }this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n } }; var xm = function t(n) { function e(t) { return new mm(t, n) } return e.tension = function (n) { return t(+n) }, e }(0); function wm(t, n) { this._context = t, this._k = (1 - n) / 6 } wm.prototype = { areaStart: lm, areaEnd: lm, lineStart: function () { this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 1: this._context.moveTo(this._x3, this._y3), this._context.closePath(); break; case 2: this._context.lineTo(this._x3, this._y3), this._context.closePath(); break; case 3: this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5) } }, point: function (t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1, this._x3 = t, this._y3 = n; break; case 1: this._point = 2, this._context.moveTo(this._x4 = t, this._y4 = n); break; case 2: this._point = 3, this._x5 = t, this._y5 = n; break; default: bm(this, t, n) }this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n } }; var Mm = function t(n) { function e(t) { return new wm(t, n) } return e.tension = function (n) { return t(+n) }, e }(0); function Am(t, n) { this._context = t, this._k = (1 - n) / 6 } Am.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0 }, lineEnd: function () { (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1; break; case 1: this._point = 2; break; case 2: this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break; case 3: this._point = 4; default: bm(this, t, n) }this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n } }; var Tm = function t(n) { function e(t) { return new Am(t, n) } return e.tension = function (n) { return t(+n) }, e }(0); function Sm(t, n, e) { var r = t._x1, i = t._y1, o = t._x2, a = t._y2; if (t._l01_a > lb) { var u = 2 * t._l01_2a + 3 * t._l01_a * t._l12_a + t._l12_2a, c = 3 * t._l01_a * (t._l01_a + t._l12_a); r = (r * u - t._x0 * t._l12_2a + t._x2 * t._l01_2a) / c, i = (i * u - t._y0 * t._l12_2a + t._y2 * t._l01_2a) / c } if (t._l23_a > lb) { var f = 2 * t._l23_2a + 3 * t._l23_a * t._l12_a + t._l12_2a, s = 3 * t._l23_a * (t._l23_a + t._l12_a); o = (o * f + t._x1 * t._l23_2a - n * t._l12_2a) / s, a = (a * f + t._y1 * t._l23_2a - e * t._l12_2a) / s } t._context.bezierCurveTo(r, i, o, a, t._x2, t._y2) } function Em(t, n) { this._context = t, this._alpha = n } Em.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0 }, lineEnd: function () { switch (this._point) { case 2: this._context.lineTo(this._x2, this._y2); break; case 3: this.point(this._x2, this._y2) }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, n) { if (t = +t, n = +n, this._point) { var e = this._x2 - t, r = this._y2 - n; this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e * e + r * r, this._alpha)) } switch (this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n); break; case 1: this._point = 2; break; case 2: this._point = 3; default: Sm(this, t, n) }this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n } }; var km = function t(n) { function e(t) { return n ? new Em(t, n) : new mm(t, 0) } return e.alpha = function (n) { return t(+n) }, e }(.5); function Nm(t, n) { this._context = t, this._alpha = n } Nm.prototype = { areaStart: lm, areaEnd: lm, lineStart: function () { this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0 }, lineEnd: function () { switch (this._point) { case 1: this._context.moveTo(this._x3, this._y3), this._context.closePath(); break; case 2: this._context.lineTo(this._x3, this._y3), this._context.closePath(); break; case 3: this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5) } }, point: function (t, n) { if (t = +t, n = +n, this._point) { var e = this._x2 - t, r = this._y2 - n; this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e * e + r * r, this._alpha)) } switch (this._point) { case 0: this._point = 1, this._x3 = t, this._y3 = n; break; case 1: this._point = 2, this._context.moveTo(this._x4 = t, this._y4 = n); break; case 2: this._point = 3, this._x5 = t, this._y5 = n; break; default: Sm(this, t, n) }this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n } }; var Cm = function t(n) { function e(t) { return n ? new Nm(t, n) : new wm(t, 0) } return e.alpha = function (n) { return t(+n) }, e }(.5); function Pm(t, n) { this._context = t, this._alpha = n } Pm.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0 }, lineEnd: function () { (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, n) { if (t = +t, n = +n, this._point) { var e = this._x2 - t, r = this._y2 - n; this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e * e + r * r, this._alpha)) } switch (this._point) { case 0: this._point = 1; break; case 1: this._point = 2; break; case 2: this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break; case 3: this._point = 4; default: Sm(this, t, n) }this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n } }; var zm = function t(n) { function e(t) { return n ? new Pm(t, n) : new Am(t, 0) } return e.alpha = function (n) { return t(+n) }, e }(.5); function Dm(t) { this._context = t } function qm(t) { return t < 0 ? -1 : 1 } function Rm(t, n, e) { var r = t._x1 - t._x0, i = n - t._x1, o = (t._y1 - t._y0) / (r || i < 0 && -0), a = (e - t._y1) / (i || r < 0 && -0), u = (o * i + a * r) / (r + i); return (qm(o) + qm(a)) * Math.min(Math.abs(o), Math.abs(a), .5 * Math.abs(u)) || 0 } function Fm(t, n) { var e = t._x1 - t._x0; return e ? (3 * (t._y1 - t._y0) / e - n) / 2 : n } function Om(t, n, e) { var r = t._x0, i = t._y0, o = t._x1, a = t._y1, u = (o - r) / 3; t._context.bezierCurveTo(r + u, i + u * n, o - u, a - u * e, o, a) } function Im(t) { this._context = t } function Um(t) { this._context = new Bm(t) } function Bm(t) { this._context = t } function Ym(t) { this._context = t } function Lm(t) { var n, e, r = t.length - 1, i = new Array(r), o = new Array(r), a = new Array(r); for (i[0] = 0, o[0] = 2, a[0] = t[0] + 2 * t[1], n = 1; n < r - 1; ++n)i[n] = 1, o[n] = 4, a[n] = 4 * t[n] + 2 * t[n + 1]; for (i[r - 1] = 2, o[r - 1] = 7, a[r - 1] = 8 * t[r - 1] + t[r], n = 1; n < r; ++n)e = i[n] / o[n - 1], o[n] -= e, a[n] -= e * a[n - 1]; for (i[r - 1] = a[r - 1] / o[r - 1], n = r - 2; n >= 0; --n)i[n] = (a[n] - i[n + 1]) / o[n]; for (o[r - 1] = (t[r] + i[r - 1]) / 2, n = 0; n < r - 1; ++n)o[n] = 2 * t[n + 1] - i[n + 1]; return [i, o] } function jm(t, n) { this._context = t, this._t = n } function Hm(t, n) { if ((i = t.length) > 1) for (var e, r, i, o = 1, a = t[n[0]], u = a.length; o < i; ++o)for (r = a, a = t[n[o]], e = 0; e < u; ++e)a[e][1] += a[e][0] = isNaN(r[e][1]) ? r[e][0] : r[e][1] } function Xm(t) { for (var n = t.length, e = new Array(n); --n >= 0;)e[n] = n; return e } function Gm(t, n) { return t[n] } function Vm(t) { const n = []; return n.key = t, n } function $m(t) { var n = t.map(Wm); return Xm(t).sort((function (t, e) { return n[t] - n[e] })) } function Wm(t) { for (var n, e = -1, r = 0, i = t.length, o = -1 / 0; ++e < i;)(n = +t[e][1]) > o && (o = n, r = e); return r } function Zm(t) { var n = t.map(Km); return Xm(t).sort((function (t, e) { return n[t] - n[e] })) } function Km(t) { for (var n, e = 0, r = -1, i = t.length; ++r < i;)(n = +t[r][1]) && (e += n); return e } Dm.prototype = { areaStart: lm, areaEnd: lm, lineStart: function () { this._point = 0 }, lineEnd: function () { this._point && this._context.closePath() }, point: function (t, n) { t = +t, n = +n, this._point ? this._context.lineTo(t, n) : (this._point = 1, this._context.moveTo(t, n)) } }, Im.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 2: this._context.lineTo(this._x1, this._y1); break; case 3: Om(this, this._t0, Fm(this, this._t0)) }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, n) { var e = NaN; if (n = +n, (t = +t) !== this._x1 || n !== this._y1) { switch (this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n); break; case 1: this._point = 2; break; case 2: this._point = 3, Om(this, Fm(this, e = Rm(this, t, n)), e); break; default: Om(this, this._t0, e = Rm(this, t, n)) }this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = n, this._t0 = e } } }, (Um.prototype = Object.create(Im.prototype)).point = function (t, n) { Im.prototype.point.call(this, n, t) }, Bm.prototype = { moveTo: function (t, n) { this._context.moveTo(n, t) }, closePath: function () { this._context.closePath() }, lineTo: function (t, n) { this._context.lineTo(n, t) }, bezierCurveTo: function (t, n, e, r, i, o) { this._context.bezierCurveTo(n, t, r, e, o, i) } }, Ym.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x = [], this._y = [] }, lineEnd: function () { var t = this._x, n = this._y, e = t.length; if (e) if (this._line ? this._context.lineTo(t[0], n[0]) : this._context.moveTo(t[0], n[0]), 2 === e) this._context.lineTo(t[1], n[1]); else for (var r = Lm(t), i = Lm(n), o = 0, a = 1; a < e; ++o, ++a)this._context.bezierCurveTo(r[0][o], i[0][o], r[1][o], i[1][o], t[a], n[a]); (this._line || 0 !== this._line && 1 === e) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null }, point: function (t, n) { this._x.push(+t), this._y.push(+n) } }, jm.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x = this._y = NaN, this._point = 0 }, lineEnd: function () { 0 < this._t && this._t < 1 && 2 === this._point && this._context.lineTo(this._x, this._y), (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line) }, point: function (t, n) { switch (t = +t, n = +n, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n); break; case 1: this._point = 2; default: if (this._t <= 0) this._context.lineTo(this._x, n), this._context.lineTo(t, n); else { var e = this._x * (1 - this._t) + t * this._t; this._context.lineTo(e, this._y), this._context.lineTo(e, n) } }this._x = t, this._y = n } }; var Qm = t => () => t; function Jm(t, { sourceEvent: n, target: e, transform: r, dispatch: i }) { Object.defineProperties(this, { type: { value: t, enumerable: !0, configurable: !0 }, sourceEvent: { value: n, enumerable: !0, configurable: !0 }, target: { value: e, enumerable: !0, configurable: !0 }, transform: { value: r, enumerable: !0, configurable: !0 }, _: { value: i } }) } function tx(t, n, e) { this.k = t, this.x = n, this.y = e } tx.prototype = { constructor: tx, scale: function (t) { return 1 === t ? this : new tx(this.k * t, this.x, this.y) }, translate: function (t, n) { return 0 === t & 0 === n ? this : new tx(this.k, this.x + this.k * t, this.y + this.k * n) }, apply: function (t) { return [t[0] * this.k + this.x, t[1] * this.k + this.y] }, applyX: function (t) { return t * this.k + this.x }, applyY: function (t) { return t * this.k + this.y }, invert: function (t) { return [(t[0] - this.x) / this.k, (t[1] - this.y) / this.k] }, invertX: function (t) { return (t - this.x) / this.k }, invertY: function (t) { return (t - this.y) / this.k }, rescaleX: function (t) { return t.copy().domain(t.range().map(this.invertX, this).map(t.invert, t)) }, rescaleY: function (t) { return t.copy().domain(t.range().map(this.invertY, this).map(t.invert, t)) }, toString: function () { return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")" } }; var nx = new tx(1, 0, 0); function ex(t) { for (; !t.__zoom;)if (!(t = t.parentNode)) return nx; return t.__zoom } function rx(t) { t.stopImmediatePropagation() } function ix(t) { t.preventDefault(), t.stopImmediatePropagation() } function ox(t) { return !(t.ctrlKey && "wheel" !== t.type || t.button) } function ax() { var t = this; return t instanceof SVGElement ? (t = t.ownerSVGElement || t).hasAttribute("viewBox") ? [[(t = t.viewBox.baseVal).x, t.y], [t.x + t.width, t.y + t.height]] : [[0, 0], [t.width.baseVal.value, t.height.baseVal.value]] : [[0, 0], [t.clientWidth, t.clientHeight]] } function ux() { return this.__zoom || nx } function cx(t) { return -t.deltaY * (1 === t.deltaMode ? .05 : t.deltaMode ? 1 : .002) * (t.ctrlKey ? 10 : 1) } function fx() { return navigator.maxTouchPoints || "ontouchstart" in this } function sx(t, n, e) { var r = t.invertX(n[0][0]) - e[0][0], i = t.invertX(n[1][0]) - e[1][0], o = t.invertY(n[0][1]) - e[0][1], a = t.invertY(n[1][1]) - e[1][1]; return t.translate(i > r ? (r + i) / 2 : Math.min(0, r) || Math.max(0, i), a > o ? (o + a) / 2 : Math.min(0, o) || Math.max(0, a)) } ex.prototype = tx.prototype, t.Adder = g, t.Delaunay = nu, t.FormatSpecifier = uc, t.InternMap = y, t.InternSet = v, t.Voronoi = Wa, t.active = function (t, n) { var e, r, i = t.__transition; if (i) for (r in n = null == n ? null : n + "", i) if ((e = i[r]).state > 1 && e.name === n) return new ji([[t]], _o, n, +r); return null }, t.arc = function () { var t = vb, n = _b, e = rb(0), r = null, i = bb, o = mb, a = xb, u = null; function c() { var c, f, s = +t.apply(this, arguments), l = +n.apply(this, arguments), h = i.apply(this, arguments) - db, d = o.apply(this, arguments) - db, p = ib(d - h), g = d > h; if (u || (u = c = fa()), l < s && (f = l, l = s, s = f), l > lb) if (p > pb - lb) u.moveTo(l * ab(h), l * fb(h)), u.arc(0, 0, l, h, d, !g), s > lb && (u.moveTo(s * ab(d), s * fb(d)), u.arc(0, 0, s, d, h, g)); else { var y, v, _ = h, b = d, m = h, x = d, w = p, M = p, A = a.apply(this, arguments) / 2, T = A > lb && (r ? +r.apply(this, arguments) : sb(s * s + l * l)), S = cb(ib(l - s) / 2, +e.apply(this, arguments)), E = S, k = S; if (T > lb) { var N = yb(T / s * fb(A)), C = yb(T / l * fb(A)); (w -= 2 * N) > lb ? (m += N *= g ? 1 : -1, x -= N) : (w = 0, m = x = (h + d) / 2), (M -= 2 * C) > lb ? (_ += C *= g ? 1 : -1, b -= C) : (M = 0, _ = b = (h + d) / 2) } var P = l * ab(_), z = l * fb(_), D = s * ab(x), q = s * fb(x); if (S > lb) { var R, F = l * ab(b), O = l * fb(b), I = s * ab(m), U = s * fb(m); if (p < hb && (R = wb(P, z, I, U, F, O, D, q))) { var B = P - R[0], Y = z - R[1], L = F - R[0], j = O - R[1], H = 1 / fb(gb((B * L + Y * j) / (sb(B * B + Y * Y) * sb(L * L + j * j))) / 2), X = sb(R[0] * R[0] + R[1] * R[1]); E = cb(S, (s - X) / (H - 1)), k = cb(S, (l - X) / (H + 1)) } } M > lb ? k > lb ? (y = Mb(I, U, P, z, l, k, g), v = Mb(F, O, D, q, l, k, g), u.moveTo(y.cx + y.x01, y.cy + y.y01), k < S ? u.arc(y.cx, y.cy, k, ob(y.y01, y.x01), ob(v.y01, v.x01), !g) : (u.arc(y.cx, y.cy, k, ob(y.y01, y.x01), ob(y.y11, y.x11), !g), u.arc(0, 0, l, ob(y.cy + y.y11, y.cx + y.x11), ob(v.cy + v.y11, v.cx + v.x11), !g), u.arc(v.cx, v.cy, k, ob(v.y11, v.x11), ob(v.y01, v.x01), !g))) : (u.moveTo(P, z), u.arc(0, 0, l, _, b, !g)) : u.moveTo(P, z), s > lb && w > lb ? E > lb ? (y = Mb(D, q, F, O, s, -E, g), v = Mb(P, z, I, U, s, -E, g), u.lineTo(y.cx + y.x01, y.cy + y.y01), E < S ? u.arc(y.cx, y.cy, E, ob(y.y01, y.x01), ob(v.y01, v.x01), !g) : (u.arc(y.cx, y.cy, E, ob(y.y01, y.x01), ob(y.y11, y.x11), !g), u.arc(0, 0, s, ob(y.cy + y.y11, y.cx + y.x11), ob(v.cy + v.y11, v.cx + v.x11), g), u.arc(v.cx, v.cy, E, ob(v.y11, v.x11), ob(v.y01, v.x01), !g))) : u.arc(0, 0, s, x, m, g) : u.lineTo(D, q) } else u.moveTo(0, 0); if (u.closePath(), c) return u = null, c + "" || null } return c.centroid = function () { var e = (+t.apply(this, arguments) + +n.apply(this, arguments)) / 2, r = (+i.apply(this, arguments) + +o.apply(this, arguments)) / 2 - hb / 2; return [ab(r) * e, fb(r) * e] }, c.innerRadius = function (n) { return arguments.length ? (t = "function" == typeof n ? n : rb(+n), c) : t }, c.outerRadius = function (t) { return arguments.length ? (n = "function" == typeof t ? t : rb(+t), c) : n }, c.cornerRadius = function (t) { return arguments.length ? (e = "function" == typeof t ? t : rb(+t), c) : e }, c.padRadius = function (t) { return arguments.length ? (r = null == t ? null : "function" == typeof t ? t : rb(+t), c) : r }, c.startAngle = function (t) { return arguments.length ? (i = "function" == typeof t ? t : rb(+t), c) : i }, c.endAngle = function (t) { return arguments.length ? (o = "function" == typeof t ? t : rb(+t), c) : o }, c.padAngle = function (t) { return arguments.length ? (a = "function" == typeof t ? t : rb(+t), c) : a }, c.context = function (t) { return arguments.length ? (u = null == t ? null : t, c) : u }, c }, t.area = Pb, t.areaRadial = Ub, t.ascending = n, t.autoType = function (t) { for (var n in t) { var e, r, i = t[n].trim(); if (i) if ("true" === i) i = !0; else if ("false" === i) i = !1; else if ("NaN" === i) i = NaN; else if (isNaN(e = +i)) { if (!(r = i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))) continue; Tu && r[4] && !r[7] && (i = i.replace(/-/g, "/").replace(/T/, " ")), i = new Date(i) } else i = e; else i = null; t[n] = i } return t }, t.axisBottom = function (t) { return ht(3, t) }, t.axisLeft = function (t) { return ht(4, t) }, t.axisRight = function (t) { return ht(2, t) }, t.axisTop = function (t) { return ht(1, t) }, t.bin = U, t.bisect = o, t.bisectCenter = u, t.bisectLeft = a, t.bisectRight = o, t.bisector = e, t.blob = function (t, n) { return fetch(t, n).then(Su) }, t.brush = function () { return Go(qo) }, t.brushSelection = function (t) { var n = t.__brush; return n ? n.dim.output(n.selection) : null }, t.brushX = function () { return Go(zo) }, t.brushY = function () { return Go(Do) }, t.buffer = function (t, n) { return fetch(t, n).then(Eu) }, t.chord = function () { return ra(!1, !1) }, t.chordDirected = function () { return ra(!0, !1) }, t.chordTranspose = function () { return ra(!1, !0) }, t.cluster = function () { var t = Yh, n = 1, e = 1, r = !1; function i(i) { var o, a = 0; i.eachAfter((function (n) { var e = n.children; e ? (n.x = function (t) { return t.reduce(Lh, 0) / t.length }(e), n.y = function (t) { return 1 + t.reduce(jh, 0) }(e)) : (n.x = o ? a += t(n, o) : 0, n.y = 0, o = n) })); var u = function (t) { for (var n; n = t.children;)t = n[0]; return t }(i), c = function (t) { for (var n; n = t.children;)t = n[n.length - 1]; return t }(i), f = u.x - t(u, c) / 2, s = c.x + t(c, u) / 2; return i.eachAfter(r ? function (t) { t.x = (t.x - i.x) * n, t.y = (i.y - t.y) * e } : function (t) { t.x = (t.x - f) / (s - f) * n, t.y = (1 - (i.y ? t.y / i.y : 1)) * e }) } return i.separation = function (n) { return arguments.length ? (t = n, i) : t }, i.size = function (t) { return arguments.length ? (r = !1, n = +t[0], e = +t[1], i) : r ? null : [n, e] }, i.nodeSize = function (t) { return arguments.length ? (r = !0, n = +t[0], e = +t[1], i) : r ? [n, e] : null }, i }, t.color = de, t.contourDensity = function () { var t = Pa, n = za, e = Da, r = 960, i = 500, o = 20, a = 2, u = 3 * o, c = r + 2 * u >> a, f = i + 2 * u >> a, s = wa(20); function l(r) { var i = new Float32Array(c * f), l = new Float32Array(c * f); r.forEach((function (r, o, s) { var l = +t(r, o, s) + u >> a, h = +n(r, o, s) + u >> a, d = +e(r, o, s); l >= 0 && l < c && h >= 0 && h < f && (i[l + h * c] += d) })), Na({ width: c, height: f, data: i }, { width: c, height: f, data: l }, o >> a), Ca({ width: c, height: f, data: l }, { width: c, height: f, data: i }, o >> a), Na({ width: c, height: f, data: i }, { width: c, height: f, data: l }, o >> a), Ca({ width: c, height: f, data: l }, { width: c, height: f, data: i }, o >> a), Na({ width: c, height: f, data: i }, { width: c, height: f, data: l }, o >> a), Ca({ width: c, height: f, data: l }, { width: c, height: f, data: i }, o >> a); var d = s(i); if (!Array.isArray(d)) { var p = B(i); d = F(0, p, d), (d = Z(0, Math.floor(p / d) * d, d)).shift() } return ka().thresholds(d).size([c, f])(i).map(h) } function h(t) { return t.value *= Math.pow(2, -2 * a), t.coordinates.forEach(d), t } function d(t) { t.forEach(p) } function p(t) { t.forEach(g) } function g(t) { t[0] = t[0] * Math.pow(2, a) - u, t[1] = t[1] * Math.pow(2, a) - u } function y() { return c = r + 2 * (u = 3 * o) >> a, f = i + 2 * u >> a, l } return l.x = function (n) { return arguments.length ? (t = "function" == typeof n ? n : wa(+n), l) : t }, l.y = function (t) { return arguments.length ? (n = "function" == typeof t ? t : wa(+t), l) : n }, l.weight = function (t) { return arguments.length ? (e = "function" == typeof t ? t : wa(+t), l) : e }, l.size = function (t) { if (!arguments.length) return [r, i]; var n = +t[0], e = +t[1]; if (!(n >= 0 && e >= 0)) throw new Error("invalid size"); return r = n, i = e, y() }, l.cellSize = function (t) { if (!arguments.length) return 1 << a; if (!((t = +t) >= 1)) throw new Error("invalid cell size"); return a = Math.floor(Math.log(t) / Math.LN2), y() }, l.thresholds = function (t) { return arguments.length ? (s = "function" == typeof t ? t : Array.isArray(t) ? wa(ma.call(t)) : wa(t), l) : s }, l.bandwidth = function (t) { if (!arguments.length) return Math.sqrt(o * (o + 1)); if (!((t = +t) >= 0)) throw new Error("invalid bandwidth"); return o = Math.round((Math.sqrt(4 * t * t + 1) - 1) / 2), y() }, l }, t.contours = ka, t.count = c, t.create = function (t) { return Dn(At(t).call(document.documentElement)) }, t.creator = At, t.cross = function (...t) { const n = "function" == typeof t[t.length - 1] && function (t) { return n => t(...n) }(t.pop()), e = (t = t.map(l)).map(f), r = t.length - 1, i = new Array(r + 1).fill(0), o = []; if (r < 0 || e.some(s)) return o; for (; ;) { o.push(i.map(((n, e) => t[e][n]))); let a = r; for (; ++i[a] === e[a];) { if (0 === a) return n ? o.map(n) : o; i[a--] = 0 } } }, t.csv = Pu, t.csvFormat = hu, t.csvFormatBody = du, t.csvFormatRow = gu, t.csvFormatRows = pu, t.csvFormatValue = yu, t.csvParse = su, t.csvParseRows = lu, t.cubehelix = tr, t.cumsum = function (t, n) { var e = 0, r = 0; return Float64Array.from(t, void 0 === n ? t => e += +t || 0 : i => e += +n(i, r++, t) || 0) }, t.curveBasis = function (t) { return new dm(t) }, t.curveBasisClosed = function (t) { return new pm(t) }, t.curveBasisOpen = function (t) { return new gm(t) }, t.curveBumpX = function (t) { return new ym(t, !0) }, t.curveBumpY = function (t) { return new ym(t, !1) }, t.curveBundle = _m, t.curveCardinal = xm, t.curveCardinalClosed = Mm, t.curveCardinalOpen = Tm, t.curveCatmullRom = km, t.curveCatmullRomClosed = Cm, t.curveCatmullRomOpen = zm, t.curveLinear = Eb, t.curveLinearClosed = function (t) { return new Dm(t) }, t.curveMonotoneX = function (t) { return new Im(t) }, t.curveMonotoneY = function (t) { return new Um(t) }, t.curveNatural = function (t) { return new Ym(t) }, t.curveStep = function (t) { return new jm(t, .5) }, t.curveStepAfter = function (t) { return new jm(t, 1) }, t.curveStepBefore = function (t) { return new jm(t, 0) }, t.descending = function (t, n) { return n < t ? -1 : n > t ? 1 : n >= t ? 0 : NaN }, t.deviation = d, t.difference = function (t, ...n) { t = new Set(t); for (const e of n) for (const n of e) t.delete(n); return t }, t.disjoint = function (t, n) { const e = n[Symbol.iterator](), r = new Set; for (const n of t) { if (r.has(n)) return !1; let t, i; for (; ({ value: t, done: i } = e.next()) && !i;) { if (Object.is(n, t)) return !1; r.add(t) } } return !0 }, t.dispatch = pt, t.drag = function () { var t, n, e, r, i = Xn, o = Gn, a = Vn, u = $n, c = {}, f = pt("start", "drag", "end"), s = 0, l = 0; function h(t) { t.on("mousedown.drag", d).filter(u).on("touchstart.drag", y).on("touchmove.drag", v).on("touchend.drag touchcancel.drag", _).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)") } function d(a, u) { if (!r && i.call(this, a, u)) { var c = b(this, o.call(this, a, u), a, u, "mouse"); c && (Dn(a.view).on("mousemove.drag", p, !0).on("mouseup.drag", g, !0), Yn(a.view), Un(a), e = !1, t = a.clientX, n = a.clientY, c("start", a)) } } function p(r) { if (Bn(r), !e) { var i = r.clientX - t, o = r.clientY - n; e = i * i + o * o > l } c.mouse("drag", r) } function g(t) { Dn(t.view).on("mousemove.drag mouseup.drag", null), Ln(t.view, e), Bn(t), c.mouse("end", t) } function y(t, n) { if (i.call(this, t, n)) { var e, r, a = t.changedTouches, u = o.call(this, t, n), c = a.length; for (e = 0; e < c; ++e)(r = b(this, u, t, n, a[e].identifier, a[e])) && (Un(t), r("start", t, a[e])) } } function v(t) { var n, e, r = t.changedTouches, i = r.length; for (n = 0; n < i; ++n)(e = c[r[n].identifier]) && (Bn(t), e("drag", t, r[n])) } function _(t) { var n, e, i = t.changedTouches, o = i.length; for (r && clearTimeout(r), r = setTimeout((function () { r = null }), 500), n = 0; n < o; ++n)(e = c[i[n].identifier]) && (Un(t), e("end", t, i[n])) } function b(t, n, e, r, i, o) { var u, l, d, p = f.copy(), g = In(o || e, n); if (null != (d = a.call(t, new Hn("beforestart", { sourceEvent: e, target: h, identifier: i, active: s, x: g[0], y: g[1], dx: 0, dy: 0, dispatch: p }), r))) return u = d.x - g[0] || 0, l = d.y - g[1] || 0, function e(o, a, f) { var y, v = g; switch (o) { case "start": c[i] = e, y = s++; break; case "end": delete c[i], --s; case "drag": g = In(f || a, n), y = s }p.call(o, t, new Hn(o, { sourceEvent: a, subject: d, target: h, identifier: i, active: y, x: g[0] + u, y: g[1] + l, dx: g[0] - v[0], dy: g[1] - v[1], dispatch: p }), r) } } return h.filter = function (t) { return arguments.length ? (i = "function" == typeof t ? t : jn(!!t), h) : i }, h.container = function (t) { return arguments.length ? (o = "function" == typeof t ? t : jn(t), h) : o }, h.subject = function (t) { return arguments.length ? (a = "function" == typeof t ? t : jn(t), h) : a }, h.touchable = function (t) { return arguments.length ? (u = "function" == typeof t ? t : jn(!!t), h) : u }, h.on = function () { var t = f.on.apply(f, arguments); return t === f ? h : t }, h.clickDistance = function (t) { return arguments.length ? (l = (t = +t) * t, h) : Math.sqrt(l) }, h }, t.dragDisable = Yn, t.dragEnable = Ln, t.dsv = function (t, n, e, r) { 3 === arguments.length && "function" == typeof e && (r = e, e = void 0); var i = cu(t); return Nu(n, e).then((function (t) { return i.parse(t, r) })) }, t.dsvFormat = cu, t.easeBack = so, t.easeBackIn = co, t.easeBackInOut = so, t.easeBackOut = fo, t.easeBounce = ao, t.easeBounceIn = function (t) { return 1 - ao(1 - t) }, t.easeBounceInOut = function (t) { return ((t *= 2) <= 1 ? 1 - ao(1 - t) : ao(t - 1) + 1) / 2 }, t.easeBounceOut = ao, t.easeCircle = ro, t.easeCircleIn = function (t) { return 1 - Math.sqrt(1 - t * t) }, t.easeCircleInOut = ro, t.easeCircleOut = function (t) { return Math.sqrt(1 - --t * t) }, t.easeCubic = $i, t.easeCubicIn = function (t) { return t * t * t }, t.easeCubicInOut = $i, t.easeCubicOut = function (t) { return --t * t * t + 1 }, t.easeElastic = po, t.easeElasticIn = ho, t.easeElasticInOut = go, t.easeElasticOut = po, t.easeExp = eo, t.easeExpIn = function (t) { return no(1 - +t) }, t.easeExpInOut = eo, t.easeExpOut = function (t) { return 1 - no(t) }, t.easeLinear = t => +t, t.easePoly = Ki, t.easePolyIn = Wi, t.easePolyInOut = Ki, t.easePolyOut = Zi, t.easeQuad = Vi, t.easeQuadIn = function (t) { return t * t }, t.easeQuadInOut = Vi, t.easeQuadOut = function (t) { return t * (2 - t) }, t.easeSin = to, t.easeSinIn = function (t) { return 1 == +t ? 1 : 1 - Math.cos(t * Ji) }, t.easeSinInOut = to, t.easeSinOut = function (t) { return Math.sin(t * Ji) }, t.every = function (t, n) { if ("function" != typeof n) throw new TypeError("test is not a function"); let e = -1; for (const r of t) if (!n(r, ++e, t)) return !1; return !0 }, t.extent = p, t.fcumsum = function (t, n) { const e = new g; let r = -1; return Float64Array.from(t, void 0 === n ? t => e.add(+t || 0) : i => e.add(+n(i, ++r, t) || 0)) }, t.filter = function (t, n) { if ("function" != typeof n) throw new TypeError("test is not a function"); const e = []; let r = -1; for (const i of t) n(i, ++r, t) && e.push(i); return e }, t.forceCenter = function (t, n) { var e, r = 1; function i() { var i, o, a = e.length, u = 0, c = 0; for (i = 0; i < a; ++i)u += (o = e[i]).x, c += o.y; for (u = (u / a - t) * r, c = (c / a - n) * r, i = 0; i < a; ++i)(o = e[i]).x -= u, o.y -= c } return null == t && (t = 0), null == n && (n = 0), i.initialize = function (t) { e = t }, i.x = function (n) { return arguments.length ? (t = +n, i) : t }, i.y = function (t) { return arguments.length ? (n = +t, i) : n }, i.strength = function (t) { return arguments.length ? (r = +t, i) : r }, i }, t.forceCollide = function (t) { var n, e, r, i = 1, o = 1; function a() { for (var t, a, c, f, s, l, h, d = n.length, p = 0; p < o; ++p)for (a = Lu(n, $u, Wu).visitAfter(u), t = 0; t < d; ++t)c = n[t], l = e[c.index], h = l * l, f = c.x + c.vx, s = c.y + c.vy, a.visit(g); function g(t, n, e, o, a) { var u = t.data, d = t.r, p = l + d; if (!u) return n > f + p || o < f - p || e > s + p || a < s - p; if (u.index > c.index) { var g = f - u.x - u.vx, y = s - u.y - u.vy, v = g * g + y * y; v < p * p && (0 === g && (v += (g = Vu(r)) * g), 0 === y && (v += (y = Vu(r)) * y), v = (p - (v = Math.sqrt(v))) / v * i, c.vx += (g *= v) * (p = (d *= d) / (h + d)), c.vy += (y *= v) * p, u.vx -= g * (p = 1 - p), u.vy -= y * p) } } } function u(t) { if (t.data) return t.r = e[t.data.index]; for (var n = t.r = 0; n < 4; ++n)t[n] && t[n].r > t.r && (t.r = t[n].r) } function c() { if (n) { var r, i, o = n.length; for (e = new Array(o), r = 0; r < o; ++r)i = n[r], e[i.index] = +t(i, r, n) } } return "function" != typeof t && (t = Gu(null == t ? 1 : +t)), a.initialize = function (t, e) { n = t, r = e, c() }, a.iterations = function (t) { return arguments.length ? (o = +t, a) : o }, a.strength = function (t) { return arguments.length ? (i = +t, a) : i }, a.radius = function (n) { return arguments.length ? (t = "function" == typeof n ? n : Gu(+n), c(), a) : t }, a }, t.forceLink = function (t) { var n, e, r, i, o, a, u = Zu, c = function (t) { return 1 / Math.min(i[t.source.index], i[t.target.index]) }, f = Gu(30), s = 1; function l(r) { for (var i = 0, u = t.length; i < s; ++i)for (var c, f, l, h, d, p, g, y = 0; y < u; ++y)f = (c = t[y]).source, h = (l = c.target).x + l.vx - f.x - f.vx || Vu(a), d = l.y + l.vy - f.y - f.vy || Vu(a), h *= p = ((p = Math.sqrt(h * h + d * d)) - e[y]) / p * r * n[y], d *= p, l.vx -= h * (g = o[y]), l.vy -= d * g, f.vx += h * (g = 1 - g), f.vy += d * g } function h() { if (r) { var a, c, f = r.length, s = t.length, l = new Map(r.map(((t, n) => [u(t, n, r), t]))); for (a = 0, i = new Array(f); a < s; ++a)(c = t[a]).index = a, "object" != typeof c.source && (c.source = Ku(l, c.source)), "object" != typeof c.target && (c.target = Ku(l, c.target)), i[c.source.index] = (i[c.source.index] || 0) + 1, i[c.target.index] = (i[c.target.index] || 0) + 1; for (a = 0, o = new Array(s); a < s; ++a)c = t[a], o[a] = i[c.source.index] / (i[c.source.index] + i[c.target.index]); n = new Array(s), d(), e = new Array(s), p() } } function d() { if (r) for (var e = 0, i = t.length; e < i; ++e)n[e] = +c(t[e], e, t) } function p() { if (r) for (var n = 0, i = t.length; n < i; ++n)e[n] = +f(t[n], n, t) } return null == t && (t = []), l.initialize = function (t, n) { r = t, a = n, h() }, l.links = function (n) { return arguments.length ? (t = n, h(), l) : t }, l.id = function (t) { return arguments.length ? (u = t, l) : u }, l.iterations = function (t) { return arguments.length ? (s = +t, l) : s }, l.strength = function (t) { return arguments.length ? (c = "function" == typeof t ? t : Gu(+t), d(), l) : c }, l.distance = function (t) { return arguments.length ? (f = "function" == typeof t ? t : Gu(+t), p(), l) : f }, l }, t.forceManyBody = function () { var t, n, e, r, i, o = Gu(-30), a = 1, u = 1 / 0, c = .81; function f(e) { var i, o = t.length, a = Lu(t, Ju, tc).visitAfter(l); for (r = e, i = 0; i < o; ++i)n = t[i], a.visit(h) } function s() { if (t) { var n, e, r = t.length; for (i = new Array(r), n = 0; n < r; ++n)e = t[n], i[e.index] = +o(e, n, t) } } function l(t) { var n, e, r, o, a, u = 0, c = 0; if (t.length) { for (r = o = a = 0; a < 4; ++a)(n = t[a]) && (e = Math.abs(n.value)) && (u += n.value, c += e, r += e * n.x, o += e * n.y); t.x = r / c, t.y = o / c } else { (n = t).x = n.data.x, n.y = n.data.y; do { u += i[n.data.index] } while (n = n.next) } t.value = u } function h(t, o, f, s) { if (!t.value) return !0; var l = t.x - n.x, h = t.y - n.y, d = s - o, p = l * l + h * h; if (d * d / c < p) return p < u && (0 === l && (p += (l = Vu(e)) * l), 0 === h && (p += (h = Vu(e)) * h), p < a && (p = Math.sqrt(a * p)), n.vx += l * t.value * r / p, n.vy += h * t.value * r / p), !0; if (!(t.length || p >= u)) { (t.data !== n || t.next) && (0 === l && (p += (l = Vu(e)) * l), 0 === h && (p += (h = Vu(e)) * h), p < a && (p = Math.sqrt(a * p))); do { t.data !== n && (d = i[t.data.index] * r / p, n.vx += l * d, n.vy += h * d) } while (t = t.next) } } return f.initialize = function (n, r) { t = n, e = r, s() }, f.strength = function (t) { return arguments.length ? (o = "function" == typeof t ? t : Gu(+t), s(), f) : o }, f.distanceMin = function (t) { return arguments.length ? (a = t * t, f) : Math.sqrt(a) }, f.distanceMax = function (t) { return arguments.length ? (u = t * t, f) : Math.sqrt(u) }, f.theta = function (t) { return arguments.length ? (c = t * t, f) : Math.sqrt(c) }, f }, t.forceRadial = function (t, n, e) { var r, i, o, a = Gu(.1); function u(t) { for (var a = 0, u = r.length; a < u; ++a) { var c = r[a], f = c.x - n || 1e-6, s = c.y - e || 1e-6, l = Math.sqrt(f * f + s * s), h = (o[a] - l) * i[a] * t / l; c.vx += f * h, c.vy += s * h } } function c() { if (r) { var n, e = r.length; for (i = new Array(e), o = new Array(e), n = 0; n < e; ++n)o[n] = +t(r[n], n, r), i[n] = isNaN(o[n]) ? 0 : +a(r[n], n, r) } } return "function" != typeof t && (t = Gu(+t)), null == n && (n = 0), null == e && (e = 0), u.initialize = function (t) { r = t, c() }, u.strength = function (t) { return arguments.length ? (a = "function" == typeof t ? t : Gu(+t), c(), u) : a }, u.radius = function (n) { return arguments.length ? (t = "function" == typeof n ? n : Gu(+n), c(), u) : t }, u.x = function (t) { return arguments.length ? (n = +t, u) : n }, u.y = function (t) { return arguments.length ? (e = +t, u) : e }, u }, t.forceSimulation = function (t) { var n, e = 1, r = .001, i = 1 - Math.pow(r, 1 / 300), o = 0, a = .6, u = new Map, c = ri(l), f = pt("tick", "end"), s = function () { let t = 1; return () => (t = (1664525 * t + 1013904223) % Qu) / Qu }(); function l() { h(), f.call("tick", n), e < r && (c.stop(), f.call("end", n)) } function h(r) { var c, f, s = t.length; void 0 === r && (r = 1); for (var l = 0; l < r; ++l)for (e += (o - e) * i, u.forEach((function (t) { t(e) })), c = 0; c < s; ++c)null == (f = t[c]).fx ? f.x += f.vx *= a : (f.x = f.fx, f.vx = 0), null == f.fy ? f.y += f.vy *= a : (f.y = f.fy, f.vy = 0); return n } function d() { for (var n, e = 0, r = t.length; e < r; ++e) { if ((n = t[e]).index = e, null != n.fx && (n.x = n.fx), null != n.fy && (n.y = n.fy), isNaN(n.x) || isNaN(n.y)) { var i = 10 * Math.sqrt(.5 + e), o = e * nc; n.x = i * Math.cos(o), n.y = i * Math.sin(o) } (isNaN(n.vx) || isNaN(n.vy)) && (n.vx = n.vy = 0) } } function p(n) { return n.initialize && n.initialize(t, s), n } return null == t && (t = []), d(), n = { tick: h, restart: function () { return c.restart(l), n }, stop: function () { return c.stop(), n }, nodes: function (e) { return arguments.length ? (t = e, d(), u.forEach(p), n) : t }, alpha: function (t) { return arguments.length ? (e = +t, n) : e }, alphaMin: function (t) { return arguments.length ? (r = +t, n) : r }, alphaDecay: function (t) { return arguments.length ? (i = +t, n) : +i }, alphaTarget: function (t) { return arguments.length ? (o = +t, n) : o }, velocityDecay: function (t) { return arguments.length ? (a = 1 - t, n) : 1 - a }, randomSource: function (t) { return arguments.length ? (s = t, u.forEach(p), n) : s }, force: function (t, e) { return arguments.length > 1 ? (null == e ? u.delete(t) : u.set(t, p(e)), n) : u.get(t) }, find: function (n, e, r) { var i, o, a, u, c, f = 0, s = t.length; for (null == r ? r = 1 / 0 : r *= r, f = 0; f < s; ++f)(a = (i = n - (u = t[f]).x) * i + (o = e - u.y) * o) < r && (c = u, r = a); return c }, on: function (t, e) { return arguments.length > 1 ? (f.on(t, e), n) : f.on(t) } } }, t.forceX = function (t) { var n, e, r, i = Gu(.1); function o(t) { for (var i, o = 0, a = n.length; o < a; ++o)(i = n[o]).vx += (r[o] - i.x) * e[o] * t } function a() { if (n) { var o, a = n.length; for (e = new Array(a), r = new Array(a), o = 0; o < a; ++o)e[o] = isNaN(r[o] = +t(n[o], o, n)) ? 0 : +i(n[o], o, n) } } return "function" != typeof t && (t = Gu(null == t ? 0 : +t)), o.initialize = function (t) { n = t, a() }, o.strength = function (t) { return arguments.length ? (i = "function" == typeof t ? t : Gu(+t), a(), o) : i }, o.x = function (n) { return arguments.length ? (t = "function" == typeof n ? n : Gu(+n), a(), o) : t }, o }, t.forceY = function (t) { var n, e, r, i = Gu(.1); function o(t) { for (var i, o = 0, a = n.length; o < a; ++o)(i = n[o]).vy += (r[o] - i.y) * e[o] * t } function a() { if (n) { var o, a = n.length; for (e = new Array(a), r = new Array(a), o = 0; o < a; ++o)e[o] = isNaN(r[o] = +t(n[o], o, n)) ? 0 : +i(n[o], o, n) } } return "function" != typeof t && (t = Gu(null == t ? 0 : +t)), o.initialize = function (t) { n = t, a() }, o.strength = function (t) { return arguments.length ? (i = "function" == typeof t ? t : Gu(+t), a(), o) : i }, o.y = function (n) { return arguments.length ? (t = "function" == typeof n ? n : Gu(+n), a(), o) : t }, o }, t.formatDefaultLocale = gc, t.formatLocale = pc, t.formatSpecifier = ac, t.fsum = function (t, n) { const e = new g; if (void 0 === n) for (let n of t) (n = +n) && e.add(n); else { let r = -1; for (let i of t) (i = +n(i, ++r, t)) && e.add(i) } return +e }, t.geoAlbers = bh, t.geoAlbersUsa = function () { var t, n, e, r, i, o, a = bh(), u = _h().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), c = _h().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), f = { point: function (t, n) { o = [t, n] } }; function s(t) { var n = t[0], a = t[1]; return o = null, e.point(n, a), o || (r.point(n, a), o) || (i.point(n, a), o) } function l() { return t = n = null, s } return s.invert = function (t) { var n = a.scale(), e = a.translate(), r = (t[0] - e[0]) / n, i = (t[1] - e[1]) / n; return (i >= .12 && i < .234 && r >= -.425 && r < -.214 ? u : i >= .166 && i < .234 && r >= -.214 && r < -.115 ? c : a).invert(t) }, s.stream = function (e) { return t && n === e ? t : (r = [a.stream(n = e), u.stream(e), c.stream(e)], i = r.length, t = { point: function (t, n) { for (var e = -1; ++e < i;)r[e].point(t, n) }, sphere: function () { for (var t = -1; ++t < i;)r[t].sphere() }, lineStart: function () { for (var t = -1; ++t < i;)r[t].lineStart() }, lineEnd: function () { for (var t = -1; ++t < i;)r[t].lineEnd() }, polygonStart: function () { for (var t = -1; ++t < i;)r[t].polygonStart() }, polygonEnd: function () { for (var t = -1; ++t < i;)r[t].polygonEnd() } }); var r, i }, s.precision = function (t) { return arguments.length ? (a.precision(t), u.precision(t), c.precision(t), l()) : a.precision() }, s.scale = function (t) { return arguments.length ? (a.scale(t), u.scale(.35 * t), c.scale(t), s.translate(a.translate())) : a.scale() }, s.translate = function (t) { if (!arguments.length) return a.translate(); var n = a.scale(), o = +t[0], s = +t[1]; return e = a.translate(t).clipExtent([[o - .455 * n, s - .238 * n], [o + .455 * n, s + .238 * n]]).stream(f), r = u.translate([o - .307 * n, s + .201 * n]).clipExtent([[o - .425 * n + bc, s + .12 * n + bc], [o - .214 * n - bc, s + .234 * n - bc]]).stream(f), i = c.translate([o - .205 * n, s + .212 * n]).clipExtent([[o - .214 * n + bc, s + .166 * n + bc], [o - .115 * n - bc, s + .234 * n - bc]]).stream(f), l() }, s.fitExtent = function (t, n) { return ah(s, t, n) }, s.fitSize = function (t, n) { return uh(s, t, n) }, s.fitWidth = function (t, n) { return ch(s, t, n) }, s.fitHeight = function (t, n) { return fh(s, t, n) }, s.scale(1070) }, t.geoArea = function (t) { return pf = new g, Wc(t, gf), 2 * pf }, t.geoAzimuthalEqualArea = function () { return ph(wh).scale(124.75).clipAngle(179.999) }, t.geoAzimuthalEqualAreaRaw = wh, t.geoAzimuthalEquidistant = function () { return ph(Mh).scale(79.4188).clipAngle(179.999) }, t.geoAzimuthalEquidistantRaw = Mh, t.geoBounds = function (t) { var n, e, r, i, o, a, u; if (of = rf = -(nf = ef = 1 / 0), lf = [], Wc(t, jf), e = lf.length) { for (lf.sort(Qf), n = 1, o = [r = lf[0]]; n < e; ++n)Jf(r, (i = lf[n])[0]) || Jf(r, i[1]) ? (Kf(r[0], i[1]) > Kf(r[0], r[1]) && (r[1] = i[1]), Kf(i[0], r[1]) > Kf(r[0], r[1]) && (r[0] = i[0])) : o.push(r = i); for (a = -1 / 0, n = 0, r = o[e = o.length - 1]; n <= e; r = i, ++n)i = o[n], (u = Kf(r[1], i[0])) > a && (a = u, nf = i[0], rf = r[1]) } return lf = hf = null, nf === 1 / 0 || ef === 1 / 0 ? [[NaN, NaN], [NaN, NaN]] : [[nf, ef], [rf, of]] }, t.geoCentroid = function (t) { Ef = kf = Nf = Cf = Pf = zf = Df = qf = 0, Rf = new g, Ff = new g, Of = new g, Wc(t, ts); var n = +Rf, e = +Ff, r = +Of, i = Dc(n, e, r); return i < mc && (n = zf, e = Df, r = qf, kf < bc && (n = Nf, e = Cf, r = Pf), (i = Dc(n, e, r)) < mc) ? [NaN, NaN] : [Nc(e, n) * Tc, Yc(r / i) * Tc] }, t.geoCircle = function () { var t, n, e = ls([0, 0]), r = ls(90), i = ls(6), o = { point: function (e, r) { t.push(e = n(e, r)), e[0] *= Tc, e[1] *= Tc } }; function a() { var a = e.apply(this, arguments), u = r.apply(this, arguments) * Sc, c = i.apply(this, arguments) * Sc; return t = [], n = ps(-a[0] * Sc, -a[1] * Sc, 0).invert, bs(o, u, c, 1), a = { type: "Polygon", coordinates: [t] }, t = n = null, a } return a.center = function (t) { return arguments.length ? (e = "function" == typeof t ? t : ls([+t[0], +t[1]]), a) : e }, a.radius = function (t) { return arguments.length ? (r = "function" == typeof t ? t : ls(+t), a) : r }, a.precision = function (t) { return arguments.length ? (i = "function" == typeof t ? t : ls(+t), a) : i }, a }, t.geoClipAntimeridian = Ps, t.geoClipCircle = zs, t.geoClipExtent = function () { var t, n, e, r = 0, i = 0, o = 960, a = 500; return e = { stream: function (e) { return t && n === e ? t : t = Us(r, i, o, a)(n = e) }, extent: function (u) { return arguments.length ? (r = +u[0][0], i = +u[0][1], o = +u[1][0], a = +u[1][1], t = n = null, e) : [[r, i], [o, a]] } } }, t.geoClipRectangle = Us, t.geoConicConformal = function () { return yh(Eh).scale(109.5).parallels([30, 30]) }, t.geoConicConformalRaw = Eh, t.geoConicEqualArea = _h, t.geoConicEqualAreaRaw = vh, t.geoConicEquidistant = function () { return yh(Nh).scale(131.154).center([0, 13.9389]) }, t.geoConicEquidistantRaw = Nh, t.geoContains = function (t, n) { return (t && $s.hasOwnProperty(t.type) ? $s[t.type] : Zs)(t, n) }, t.geoDistance = Vs, t.geoEqualEarth = function () { return ph(Rh).scale(177.158) }, t.geoEqualEarthRaw = Rh, t.geoEquirectangular = function () { return ph(kh).scale(152.63) }, t.geoEquirectangularRaw = kh, t.geoGnomonic = function () { return ph(Fh).scale(144.049).clipAngle(60) }, t.geoGnomonicRaw = Fh, t.geoGraticule = il, t.geoGraticule10 = function () { return il()() }, t.geoIdentity = function () { var t, n, e, r, i, o, a, u = 1, c = 0, f = 0, s = 1, l = 1, h = 0, d = null, p = 1, g = 1, y = rh({ point: function (t, n) { var e = b([t, n]); this.stream.point(e[0], e[1]) } }), v = fl; function _() { return p = u * s, g = u * l, o = a = null, b } function b(e) { var r = e[0] * p, i = e[1] * g; if (h) { var o = i * t - r * n; r = r * t + i * n, i = o } return [r + c, i + f] } return b.invert = function (e) { var r = e[0] - c, i = e[1] - f; if (h) { var o = i * t + r * n; r = r * t - i * n, i = o } return [r / p, i / g] }, b.stream = function (t) { return o && a === t ? o : o = y(v(a = t)) }, b.postclip = function (t) { return arguments.length ? (v = t, d = e = r = i = null, _()) : v }, b.clipExtent = function (t) { return arguments.length ? (v = null == t ? (d = e = r = i = null, fl) : Us(d = +t[0][0], e = +t[0][1], r = +t[1][0], i = +t[1][1]), _()) : null == d ? null : [[d, e], [r, i]] }, b.scale = function (t) { return arguments.length ? (u = +t, _()) : u }, b.translate = function (t) { return arguments.length ? (c = +t[0], f = +t[1], _()) : [c, f] }, b.angle = function (e) { return arguments.length ? (n = Fc(h = e % 360 * Sc), t = Cc(h), _()) : h * Tc }, b.reflectX = function (t) { return arguments.length ? (s = t ? -1 : 1, _()) : s < 0 }, b.reflectY = function (t) { return arguments.length ? (l = t ? -1 : 1, _()) : l < 0 }, b.fitExtent = function (t, n) { return ah(b, t, n) }, b.fitSize = function (t, n) { return uh(b, t, n) }, b.fitWidth = function (t, n) { return ch(b, t, n) }, b.fitHeight = function (t, n) { return fh(b, t, n) }, b }, t.geoInterpolate = function (t, n) { var e = t[0] * Sc, r = t[1] * Sc, i = n[0] * Sc, o = n[1] * Sc, a = Cc(r), u = Fc(r), c = Cc(o), f = Fc(o), s = a * Cc(e), l = a * Fc(e), h = c * Cc(i), d = c * Fc(i), p = 2 * Yc(Ic(Lc(o - r) + a * c * Lc(i - e))), g = Fc(p), y = p ? function (t) { var n = Fc(t *= p) / g, e = Fc(p - t) / g, r = e * s + n * h, i = e * l + n * d, o = e * u + n * f; return [Nc(i, r) * Tc, Nc(o, Ic(r * r + i * i)) * Tc] } : function () { return [e * Tc, r * Tc] }; return y.distance = p, y }, t.geoLength = Hs, t.geoMercator = function () { return Th(Ah).scale(961 / Ac) }, t.geoMercatorRaw = Ah, t.geoNaturalEarth1 = function () { return ph(Oh).scale(175.295) }, t.geoNaturalEarth1Raw = Oh, t.geoOrthographic = function () { return ph(Ih).scale(249.5).clipAngle(90.000001) }, t.geoOrthographicRaw = Ih, t.geoPath = function (t, n) { var e, r, i = 4.5; function o(t) { return t && ("function" == typeof i && r.pointRadius(+i.apply(this, arguments)), Wc(t, e(r))), r.result() } return o.area = function (t) { return Wc(t, e(hl)), hl.result() }, o.measure = function (t) { return Wc(t, e(Ql)), Ql.result() }, o.bounds = function (t) { return Wc(t, e(xl)), xl.result() }, o.centroid = function (t) { return Wc(t, e(Rl)), Rl.result() }, o.projection = function (n) { return arguments.length ? (e = null == n ? (t = null, fl) : (t = n).stream, o) : t }, o.context = function (t) { return arguments.length ? (r = null == t ? (n = null, new nh) : new Xl(n = t), "function" != typeof i && r.pointRadius(i), o) : n }, o.pointRadius = function (t) { return arguments.length ? (i = "function" == typeof t ? t : (r.pointRadius(+t), +t), o) : i }, o.projection(t).context(n) }, t.geoProjection = ph, t.geoProjectionMutator = gh, t.geoRotation = _s, t.geoStereographic = function () { return ph(Uh).scale(250).clipAngle(142) }, t.geoStereographicRaw = Uh, t.geoStream = Wc, t.geoTransform = function (t) { return { stream: rh(t) } }, t.geoTransverseMercator = function () { var t = Th(Bh), n = t.center, e = t.rotate; return t.center = function (t) { return arguments.length ? n([-t[1], t[0]]) : [(t = n())[1], -t[0]] }, t.rotate = function (t) { return arguments.length ? e([t[0], t[1], t.length > 2 ? t[2] + 90 : 90]) : [(t = e())[0], t[1], t[2] - 90] }, e([0, 0, 90]).scale(159.155) }, t.geoTransverseMercatorRaw = Bh, t.gray = function (t, n) { return new Fe(t, 0, 0, null == n ? 1 : n) }, t.greatest = function (t, e = n) { let r, i = !1; if (1 === e.length) { let o; for (const a of t) { const t = e(a); (i ? n(t, o) > 0 : 0 === n(t, t)) && (r = a, o = t, i = !0) } } else for (const n of t) (i ? e(n, r) > 0 : 0 === e(n, n)) && (r = n, i = !0); return r }, t.greatestIndex = function (t, e = n) { if (1 === e.length) return G(t, e); let r, i = -1, o = -1; for (const n of t) ++o, (i < 0 ? 0 === e(n, n) : e(n, r) > 0) && (r = n, i = o); return i }, t.group = M, t.groupSort = function (t, e, r) { return (1 === e.length ? k(A(t, e, r), (([t, e], [r, i]) => n(e, i) || n(t, r))) : k(M(t, r), (([t, r], [i, o]) => e(r, o) || n(t, i)))).map((([t]) => t)) }, t.groups = function (t, ...n) { return S(t, Array.from, w, n) }, t.hcl = Le, t.hierarchy = Xh, t.histogram = U, t.hsl = Ae, t.html = Fu, t.image = function (t, n) { return new Promise((function (e, r) { var i = new Image; for (var o in n) i[o] = n[o]; i.onerror = r, i.onload = function () { e(i) }, i.src = t })) }, t.index = function (t, ...n) { return S(t, w, T, n) }, t.indexes = function (t, ...n) { return S(t, Array.from, T, n) }, t.interpolate = Mr, t.interpolateArray = function (t, n) { return (gr(n) ? pr : yr)(t, n) }, t.interpolateBasis = rr, t.interpolateBasisClosed = ir, t.interpolateBlues = q_, t.interpolateBrBG = Gv, t.interpolateBuGn = s_, t.interpolateBuPu = h_, t.interpolateCividis = function (t) { return t = Math.max(0, Math.min(1, t)), "rgb(" + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - 2710.57 * t))))))) + ", " + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - 67.37 * t))))))) + ", " + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - 2475.67 * t))))))) + ")" }, t.interpolateCool = V_, t.interpolateCubehelix = Yr, t.interpolateCubehelixDefault = X_, t.interpolateCubehelixLong = Lr, t.interpolateDate = vr, t.interpolateDiscrete = function (t) { var n = t.length; return function (e) { return t[Math.max(0, Math.min(n - 1, Math.floor(e * n)))] } }, t.interpolateGnBu = p_, t.interpolateGreens = F_, t.interpolateGreys = I_, t.interpolateHcl = Ir, t.interpolateHclLong = Ur, t.interpolateHsl = Rr, t.interpolateHslLong = Fr, t.interpolateHue = function (t, n) { var e = ur(+t, +n); return function (t) { var n = e(t); return n - 360 * Math.floor(n / 360) } }, t.interpolateInferno = nb, t.interpolateLab = function (t, n) { var e = fr((t = Re(t)).l, (n = Re(n)).l), r = fr(t.a, n.a), i = fr(t.b, n.b), o = fr(t.opacity, n.opacity); return function (n) { return t.l = e(n), t.a = r(n), t.b = i(n), t.opacity = o(n), t + "" } }, t.interpolateMagma = tb, t.interpolateNumber = _r, t.interpolateNumberArray = pr, t.interpolateObject = br, t.interpolateOrRd = y_, t.interpolateOranges = H_, t.interpolatePRGn = $v, t.interpolatePiYG = Zv, t.interpolatePlasma = eb, t.interpolatePuBu = m_, t.interpolatePuBuGn = __, t.interpolatePuOr = Qv, t.interpolatePuRd = w_, t.interpolatePurples = B_, t.interpolateRainbow = function (t) { (t < 0 || t > 1) && (t -= Math.floor(t)); var n = Math.abs(t - .5); return $_.h = 360 * t - 100, $_.s = 1.5 - 1.5 * n, $_.l = .8 - .9 * n, $_ + "" }, t.interpolateRdBu = t_, t.interpolateRdGy = e_, t.interpolateRdPu = A_, t.interpolateRdYlBu = i_, t.interpolateRdYlGn = a_, t.interpolateReds = L_, t.interpolateRgb = sr, t.interpolateRgbBasis = hr, t.interpolateRgbBasisClosed = dr, t.interpolateRound = Ar, t.interpolateSinebow = function (t) { var n; return t = (.5 - t) * Math.PI, W_.r = 255 * (n = Math.sin(t)) * n, W_.g = 255 * (n = Math.sin(t + Z_)) * n, W_.b = 255 * (n = Math.sin(t + K_)) * n, W_ + "" }, t.interpolateSpectral = c_, t.interpolateString = wr, t.interpolateTransformCss = Cr, t.interpolateTransformSvg = Pr, t.interpolateTurbo = function (t) { return t = Math.max(0, Math.min(1, t)), "rgb(" + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - 14825.05 * t))))))) + ", " + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + 707.56 * t))))))) + ", " + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - 6838.66 * t))))))) + ")" }, t.interpolateViridis = J_, t.interpolateWarm = G_, t.interpolateYlGn = k_, t.interpolateYlGnBu = S_, t.interpolateYlOrBr = C_, t.interpolateYlOrRd = z_, t.interpolateZoom = Dr, t.interrupt = gi, t.intersection = function (t, ...n) { t = new Set(t), n = n.map(et); t: for (const e of t) for (const r of n) if (!r.has(e)) { t.delete(e); continue t } return t }, t.interval = function (t, n, e) { var r = new ei, i = n; return null == n ? (r.restart(t, n, e), r) : (r._restart = r.restart, r.restart = function (t, n, e) { n = +n, e = null == e ? ti() : +e, r._restart((function o(a) { a += i, r._restart(o, i += n, e), t(a) }), n, e) }, r.restart(t, n, e), r) }, t.isoFormat = Mv, t.isoParse = Av, t.json = function (t, n) { return fetch(t, n).then(Du) }, t.lab = Re, t.lch = function (t, n, e, r) { return 1 === arguments.length ? Ye(t) : new je(e, n, t, null == r ? 1 : r) }, t.least = function (t, e = n) { let r, i = !1; if (1 === e.length) { let o; for (const a of t) { const t = e(a); (i ? n(t, o) < 0 : 0 === n(t, t)) && (r = a, o = t, i = !0) } } else for (const n of t) (i ? e(n, r) < 0 : 0 === e(n, n)) && (r = n, i = !0); return r }, t.leastIndex = K, t.line = Cb, t.lineRadial = Ib, t.linkHorizontal = function () { return jb(Hb) }, t.linkRadial = function () { var t = jb(Gb); return t.angle = t.x, delete t.x, t.radius = t.y, delete t.y, t }, t.linkVertical = function () { return jb(Xb) }, t.local = Rn, t.map = function (t, n) { if ("function" != typeof t[Symbol.iterator]) throw new TypeError("values is not iterable"); if ("function" != typeof n) throw new TypeError("mapper is not a function"); return Array.from(t, ((e, r) => n(e, r, t))) }, t.matcher = Ct, t.max = B, t.maxIndex = G, t.mean = function (t, n) { let e = 0, r = 0; if (void 0 === n) for (let n of t) null != n && (n = +n) >= n && (++e, r += n); else { let i = -1; for (let o of t) null != (o = n(o, ++i, t)) && (o = +o) >= o && (++e, r += o) } if (e) return r / e }, t.median = function (t, n) { return H(t, .5, n) }, t.merge = V, t.min = Y, t.minIndex = $, t.namespace = xt, t.namespaces = mt, t.nice = O, t.now = ti, t.pack = function () { var t = null, n = 1, e = 1, r = hd; function i(i) { return i.x = n / 2, i.y = e / 2, t ? i.eachBefore(gd(t)).eachAfter(yd(r, .5)).eachBefore(vd(1)) : i.eachBefore(gd(pd)).eachAfter(yd(hd, 1)).eachAfter(yd(r, i.r / Math.min(n, e))).eachBefore(vd(Math.min(n, e) / (2 * i.r))), i } return i.radius = function (n) { return arguments.length ? (t = sd(n), i) : t }, i.size = function (t) { return arguments.length ? (n = +t[0], e = +t[1], i) : [n, e] }, i.padding = function (t) { return arguments.length ? (r = "function" == typeof t ? t : dd(+t), i) : r }, i }, t.packEnclose = Kh, t.packSiblings = function (t) { return fd(t), t }, t.pairs = function (t, n = W) { const e = []; let r, i = !1; for (const o of t) i && e.push(n(r, o)), r = o, i = !0; return e }, t.partition = function () { var t = 1, n = 1, e = 0, r = !1; function i(i) { var o = i.height + 1; return i.x0 = i.y0 = e, i.x1 = t, i.y1 = n / o, i.eachBefore(function (t, n) { return function (r) { r.children && bd(r, r.x0, t * (r.depth + 1) / n, r.x1, t * (r.depth + 2) / n); var i = r.x0, o = r.y0, a = r.x1 - e, u = r.y1 - e; a < i && (i = a = (i + a) / 2), u < o && (o = u = (o + u) / 2), r.x0 = i, r.y0 = o, r.x1 = a, r.y1 = u } }(n, o)), r && i.eachBefore(_d), i } return i.round = function (t) { return arguments.length ? (r = !!t, i) : r }, i.size = function (e) { return arguments.length ? (t = +e[0], n = +e[1], i) : [t, n] }, i.padding = function (t) { return arguments.length ? (e = +t, i) : e }, i }, t.path = fa, t.permute = E, t.pie = function () { var t = Db, n = zb, e = null, r = rb(0), i = rb(pb), o = rb(0); function a(a) { var u, c, f, s, l, h = (a = Tb(a)).length, d = 0, p = new Array(h), g = new Array(h), y = +r.apply(this, arguments), v = Math.min(pb, Math.max(-pb, i.apply(this, arguments) - y)), _ = Math.min(Math.abs(v) / h, o.apply(this, arguments)), b = _ * (v < 0 ? -1 : 1); for (u = 0; u < h; ++u)(l = g[p[u] = u] = +t(a[u], u, a)) > 0 && (d += l); for (null != n ? p.sort((function (t, e) { return n(g[t], g[e]) })) : null != e && p.sort((function (t, n) { return e(a[t], a[n]) })), u = 0, f = d ? (v - h * b) / d : 0; u < h; ++u, y = s)c = p[u], s = y + ((l = g[c]) > 0 ? l * f : 0) + b, g[c] = { data: a[c], index: u, value: l, startAngle: y, endAngle: s, padAngle: _ }; return g } return a.value = function (n) { return arguments.length ? (t = "function" == typeof n ? n : rb(+n), a) : t }, a.sortValues = function (t) { return arguments.length ? (n = t, e = null, a) : n }, a.sort = function (t) { return arguments.length ? (e = t, n = null, a) : e }, a.startAngle = function (t) { return arguments.length ? (r = "function" == typeof t ? t : rb(+t), a) : r }, a.endAngle = function (t) { return arguments.length ? (i = "function" == typeof t ? t : rb(+t), a) : i }, a.padAngle = function (t) { return arguments.length ? (o = "function" == typeof t ? t : rb(+t), a) : o }, a }, t.piecewise = jr, t.pointRadial = Bb, t.pointer = In, t.pointers = function (t, n) { return t.target && (t = On(t), void 0 === n && (n = t.currentTarget), t = t.touches || [t]), Array.from(t, (t => In(t, n))) }, t.polygonArea = function (t) { for (var n, e = -1, r = t.length, i = t[r - 1], o = 0; ++e < r;)n = i, i = t[e], o += n[1] * i[0] - n[0] * i[1]; return o / 2 }, t.polygonCentroid = function (t) { for (var n, e, r = -1, i = t.length, o = 0, a = 0, u = t[i - 1], c = 0; ++r < i;)n = u, u = t[r], c += e = n[0] * u[1] - u[0] * n[1], o += (n[0] + u[0]) * e, a += (n[1] + u[1]) * e; return [o / (c *= 3), a / c] }, t.polygonContains = function (t, n) { for (var e, r, i = t.length, o = t[i - 1], a = n[0], u = n[1], c = o[0], f = o[1], s = !1, l = 0; l < i; ++l)e = (o = t[l])[0], (r = o[1]) > u != f > u && a < (c - e) * (u - r) / (f - r) + e && (s = !s), c = e, f = r; return s }, t.polygonHull = function (t) { if ((e = t.length) < 3) return null; var n, e, r = new Array(e), i = new Array(e); for (n = 0; n < e; ++n)r[n] = [+t[n][0], +t[n][1], n]; for (r.sort(Fd), n = 0; n < e; ++n)i[n] = [r[n][0], -r[n][1]]; var o = Od(r), a = Od(i), u = a[0] === o[0], c = a[a.length - 1] === o[o.length - 1], f = []; for (n = o.length - 1; n >= 0; --n)f.push(t[r[o[n]][2]]); for (n = +u; n < a.length - c; ++n)f.push(t[r[a[n]][2]]); return f }, t.polygonLength = function (t) { for (var n, e, r = -1, i = t.length, o = t[i - 1], a = o[0], u = o[1], c = 0; ++r < i;)n = a, e = u, n -= a = (o = t[r])[0], e -= u = o[1], c += Math.hypot(n, e); return c }, t.precisionFixed = yc, t.precisionPrefix = vc, t.precisionRound = _c, t.quadtree = Lu, t.quantile = H, t.quantileSorted = X, t.quantize = function (t, n) { for (var e = new Array(n), r = 0; r < n; ++r)e[r] = t(r / (n - 1)); return e }, t.quickselect = L, t.radialArea = Ub, t.radialLine = Ib, t.randomBates = Hd, t.randomBernoulli = Vd, t.randomBeta = Zd, t.randomBinomial = Kd, t.randomCauchy = Jd, t.randomExponential = Xd, t.randomGamma = Wd, t.randomGeometric = $d, t.randomInt = Bd, t.randomIrwinHall = jd, t.randomLcg = function (t = Math.random()) { let n = 0 | (0 <= t && t < 1 ? t / ep : Math.abs(t)); return () => (n = 1664525 * n + 1013904223 | 0, ep * (n >>> 0)) }, t.randomLogNormal = Ld, t.randomLogistic = tp, t.randomNormal = Yd, t.randomPareto = Gd, t.randomPoisson = np, t.randomUniform = Ud, t.randomWeibull = Qd, t.range = Z, t.reduce = function (t, n, e) { if ("function" != typeof n) throw new TypeError("reducer is not a function"); const r = t[Symbol.iterator](); let i, o, a = -1; if (arguments.length < 3) { if (({ done: i, value: e } = r.next()), i) return; ++a } for (; ({ done: i, value: o } = r.next()), !i;)e = n(e, o, ++a, t); return e }, t.reverse = function (t) { if ("function" != typeof t[Symbol.iterator]) throw new TypeError("values is not iterable"); return Array.from(t).reverse() }, t.rgb = ve, t.ribbon = function () { return ba() }, t.ribbonArrow = function () { return ba(_a) }, t.rollup = A, t.rollups = function (t, n, ...e) { return S(t, Array.from, n, e) }, t.scaleBand = up, t.scaleDiverging = function t() { var n = bp(Pv()(lp)); return n.copy = function () { return Nv(n, t()) }, ip.apply(n, arguments) }, t.scaleDivergingLog = function t() { var n = Ep(Pv()).domain([.1, 1, 10]); return n.copy = function () { return Nv(n, t()).base(n.base()) }, ip.apply(n, arguments) }, t.scaleDivergingPow = zv, t.scaleDivergingSqrt = function () { return zv.apply(null, arguments).exponent(.5) }, t.scaleDivergingSymlog = function t() { var n = Cp(Pv()); return n.copy = function () { return Nv(n, t()).constant(n.constant()) }, ip.apply(n, arguments) }, t.scaleIdentity = function t(n) { var e; function r(t) { return null == t || isNaN(t = +t) ? e : t } return r.invert = r, r.domain = r.range = function (t) { return arguments.length ? (n = Array.from(t, fp), r) : n.slice() }, r.unknown = function (t) { return arguments.length ? (e = t, r) : e }, r.copy = function () { return t(n).unknown(e) }, n = arguments.length ? Array.from(n, fp) : [0, 1], bp(r) }, t.scaleImplicit = op, t.scaleLinear = function t() { var n = vp(); return n.copy = function () { return gp(n, t()) }, rp.apply(n, arguments), bp(n) }, t.scaleLog = function t() { var n = Ep(yp()).domain([1, 10]); return n.copy = function () { return gp(n, t()).base(n.base()) }, rp.apply(n, arguments), n }, t.scaleOrdinal = ap, t.scalePoint = function () { return cp(up.apply(null, arguments).paddingInner(1)) }, t.scalePow = Rp, t.scaleQuantile = function t() { var e, r = [], i = [], a = []; function u() { var t = 0, n = Math.max(1, i.length); for (a = new Array(n - 1); ++t < n;)a[t - 1] = X(r, t / n); return c } function c(t) { return null == t || isNaN(t = +t) ? e : i[o(a, t)] } return c.invertExtent = function (t) { var n = i.indexOf(t); return n < 0 ? [NaN, NaN] : [n > 0 ? a[n - 1] : r[0], n < a.length ? a[n] : r[r.length - 1]] }, c.domain = function (t) { if (!arguments.length) return r.slice(); r = []; for (let n of t) null == n || isNaN(n = +n) || r.push(n); return r.sort(n), u() }, c.range = function (t) { return arguments.length ? (i = Array.from(t), u()) : i.slice() }, c.unknown = function (t) { return arguments.length ? (e = t, c) : e }, c.quantiles = function () { return a.slice() }, c.copy = function () { return t().domain(r).range(i).unknown(e) }, rp.apply(c, arguments) }, t.scaleQuantize = function t() { var n, e = 0, r = 1, i = 1, a = [.5], u = [0, 1]; function c(t) { return null != t && t <= t ? u[o(a, t, 0, i)] : n } function f() { var t = -1; for (a = new Array(i); ++t < i;)a[t] = ((t + 1) * r - (t - i) * e) / (i + 1); return c } return c.domain = function (t) { return arguments.length ? ([e, r] = t, e = +e, r = +r, f()) : [e, r] }, c.range = function (t) { return arguments.length ? (i = (u = Array.from(t)).length - 1, f()) : u.slice() }, c.invertExtent = function (t) { var n = u.indexOf(t); return n < 0 ? [NaN, NaN] : n < 1 ? [e, a[0]] : n >= i ? [a[i - 1], r] : [a[n - 1], a[n]] }, c.unknown = function (t) { return arguments.length ? (n = t, c) : c }, c.thresholds = function () { return a.slice() }, c.copy = function () { return t().domain([e, r]).range(u).unknown(n) }, rp.apply(bp(c), arguments) }, t.scaleRadial = function t() { var n, e = vp(), r = [0, 1], i = !1; function o(t) { var r = Op(e(t)); return isNaN(r) ? n : i ? Math.round(r) : r } return o.invert = function (t) { return e.invert(Fp(t)) }, o.domain = function (t) { return arguments.length ? (e.domain(t), o) : e.domain() }, o.range = function (t) { return arguments.length ? (e.range((r = Array.from(t, fp)).map(Fp)), o) : r.slice() }, o.rangeRound = function (t) { return o.range(t).round(!0) }, o.round = function (t) { return arguments.length ? (i = !!t, o) : i }, o.clamp = function (t) { return arguments.length ? (e.clamp(t), o) : e.clamp() }, o.unknown = function (t) { return arguments.length ? (n = t, o) : n }, o.copy = function () { return t(e.domain(), r).round(i).clamp(e.clamp()).unknown(n) }, rp.apply(o, arguments), bp(o) }, t.scaleSequential = function t() { var n = bp(kv()(lp)); return n.copy = function () { return Nv(n, t()) }, ip.apply(n, arguments) }, t.scaleSequentialLog = function t() { var n = Ep(kv()).domain([1, 10]); return n.copy = function () { return Nv(n, t()).base(n.base()) }, ip.apply(n, arguments) }, t.scaleSequentialPow = Cv, t.scaleSequentialQuantile = function t() { var e = [], r = lp; function i(t) { if (null != t && !isNaN(t = +t)) return r((o(e, t, 1) - 1) / (e.length - 1)) } return i.domain = function (t) { if (!arguments.length) return e.slice(); e = []; for (let n of t) null == n || isNaN(n = +n) || e.push(n); return e.sort(n), i }, i.interpolator = function (t) { return arguments.length ? (r = t, i) : r }, i.range = function () { return e.map(((t, n) => r(n / (e.length - 1)))) }, i.quantiles = function (t) { return Array.from({ length: t + 1 }, ((n, r) => H(e, r / t))) }, i.copy = function () { return t(r).domain(e) }, ip.apply(i, arguments) }, t.scaleSequentialSqrt = function () { return Cv.apply(null, arguments).exponent(.5) }, t.scaleSequentialSymlog = function t() { var n = Cp(kv()); return n.copy = function () { return Nv(n, t()).constant(n.constant()) }, ip.apply(n, arguments) }, t.scaleSqrt = function () { return Rp.apply(null, arguments).exponent(.5) }, t.scaleSymlog = function t() { var n = Cp(yp()); return n.copy = function () { return gp(n, t()).constant(n.constant()) }, rp.apply(n, arguments) }, t.scaleThreshold = function t() { var n, e = [.5], r = [0, 1], i = 1; function a(t) { return null != t && t <= t ? r[o(e, t, 0, i)] : n } return a.domain = function (t) { return arguments.length ? (e = Array.from(t), i = Math.min(e.length, r.length - 1), a) : e.slice() }, a.range = function (t) { return arguments.length ? (r = Array.from(t), i = Math.min(e.length, r.length - 1), a) : r.slice() }, a.invertExtent = function (t) { var n = r.indexOf(t); return [e[n - 1], e[n]] }, a.unknown = function (t) { return arguments.length ? (n = t, a) : n }, a.copy = function () { return t().domain(e).range(r).unknown(n) }, rp.apply(a, arguments) }, t.scaleTime = function () { return rp.apply(Ev(Kg, Qg, xg, bg, og, eg, tg, Qp, Zp, t.timeFormat).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments) }, t.scaleUtc = function () { return rp.apply(Ev(Wg, Zg, Gg, Hg, Cg, Eg, Tg, Mg, Zp, t.utcFormat).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments) }, t.scan = function (t, n) { const e = K(t, n); return e < 0 ? void 0 : e }, t.schemeAccent = Rv, t.schemeBlues = D_, t.schemeBrBG = Xv, t.schemeBuGn = f_, t.schemeBuPu = l_, t.schemeCategory10 = qv, t.schemeDark2 = Fv, t.schemeGnBu = d_, t.schemeGreens = R_, t.schemeGreys = O_, t.schemeOrRd = g_, t.schemeOranges = j_, t.schemePRGn = Vv, t.schemePaired = Ov, t.schemePastel1 = Iv, t.schemePastel2 = Uv, t.schemePiYG = Wv, t.schemePuBu = b_, t.schemePuBuGn = v_, t.schemePuOr = Kv, t.schemePuRd = x_, t.schemePurples = U_, t.schemeRdBu = Jv, t.schemeRdGy = n_, t.schemeRdPu = M_, t.schemeRdYlBu = r_, t.schemeRdYlGn = o_, t.schemeReds = Y_, t.schemeSet1 = Bv, t.schemeSet2 = Yv, t.schemeSet3 = Lv, t.schemeSpectral = u_, t.schemeTableau10 = jv, t.schemeYlGn = E_, t.schemeYlGnBu = T_, t.schemeYlOrBr = N_, t.schemeYlOrRd = P_, t.select = Dn, t.selectAll = function (t) { return "string" == typeof t ? new Pn([document.querySelectorAll(t)], [document.documentElement]) : new Pn([null == t ? [] : Et(t)], Cn) }, t.selection = zn, t.selector = St, t.selectorAll = Nt, t.shuffle = Q, t.shuffler = J, t.some = function (t, n) { if ("function" != typeof n) throw new TypeError("test is not a function"); let e = -1; for (const r of t) if (n(r, ++e, t)) return !0; return !1 }, t.sort = k, t.stack = function () { var t = rb([]), n = Xm, e = Hm, r = Gm; function i(i) { var o, a, u = Array.from(t.apply(this, arguments), Vm), c = u.length, f = -1; for (const t of i) for (o = 0, ++f; o < c; ++o)(u[o][f] = [0, +r(t, u[o].key, f, i)]).data = t; for (o = 0, a = Tb(n(u)); o < c; ++o)u[a[o]].index = o; return e(u, a), u } return i.keys = function (n) { return arguments.length ? (t = "function" == typeof n ? n : rb(Array.from(n)), i) : t }, i.value = function (t) { return arguments.length ? (r = "function" == typeof t ? t : rb(+t), i) : r }, i.order = function (t) { return arguments.length ? (n = null == t ? Xm : "function" == typeof t ? t : rb(Array.from(t)), i) : n }, i.offset = function (t) { return arguments.length ? (e = null == t ? Hm : t, i) : e }, i }, t.stackOffsetDiverging = function (t, n) { if ((u = t.length) > 0) for (var e, r, i, o, a, u, c = 0, f = t[n[0]].length; c < f; ++c)for (o = a = 0, e = 0; e < u; ++e)(i = (r = t[n[e]][c])[1] - r[0]) > 0 ? (r[0] = o, r[1] = o += i) : i < 0 ? (r[1] = a, r[0] = a += i) : (r[0] = 0, r[1] = i) }, t.stackOffsetExpand = function (t, n) { if ((r = t.length) > 0) { for (var e, r, i, o = 0, a = t[0].length; o < a; ++o) { for (i = e = 0; e < r; ++e)i += t[e][o][1] || 0; if (i) for (e = 0; e < r; ++e)t[e][o][1] /= i } Hm(t, n) } }, t.stackOffsetNone = Hm, t.stackOffsetSilhouette = function (t, n) { if ((e = t.length) > 0) { for (var e, r = 0, i = t[n[0]], o = i.length; r < o; ++r) { for (var a = 0, u = 0; a < e; ++a)u += t[a][r][1] || 0; i[r][1] += i[r][0] = -u / 2 } Hm(t, n) } }, t.stackOffsetWiggle = function (t, n) { if ((i = t.length) > 0 && (r = (e = t[n[0]]).length) > 0) { for (var e, r, i, o = 0, a = 1; a < r; ++a) { for (var u = 0, c = 0, f = 0; u < i; ++u) { for (var s = t[n[u]], l = s[a][1] || 0, h = (l - (s[a - 1][1] || 0)) / 2, d = 0; d < u; ++d) { var p = t[n[d]]; h += (p[a][1] || 0) - (p[a - 1][1] || 0) } c += l, f += h * l } e[a - 1][1] += e[a - 1][0] = o, c && (o -= f / c) } e[a - 1][1] += e[a - 1][0] = o, Hm(t, n) } }, t.stackOrderAppearance = $m, t.stackOrderAscending = Zm, t.stackOrderDescending = function (t) { return Zm(t).reverse() }, t.stackOrderInsideOut = function (t) { var n, e, r = t.length, i = t.map(Km), o = $m(t), a = 0, u = 0, c = [], f = []; for (n = 0; n < r; ++n)e = o[n], a < u ? (a += i[e], c.push(e)) : (u += i[e], f.push(e)); return f.reverse().concat(c) }, t.stackOrderNone = Xm, t.stackOrderReverse = function (t) { return Xm(t).reverse() }, t.stratify = function () { var t = wd, n = Md; function e(e) { var r, i, o, a, u, c, f, s = Array.from(e), l = s.length, h = new Map; for (i = 0; i < l; ++i)r = s[i], u = s[i] = new Zh(r), null != (c = t(r, i, e)) && (c += "") && (f = u.id = c, h.set(f, h.has(f) ? xd : u)), null != (c = n(r, i, e)) && (c += "") && (u.parent = c); for (i = 0; i < l; ++i)if (c = (u = s[i]).parent) { if (!(a = h.get(c))) throw new Error("missing: " + c); if (a === xd) throw new Error("ambiguous: " + c); a.children ? a.children.push(u) : a.children = [u], u.parent = a } else { if (o) throw new Error("multiple roots"); o = u } if (!o) throw new Error("no root"); if (o.parent = md, o.eachBefore((function (t) { t.depth = t.parent.depth + 1, --l })).eachBefore(Wh), o.parent = null, l > 0) throw new Error("cycle"); return o } return e.id = function (n) { return arguments.length ? (t = ld(n), e) : t }, e.parentId = function (t) { return arguments.length ? (n = ld(t), e) : n }, e }, t.style = Jt, t.subset = function (t, n) { return rt(n, t) }, t.sum = function (t, n) { let e = 0; if (void 0 === n) for (let n of t) (n = +n) && (e += n); else { let r = -1; for (let i of t) (i = +n(i, ++r, t)) && (e += i) } return e }, t.superset = rt, t.svg = Ou, t.symbol = function (t, n) { var e = null; function r() { var r; if (e || (e = r = fa()), t.apply(this, arguments).draw(e, +n.apply(this, arguments)), r) return e = null, r + "" || null } return t = "function" == typeof t ? t : rb(t || Vb), n = "function" == typeof n ? n : rb(void 0 === n ? 64 : +n), r.type = function (n) { return arguments.length ? (t = "function" == typeof n ? n : rb(n), r) : t }, r.size = function (t) { return arguments.length ? (n = "function" == typeof t ? t : rb(+t), r) : n }, r.context = function (t) { return arguments.length ? (e = null == t ? null : t, r) : e }, r }, t.symbolCircle = Vb, t.symbolCross = $b, t.symbolDiamond = Kb, t.symbolSquare = em, t.symbolStar = nm, t.symbolTriangle = im, t.symbolWye = fm, t.symbols = sm, t.text = Nu, t.thresholdFreedmanDiaconis = function (t, n, e) { return Math.ceil((e - n) / (2 * (H(t, .75) - H(t, .25)) * Math.pow(c(t), -1 / 3))) }, t.thresholdScott = function (t, n, e) { return Math.ceil((e - n) / (3.5 * d(t) * Math.pow(c(t), -1 / 3))) }, t.thresholdSturges = I, t.tickFormat = _p, t.tickIncrement = R, t.tickStep = F, t.ticks = q, t.timeDay = eg, t.timeDays = rg, t.timeFormatDefaultLocale = xv, t.timeFormatLocale = ey, t.timeFriday = sg, t.timeFridays = vg, t.timeHour = tg, t.timeHours = ng, t.timeInterval = Bp, t.timeMillisecond = Yp, t.timeMilliseconds = Lp, t.timeMinute = Qp, t.timeMinutes = Jp, t.timeMonday = ag, t.timeMondays = dg, t.timeMonth = bg, t.timeMonths = mg, t.timeSaturday = lg, t.timeSaturdays = _g, t.timeSecond = Zp, t.timeSeconds = Kp, t.timeSunday = og, t.timeSundays = hg, t.timeThursday = fg, t.timeThursdays = yg, t.timeTickInterval = Qg, t.timeTicks = Kg, t.timeTuesday = ug, t.timeTuesdays = pg, t.timeWednesday = cg, t.timeWednesdays = gg, t.timeWeek = og, t.timeWeeks = hg, t.timeYear = xg, t.timeYears = wg, t.timeout = ci, t.timer = ri, t.timerFlush = ii, t.transition = Hi, t.transpose = tt, t.tree = function () { var t = Ad, n = 1, e = 1, r = null; function i(i) { var c = function (t) { for (var n, e, r, i, o, a = new Nd(t, 0), u = [a]; n = u.pop();)if (r = n._.children) for (n.children = new Array(o = r.length), i = o - 1; i >= 0; --i)u.push(e = n.children[i] = new Nd(r[i], i)), e.parent = n; return (a.parent = new Nd(null, 0)).children = [a], a }(i); if (c.eachAfter(o), c.parent.m = -c.z, c.eachBefore(a), r) i.eachBefore(u); else { var f = i, s = i, l = i; i.eachBefore((function (t) { t.x < f.x && (f = t), t.x > s.x && (s = t), t.depth > l.depth && (l = t) })); var h = f === s ? 1 : t(f, s) / 2, d = h - f.x, p = n / (s.x + h + d), g = e / (l.depth || 1); i.eachBefore((function (t) { t.x = (t.x + d) * p, t.y = t.depth * g })) } return i } function o(n) { var e = n.children, r = n.parent.children, i = n.i ? r[n.i - 1] : null; if (e) { !function (t) { for (var n, e = 0, r = 0, i = t.children, o = i.length; --o >= 0;)(n = i[o]).z += e, n.m += e, e += n.s + (r += n.c) }(n); var o = (e[0].z + e[e.length - 1].z) / 2; i ? (n.z = i.z + t(n._, i._), n.m = n.z - o) : n.z = o } else i && (n.z = i.z + t(n._, i._)); n.parent.A = function (n, e, r) { if (e) { for (var i, o = n, a = n, u = e, c = o.parent.children[0], f = o.m, s = a.m, l = u.m, h = c.m; u = Sd(u), o = Td(o), u && o;)c = Td(c), (a = Sd(a)).a = n, (i = u.z + l - o.z - f + t(u._, o._)) > 0 && (Ed(kd(u, n, r), n, i), f += i, s += i), l += u.m, f += o.m, h += c.m, s += a.m; u && !Sd(a) && (a.t = u, a.m += l - s), o && !Td(c) && (c.t = o, c.m += f - h, r = n) } return r }(n, i, n.parent.A || r[0]) } function a(t) { t._.x = t.z + t.parent.m, t.m += t.parent.m } function u(t) { t.x *= n, t.y = t.depth * e } return i.separation = function (n) { return arguments.length ? (t = n, i) : t }, i.size = function (t) { return arguments.length ? (r = !1, n = +t[0], e = +t[1], i) : r ? null : [n, e] }, i.nodeSize = function (t) { return arguments.length ? (r = !0, n = +t[0], e = +t[1], i) : r ? [n, e] : null }, i }, t.treemap = function () { var t = Dd, n = !1, e = 1, r = 1, i = [0], o = hd, a = hd, u = hd, c = hd, f = hd; function s(t) { return t.x0 = t.y0 = 0, t.x1 = e, t.y1 = r, t.eachBefore(l), i = [0], n && t.eachBefore(_d), t } function l(n) { var e = i[n.depth], r = n.x0 + e, s = n.y0 + e, l = n.x1 - e, h = n.y1 - e; l < r && (r = l = (r + l) / 2), h < s && (s = h = (s + h) / 2), n.x0 = r, n.y0 = s, n.x1 = l, n.y1 = h, n.children && (e = i[n.depth + 1] = o(n) / 2, r += f(n) - e, s += a(n) - e, (l -= u(n) - e) < r && (r = l = (r + l) / 2), (h -= c(n) - e) < s && (s = h = (s + h) / 2), t(n, r, s, l, h)) } return s.round = function (t) { return arguments.length ? (n = !!t, s) : n }, s.size = function (t) { return arguments.length ? (e = +t[0], r = +t[1], s) : [e, r] }, s.tile = function (n) { return arguments.length ? (t = ld(n), s) : t }, s.padding = function (t) { return arguments.length ? s.paddingInner(t).paddingOuter(t) : s.paddingInner() }, s.paddingInner = function (t) { return arguments.length ? (o = "function" == typeof t ? t : dd(+t), s) : o }, s.paddingOuter = function (t) { return arguments.length ? s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t) : s.paddingTop() }, s.paddingTop = function (t) { return arguments.length ? (a = "function" == typeof t ? t : dd(+t), s) : a }, s.paddingRight = function (t) { return arguments.length ? (u = "function" == typeof t ? t : dd(+t), s) : u }, s.paddingBottom = function (t) { return arguments.length ? (c = "function" == typeof t ? t : dd(+t), s) : c }, s.paddingLeft = function (t) { return arguments.length ? (f = "function" == typeof t ? t : dd(+t), s) : f }, s }, t.treemapBinary = function (t, n, e, r, i) { var o, a, u = t.children, c = u.length, f = new Array(c + 1); for (f[0] = a = o = 0; o < c; ++o)f[o + 1] = a += u[o].value; !function t(n, e, r, i, o, a, c) { if (n >= e - 1) { var s = u[n]; return s.x0 = i, s.y0 = o, s.x1 = a, void (s.y1 = c) } var l = f[n], h = r / 2 + l, d = n + 1, p = e - 1; for (; d < p;) { var g = d + p >>> 1; f[g] < h ? d = g + 1 : p = g } h - f[d - 1] < f[d] - h && n + 1 < d && --d; var y = f[d] - l, v = r - y; if (a - i > c - o) { var _ = r ? (i * v + a * y) / r : a; t(n, d, y, i, o, _, c), t(d, e, v, _, o, a, c) } else { var b = r ? (o * v + c * y) / r : c; t(n, d, y, i, o, a, b), t(d, e, v, i, b, a, c) } }(0, c, t.value, n, e, r, i) }, t.treemapDice = bd, t.treemapResquarify = qd, t.treemapSlice = Cd, t.treemapSliceDice = function (t, n, e, r, i) { (1 & t.depth ? Cd : bd)(t, n, e, r, i) }, t.treemapSquarify = Dd, t.tsv = zu, t.tsvFormat = mu, t.tsvFormatBody = xu, t.tsvFormatRow = Mu, t.tsvFormatRows = wu, t.tsvFormatValue = Au, t.tsvParse = _u, t.tsvParseRows = bu, t.union = function (...t) { const n = new Set; for (const e of t) for (const t of e) n.add(t); return n }, t.utcDay = Eg, t.utcDays = kg, t.utcFriday = Rg, t.utcFridays = Lg, t.utcHour = Tg, t.utcHours = Sg, t.utcMillisecond = Yp, t.utcMilliseconds = Lp, t.utcMinute = Mg, t.utcMinutes = Ag, t.utcMonday = Pg, t.utcMondays = Ig, t.utcMonth = Hg, t.utcMonths = Xg, t.utcSaturday = Fg, t.utcSaturdays = jg, t.utcSecond = Zp, t.utcSeconds = Kp, t.utcSunday = Cg, t.utcSundays = Og, t.utcThursday = qg, t.utcThursdays = Yg, t.utcTickInterval = Zg, t.utcTicks = Wg, t.utcTuesday = zg, t.utcTuesdays = Ug, t.utcWednesday = Dg, t.utcWednesdays = Bg, t.utcWeek = Cg, t.utcWeeks = Og, t.utcYear = Gg, t.utcYears = Vg, t.variance = h, t.version = "6.7.0", t.window = Wt, t.xml = Ru, t.zip = function () { return tt(arguments) }, t.zoom = function () { var t, n, e, r = ox, i = ax, o = sx, a = cx, u = fx, c = [0, 1 / 0], f = [[-1 / 0, -1 / 0], [1 / 0, 1 / 0]], s = 250, l = Dr, h = pt("start", "zoom", "end"), d = 500, p = 0, g = 10; function y(t) { t.property("__zoom", ux).on("wheel.zoom", M).on("mousedown.zoom", A).on("dblclick.zoom", T).filter(u).on("touchstart.zoom", S).on("touchmove.zoom", E).on("touchend.zoom touchcancel.zoom", k).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)") } function v(t, n) { return (n = Math.max(c[0], Math.min(c[1], n))) === t.k ? t : new tx(n, t.x, t.y) } function _(t, n, e) { var r = n[0] - e[0] * t.k, i = n[1] - e[1] * t.k; return r === t.x && i === t.y ? t : new tx(t.k, r, i) } function b(t) { return [(+t[0][0] + +t[1][0]) / 2, (+t[0][1] + +t[1][1]) / 2] } function m(t, n, e, r) { t.on("start.zoom", (function () { x(this, arguments).event(r).start() })).on("interrupt.zoom end.zoom", (function () { x(this, arguments).event(r).end() })).tween("zoom", (function () { var t = this, o = arguments, a = x(t, o).event(r), u = i.apply(t, o), c = null == e ? b(u) : "function" == typeof e ? e.apply(t, o) : e, f = Math.max(u[1][0] - u[0][0], u[1][1] - u[0][1]), s = t.__zoom, h = "function" == typeof n ? n.apply(t, o) : n, d = l(s.invert(c).concat(f / s.k), h.invert(c).concat(f / h.k)); return function (t) { if (1 === t) t = h; else { var n = d(t), e = f / n[2]; t = new tx(e, c[0] - n[0] * e, c[1] - n[1] * e) } a.zoom(null, t) } })) } function x(t, n, e) { return !e && t.__zooming || new w(t, n) } function w(t, n) { this.that = t, this.args = n, this.active = 0, this.sourceEvent = null, this.extent = i.apply(t, n), this.taps = 0 } function M(t, ...n) { if (r.apply(this, arguments)) { var e = x(this, n).event(t), i = this.__zoom, u = Math.max(c[0], Math.min(c[1], i.k * Math.pow(2, a.apply(this, arguments)))), s = In(t); if (e.wheel) e.mouse[0][0] === s[0] && e.mouse[0][1] === s[1] || (e.mouse[1] = i.invert(e.mouse[0] = s)), clearTimeout(e.wheel); else { if (i.k === u) return; e.mouse = [s, i.invert(s)], gi(this), e.start() } ix(t), e.wheel = setTimeout(l, 150), e.zoom("mouse", o(_(v(i, u), e.mouse[0], e.mouse[1]), e.extent, f)) } function l() { e.wheel = null, e.end() } } function A(t, ...n) { if (!e && r.apply(this, arguments)) { var i = x(this, n, !0).event(t), a = Dn(t.view).on("mousemove.zoom", h, !0).on("mouseup.zoom", d, !0), u = In(t, c), c = t.currentTarget, s = t.clientX, l = t.clientY; Yn(t.view), rx(t), i.mouse = [u, this.__zoom.invert(u)], gi(this), i.start() } function h(t) { if (ix(t), !i.moved) { var n = t.clientX - s, e = t.clientY - l; i.moved = n * n + e * e > p } i.event(t).zoom("mouse", o(_(i.that.__zoom, i.mouse[0] = In(t, c), i.mouse[1]), i.extent, f)) } function d(t) { a.on("mousemove.zoom mouseup.zoom", null), Ln(t.view, i.moved), ix(t), i.event(t).end() } } function T(t, ...n) { if (r.apply(this, arguments)) { var e = this.__zoom, a = In(t.changedTouches ? t.changedTouches[0] : t, this), u = e.invert(a), c = e.k * (t.shiftKey ? .5 : 2), l = o(_(v(e, c), a, u), i.apply(this, n), f); ix(t), s > 0 ? Dn(this).transition().duration(s).call(m, l, a, t) : Dn(this).call(y.transform, l, a, t) } } function S(e, ...i) { if (r.apply(this, arguments)) { var o, a, u, c, f = e.touches, s = f.length, l = x(this, i, e.changedTouches.length === s).event(e); for (rx(e), a = 0; a < s; ++a)c = [c = In(u = f[a], this), this.__zoom.invert(c), u.identifier], l.touch0 ? l.touch1 || l.touch0[2] === c[2] || (l.touch1 = c, l.taps = 0) : (l.touch0 = c, o = !0, l.taps = 1 + !!t); t && (t = clearTimeout(t)), o && (l.taps < 2 && (n = c[0], t = setTimeout((function () { t = null }), d)), gi(this), l.start()) } } function E(t, ...n) { if (this.__zooming) { var e, r, i, a, u = x(this, n).event(t), c = t.changedTouches, s = c.length; for (ix(t), e = 0; e < s; ++e)i = In(r = c[e], this), u.touch0 && u.touch0[2] === r.identifier ? u.touch0[0] = i : u.touch1 && u.touch1[2] === r.identifier && (u.touch1[0] = i); if (r = u.that.__zoom, u.touch1) { var l = u.touch0[0], h = u.touch0[1], d = u.touch1[0], p = u.touch1[1], g = (g = d[0] - l[0]) * g + (g = d[1] - l[1]) * g, y = (y = p[0] - h[0]) * y + (y = p[1] - h[1]) * y; r = v(r, Math.sqrt(g / y)), i = [(l[0] + d[0]) / 2, (l[1] + d[1]) / 2], a = [(h[0] + p[0]) / 2, (h[1] + p[1]) / 2] } else { if (!u.touch0) return; i = u.touch0[0], a = u.touch0[1] } u.zoom("touch", o(_(r, i, a), u.extent, f)) } } function k(t, ...r) { if (this.__zooming) { var i, o, a = x(this, r).event(t), u = t.changedTouches, c = u.length; for (rx(t), e && clearTimeout(e), e = setTimeout((function () { e = null }), d), i = 0; i < c; ++i)o = u[i], a.touch0 && a.touch0[2] === o.identifier ? delete a.touch0 : a.touch1 && a.touch1[2] === o.identifier && delete a.touch1; if (a.touch1 && !a.touch0 && (a.touch0 = a.touch1, delete a.touch1), a.touch0) a.touch0[1] = this.__zoom.invert(a.touch0[0]); else if (a.end(), 2 === a.taps && (o = In(o, this), Math.hypot(n[0] - o[0], n[1] - o[1]) < g)) { var f = Dn(this).on("dblclick.zoom"); f && f.apply(this, arguments) } } } return y.transform = function (t, n, e, r) { var i = t.selection ? t.selection() : t; i.property("__zoom", ux), t !== i ? m(t, n, e, r) : i.interrupt().each((function () { x(this, arguments).event(r).start().zoom(null, "function" == typeof n ? n.apply(this, arguments) : n).end() })) }, y.scaleBy = function (t, n, e, r) { y.scaleTo(t, (function () { var t = this.__zoom.k, e = "function" == typeof n ? n.apply(this, arguments) : n; return t * e }), e, r) }, y.scaleTo = function (t, n, e, r) { y.transform(t, (function () { var t = i.apply(this, arguments), r = this.__zoom, a = null == e ? b(t) : "function" == typeof e ? e.apply(this, arguments) : e, u = r.invert(a), c = "function" == typeof n ? n.apply(this, arguments) : n; return o(_(v(r, c), a, u), t, f) }), e, r) }, y.translateBy = function (t, n, e, r) { y.transform(t, (function () { return o(this.__zoom.translate("function" == typeof n ? n.apply(this, arguments) : n, "function" == typeof e ? e.apply(this, arguments) : e), i.apply(this, arguments), f) }), null, r) }, y.translateTo = function (t, n, e, r, a) { y.transform(t, (function () { var t = i.apply(this, arguments), a = this.__zoom, u = null == r ? b(t) : "function" == typeof r ? r.apply(this, arguments) : r; return o(nx.translate(u[0], u[1]).scale(a.k).translate("function" == typeof n ? -n.apply(this, arguments) : -n, "function" == typeof e ? -e.apply(this, arguments) : -e), t, f) }), r, a) }, w.prototype = { event: function (t) { return t && (this.sourceEvent = t), this }, start: function () { return 1 == ++this.active && (this.that.__zooming = this, this.emit("start")), this }, zoom: function (t, n) { return this.mouse && "mouse" !== t && (this.mouse[1] = n.invert(this.mouse[0])), this.touch0 && "touch" !== t && (this.touch0[1] = n.invert(this.touch0[0])), this.touch1 && "touch" !== t && (this.touch1[1] = n.invert(this.touch1[0])), this.that.__zoom = n, this.emit("zoom"), this }, end: function () { return 0 == --this.active && (delete this.that.__zooming, this.emit("end")), this }, emit: function (t) { var n = Dn(this.that).datum(); h.call(t, this.that, new Jm(t, { sourceEvent: this.sourceEvent, target: y, type: t, transform: this.that.__zoom, dispatch: h }), n) } }, y.wheelDelta = function (t) { return arguments.length ? (a = "function" == typeof t ? t : Qm(+t), y) : a }, y.filter = function (t) { return arguments.length ? (r = "function" == typeof t ? t : Qm(!!t), y) : r }, y.touchable = function (t) { return arguments.length ? (u = "function" == typeof t ? t : Qm(!!t), y) : u }, y.extent = function (t) { return arguments.length ? (i = "function" == typeof t ? t : Qm([[+t[0][0], +t[0][1]], [+t[1][0], +t[1][1]]]), y) : i }, y.scaleExtent = function (t) { return arguments.length ? (c[0] = +t[0], c[1] = +t[1], y) : [c[0], c[1]] }, y.translateExtent = function (t) { return arguments.length ? (f[0][0] = +t[0][0], f[1][0] = +t[1][0], f[0][1] = +t[0][1], f[1][1] = +t[1][1], y) : [[f[0][0], f[0][1]], [f[1][0], f[1][1]]] }, y.constrain = function (t) { return arguments.length ? (o = t, y) : o }, y.duration = function (t) { return arguments.length ? (s = +t, y) : s }, y.interpolate = function (t) { return arguments.length ? (l = t, y) : l }, y.on = function () { var t = h.on.apply(h, arguments); return t === h ? y : t }, y.clickDistance = function (t) { return arguments.length ? (p = (t = +t) * t, y) : Math.sqrt(p) }, y.tapDistance = function (t) { return arguments.length ? (g = +t, y) : g }, y }, t.zoomIdentity = nx, t.zoomTransform = ex, Object.defineProperty(t, "__esModule", { value: !0 })}));
/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.789Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */

!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e((t = t || self).jspdf = {}) }(this, (function (t) {
    "use strict"; function e(t) { return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } var r = function () { return "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this }(); function n() { r.console && "function" == typeof r.console.log && r.console.log.apply(r.console, arguments) } var i = { log: n, warn: function (t) { r.console && ("function" == typeof r.console.warn ? r.console.warn.apply(r.console, arguments) : n.call(null, arguments)) }, error: function (t) { r.console && ("function" == typeof r.console.error ? r.console.error.apply(r.console, arguments) : n(t)) } }; function a(t, e, r) { var n = new XMLHttpRequest; n.open("GET", t), n.responseType = "blob", n.onload = function () { l(n.response, e, r) }, n.onerror = function () { i.error("could not download file") }, n.send() } function o(t) { var e = new XMLHttpRequest; e.open("HEAD", t, !1); try { e.send() } catch (t) { } return e.status >= 200 && e.status <= 299 } function s(t) { try { t.dispatchEvent(new MouseEvent("click")) } catch (r) { var e = document.createEvent("MouseEvents"); e.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), t.dispatchEvent(e) } } var c, u, l = r.saveAs || ("object" !== ("undefined" == typeof window ? "undefined" : e(window)) || window !== r ? function () { } : "undefined" != typeof HTMLAnchorElement && "download" in HTMLAnchorElement.prototype ? function (t, e, n) { var i = r.URL || r.webkitURL, c = document.createElement("a"); e = e || t.name || "download", c.download = e, c.rel = "noopener", "string" == typeof t ? (c.href = t, c.origin !== location.origin ? o(c.href) ? a(t, e, n) : s(c, c.target = "_blank") : s(c)) : (c.href = i.createObjectURL(t), setTimeout((function () { i.revokeObjectURL(c.href) }), 4e4), setTimeout((function () { s(c) }), 0)) } : "msSaveOrOpenBlob" in navigator ? function (t, r, n) { if (r = r || t.name || "download", "string" == typeof t) if (o(t)) a(t, r, n); else { var c = document.createElement("a"); c.href = t, c.target = "_blank", setTimeout((function () { s(c) })) } else navigator.msSaveOrOpenBlob(function (t, r) { return void 0 === r ? r = { autoBom: !1 } : "object" !== e(r) && (i.warn("Deprecated: Expected third argument to be a object"), r = { autoBom: !r }), r.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type) ? new Blob([String.fromCharCode(65279), t], { type: t.type }) : t }(t, n), r) } : function (t, n, i, o) { if ((o = o || open("", "_blank")) && (o.document.title = o.document.body.innerText = "downloading..."), "string" == typeof t) return a(t, n, i); var s = "application/octet-stream" === t.type, c = /constructor/i.test(r.HTMLElement) || r.safari, u = /CriOS\/[\d]+/.test(navigator.userAgent); if ((u || s && c) && "object" === ("undefined" == typeof FileReader ? "undefined" : e(FileReader))) { var l = new FileReader; l.onloadend = function () { var t = l.result; t = u ? t : t.replace(/^data:[^;]*;/, "data:attachment/file;"), o ? o.location.href = t : location = t, o = null }, l.readAsDataURL(t) } else { var h = r.URL || r.webkitURL, f = h.createObjectURL(t); o ? o.location = f : location.href = f, o = null, setTimeout((function () { h.revokeObjectURL(f) }), 4e4) } });
/**
   * A class to parse color values
   * @author Stoyan Stefanov <sstoo@gmail.com>
   * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
   * @license Use it if you like it
   */function h(t) { var e; t = t || "", this.ok = !1, "#" == t.charAt(0) && (t = t.substr(1, 6)); t = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "00ffff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000000", blanchedalmond: "ffebcd", blue: "0000ff", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "00ffff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dodgerblue: "1e90ff", feldspar: "d19275", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "ff00ff", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgrey: "d3d3d3", lightgreen: "90ee90", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslateblue: "8470ff", lightslategray: "778899", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "00ff00", limegreen: "32cd32", linen: "faf0e6", magenta: "ff00ff", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370d8", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "d87093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", red: "ff0000", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", violetred: "d02090", wheat: "f5deb3", white: "ffffff", whitesmoke: "f5f5f5", yellow: "ffff00", yellowgreen: "9acd32" }[t = (t = t.replace(/ /g, "")).toLowerCase()] || t; for (var r = [{ re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/, example: ["rgb(123, 234, 45)", "rgb(255,234,245)"], process: function (t) { return [parseInt(t[1]), parseInt(t[2]), parseInt(t[3])] } }, { re: /^(\w{2})(\w{2})(\w{2})$/, example: ["#00ff00", "336699"], process: function (t) { return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)] } }, { re: /^(\w{1})(\w{1})(\w{1})$/, example: ["#fb0", "f0f"], process: function (t) { return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)] } }], n = 0; n < r.length; n++) { var i = r[n].re, a = r[n].process, o = i.exec(t); o && (e = a(o), this.r = e[0], this.g = e[1], this.b = e[2], this.ok = !0) } this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function () { return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")" }, this.toHex = function () { var t = this.r.toString(16), e = this.g.toString(16), r = this.b.toString(16); return 1 == t.length && (t = "0" + t), 1 == e.length && (e = "0" + e), 1 == r.length && (r = "0" + r), "#" + t + e + r } }
    /**
       * @license
       * Joseph Myers does not specify a particular license for his work.
       *
       * Author: Joseph Myers
       * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
       *
       * Modified by: Owen Leong
       */
    function f(t, e) { var r = t[0], n = t[1], i = t[2], a = t[3]; r = p(r, n, i, a, e[0], 7, -680876936), a = p(a, r, n, i, e[1], 12, -389564586), i = p(i, a, r, n, e[2], 17, 606105819), n = p(n, i, a, r, e[3], 22, -1044525330), r = p(r, n, i, a, e[4], 7, -176418897), a = p(a, r, n, i, e[5], 12, 1200080426), i = p(i, a, r, n, e[6], 17, -1473231341), n = p(n, i, a, r, e[7], 22, -45705983), r = p(r, n, i, a, e[8], 7, 1770035416), a = p(a, r, n, i, e[9], 12, -1958414417), i = p(i, a, r, n, e[10], 17, -42063), n = p(n, i, a, r, e[11], 22, -1990404162), r = p(r, n, i, a, e[12], 7, 1804603682), a = p(a, r, n, i, e[13], 12, -40341101), i = p(i, a, r, n, e[14], 17, -1502002290), r = g(r, n = p(n, i, a, r, e[15], 22, 1236535329), i, a, e[1], 5, -165796510), a = g(a, r, n, i, e[6], 9, -1069501632), i = g(i, a, r, n, e[11], 14, 643717713), n = g(n, i, a, r, e[0], 20, -373897302), r = g(r, n, i, a, e[5], 5, -701558691), a = g(a, r, n, i, e[10], 9, 38016083), i = g(i, a, r, n, e[15], 14, -660478335), n = g(n, i, a, r, e[4], 20, -405537848), r = g(r, n, i, a, e[9], 5, 568446438), a = g(a, r, n, i, e[14], 9, -1019803690), i = g(i, a, r, n, e[3], 14, -187363961), n = g(n, i, a, r, e[8], 20, 1163531501), r = g(r, n, i, a, e[13], 5, -1444681467), a = g(a, r, n, i, e[2], 9, -51403784), i = g(i, a, r, n, e[7], 14, 1735328473), r = m(r, n = g(n, i, a, r, e[12], 20, -1926607734), i, a, e[5], 4, -378558), a = m(a, r, n, i, e[8], 11, -2022574463), i = m(i, a, r, n, e[11], 16, 1839030562), n = m(n, i, a, r, e[14], 23, -35309556), r = m(r, n, i, a, e[1], 4, -1530992060), a = m(a, r, n, i, e[4], 11, 1272893353), i = m(i, a, r, n, e[7], 16, -155497632), n = m(n, i, a, r, e[10], 23, -1094730640), r = m(r, n, i, a, e[13], 4, 681279174), a = m(a, r, n, i, e[0], 11, -358537222), i = m(i, a, r, n, e[3], 16, -722521979), n = m(n, i, a, r, e[6], 23, 76029189), r = m(r, n, i, a, e[9], 4, -640364487), a = m(a, r, n, i, e[12], 11, -421815835), i = m(i, a, r, n, e[15], 16, 530742520), r = v(r, n = m(n, i, a, r, e[2], 23, -995338651), i, a, e[0], 6, -198630844), a = v(a, r, n, i, e[7], 10, 1126891415), i = v(i, a, r, n, e[14], 15, -1416354905), n = v(n, i, a, r, e[5], 21, -57434055), r = v(r, n, i, a, e[12], 6, 1700485571), a = v(a, r, n, i, e[3], 10, -1894986606), i = v(i, a, r, n, e[10], 15, -1051523), n = v(n, i, a, r, e[1], 21, -2054922799), r = v(r, n, i, a, e[8], 6, 1873313359), a = v(a, r, n, i, e[15], 10, -30611744), i = v(i, a, r, n, e[6], 15, -1560198380), n = v(n, i, a, r, e[13], 21, 1309151649), r = v(r, n, i, a, e[4], 6, -145523070), a = v(a, r, n, i, e[11], 10, -1120210379), i = v(i, a, r, n, e[2], 15, 718787259), n = v(n, i, a, r, e[9], 21, -343485551), t[0] = S(r, t[0]), t[1] = S(n, t[1]), t[2] = S(i, t[2]), t[3] = S(a, t[3]) } function d(t, e, r, n, i, a) { return e = S(S(e, t), S(n, a)), S(e << i | e >>> 32 - i, r) } function p(t, e, r, n, i, a, o) { return d(e & r | ~e & n, t, e, i, a, o) } function g(t, e, r, n, i, a, o) { return d(e & n | r & ~n, t, e, i, a, o) } function m(t, e, r, n, i, a, o) { return d(e ^ r ^ n, t, e, i, a, o) } function v(t, e, r, n, i, a, o) { return d(r ^ (e | ~n), t, e, i, a, o) } function b(t) { var e, r = t.length, n = [1732584193, -271733879, -1732584194, 271733878]; for (e = 64; e <= t.length; e += 64)f(n, y(t.substring(e - 64, e))); t = t.substring(e - 64); var i = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; for (e = 0; e < t.length; e++)i[e >> 2] |= t.charCodeAt(e) << (e % 4 << 3); if (i[e >> 2] |= 128 << (e % 4 << 3), e > 55) for (f(n, i), e = 0; e < 16; e++)i[e] = 0; return i[14] = 8 * r, f(n, i), n } function y(t) { var e, r = []; for (e = 0; e < 64; e += 4)r[e >> 2] = t.charCodeAt(e) + (t.charCodeAt(e + 1) << 8) + (t.charCodeAt(e + 2) << 16) + (t.charCodeAt(e + 3) << 24); return r } c = r.atob.bind(r), u = r.btoa.bind(r); var w = "0123456789abcdef".split(""); function N(t) { for (var e = "", r = 0; r < 4; r++)e += w[t >> 8 * r + 4 & 15] + w[t >> 8 * r & 15]; return e } function L(t) { return String.fromCharCode((255 & t) >> 0, (65280 & t) >> 8, (16711680 & t) >> 16, (4278190080 & t) >> 24) } function A(t) { return function (t) { return t.map(L).join("") }(b(t)) } var x = "5d41402abc4b2a76b9719d911017c592" != function (t) { for (var e = 0; e < t.length; e++)t[e] = N(t[e]); return t.join("") }(b("hello")); function S(t, e) { if (x) { var r = (65535 & t) + (65535 & e); return (t >> 16) + (e >> 16) + (r >> 16) << 16 | 65535 & r } return t + e & 4294967295 }
/**
   * @license
   * FPDF is released under a permissive license: there is no usage restriction.
   * You may embed it freely in your application (commercial or not), with or
   * without modifications.
   *
   * Reference: http://www.fpdf.org/en/script/script37.php
   */function _(t, e) { var r, n, i, a; if (t !== r) { for (var o = (i = t, a = 1 + (256 / t.length >> 0), new Array(a + 1).join(i)), s = [], c = 0; c < 256; c++)s[c] = c; var u = 0; for (c = 0; c < 256; c++) { var l = s[c]; u = (u + l + o.charCodeAt(c)) % 256, s[c] = s[u], s[u] = l } r = t, n = s } else s = n; var h = e.length, f = 0, d = 0, p = ""; for (c = 0; c < h; c++)d = (d + (l = s[f = (f + 1) % 256])) % 256, s[f] = s[d], s[d] = l, o = s[(s[f] + s[d]) % 256], p += String.fromCharCode(e.charCodeAt(c) ^ o); return p }
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   * Author: Owen Leong (@owenl131)
   * Date: 15 Oct 2020
   * References:
   * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
   * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
   * http://www.fpdf.org/en/script/script37.php
   */var P = { print: 4, modify: 8, copy: 16, "annot-forms": 32 }; function k(t, e, r, n) { this.v = 1, this.r = 2; var i = 192; t.forEach((function (t) { if (void 0 !== P.perm) throw new Error("Invalid permission: " + t); i += P[t] })), this.padding = "(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz"; var a = (e + this.padding).substr(0, 32), o = (r + this.padding).substr(0, 32); this.O = this.processOwnerPassword(a, o), this.P = -(1 + (255 ^ i)), this.encryptionKey = A(a + this.O + this.lsbFirstWord(this.P) + this.hexToBytes(n)).substr(0, 5), this.U = _(this.encryptionKey, this.padding) } function F(t) { if (/[^\u0000-\u00ff]/.test(t)) throw new Error("Invalid PDF Name Object: " + t + ", Only accept ASCII characters."); for (var e = "", r = t.length, n = 0; n < r; n++) { var i = t.charCodeAt(n); if (i < 33 || 35 === i || 37 === i || 40 === i || 41 === i || 47 === i || 60 === i || 62 === i || 91 === i || 93 === i || 123 === i || 125 === i || i > 126) e += "#" + ("0" + i.toString(16)).slice(-2); else e += t[n] } return e } function I(t) { if ("object" !== e(t)) throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)"); var n = {}; this.subscribe = function (t, e, r) { if (r = r || !1, "string" != typeof t || "function" != typeof e || "boolean" != typeof r) throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)"); n.hasOwnProperty(t) || (n[t] = {}); var i = Math.random().toString(35); return n[t][i] = [e, !!r], i }, this.unsubscribe = function (t) { for (var e in n) if (n[e][t]) return delete n[e][t], 0 === Object.keys(n[e]).length && delete n[e], !0; return !1 }, this.publish = function (e) { if (n.hasOwnProperty(e)) { var a = Array.prototype.slice.call(arguments, 1), o = []; for (var s in n[e]) { var c = n[e][s]; try { c[0].apply(t, a) } catch (t) { r.console && i.error("jsPDF PubSub Error", t.message, t) } c[1] && o.push(s) } o.length && o.forEach(this.unsubscribe) } }, this.getTopics = function () { return n } } function C(t) { if (!(this instanceof C)) return new C(t); var e = "opacity,stroke-opacity".split(","); for (var r in t) t.hasOwnProperty(r) && e.indexOf(r) >= 0 && (this[r] = t[r]); this.id = "", this.objectNumber = -1 } function j(t, e) { this.gState = t, this.matrix = e, this.id = "", this.objectNumber = -1 } function O(t, e, r, n, i) { if (!(this instanceof O)) return new O(t, e, r, n, i); this.type = "axial" === t ? 2 : 3, this.coords = e, this.colors = r, j.call(this, n, i) } function B(t, e, r, n, i) { if (!(this instanceof B)) return new B(t, e, r, n, i); this.boundingBox = t, this.xStep = e, this.yStep = r, this.stream = "", this.cloneIndex = 0, j.call(this, n, i) } function M(t) { var n, a = "string" == typeof arguments[0] ? arguments[0] : "p", o = arguments[1], s = arguments[2], c = arguments[3], f = [], d = 1, p = 16, g = "S", m = null; "object" === e(t = t || {}) && (a = t.orientation, o = t.unit || o, s = t.format || s, c = t.compress || t.compressPdf || c, null !== (m = t.encryption || null) && (m.userPassword = m.userPassword || "", m.ownerPassword = m.ownerPassword || "", m.userPermissions = m.userPermissions || []), d = "number" == typeof t.userUnit ? Math.abs(t.userUnit) : 1, void 0 !== t.precision && (n = t.precision), void 0 !== t.floatPrecision && (p = t.floatPrecision), g = t.defaultPathOperation || "S"), f = t.filters || (!0 === c ? ["FlateEncode"] : f), o = o || "mm", a = ("" + (a || "P")).toLowerCase(); var v = t.putOnlyUsedFonts || !1, b = {}, y = { internal: {}, __private__: {} }; y.__private__.PubSub = I; var w = "1.3", N = y.__private__.getPdfVersion = function () { return w }; y.__private__.setPdfVersion = function (t) { w = t }; var L = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; y.__private__.getPageFormats = function () { return L }; var A = y.__private__.getPageFormat = function (t) { return L[t] }; s = s || "a4"; var x = { COMPAT: "compat", ADVANCED: "advanced" }, S = x.COMPAT; function _() { this.saveGraphicsState(), ht(new Vt(_t, 0, 0, -_t, 0, Rr() * _t).toString() + " cm"), this.setFontSize(this.getFontSize() / _t), g = "n", S = x.ADVANCED } function P() { this.restoreGraphicsState(), g = "S", S = x.COMPAT } var j = y.__private__.combineFontStyleAndFontWeight = function (t, e) { if ("bold" == t && "normal" == e || "bold" == t && 400 == e || "normal" == t && "italic" == e || "bold" == t && "italic" == e) throw new Error("Invalid Combination of fontweight and fontstyle"); return e && (t = 400 == e || "normal" === e ? "italic" === t ? "italic" : "normal" : 700 != e && "bold" !== e || "normal" !== t ? (700 == e ? "bold" : e) + "" + t : "bold"), t }; y.advancedAPI = function (t) { var e = S === x.COMPAT; return e && _.call(this), "function" != typeof t || (t(this), e && P.call(this)), this }, y.compatAPI = function (t) { var e = S === x.ADVANCED; return e && P.call(this), "function" != typeof t || (t(this), e && _.call(this)), this }, y.isAdvancedAPI = function () { return S === x.ADVANCED }; var E, q = function (t) { if (S !== x.ADVANCED) throw new Error(t + " is only available in 'advanced' API mode. You need to call advancedAPI() first.") }, D = y.roundToPrecision = y.__private__.roundToPrecision = function (t, e) { var r = n || e; if (isNaN(t) || isNaN(r)) throw new Error("Invalid argument passed to jsPDF.roundToPrecision"); return t.toFixed(r).replace(/0+$/, "") }; E = y.hpf = y.__private__.hpf = "number" == typeof p ? function (t) { if (isNaN(t)) throw new Error("Invalid argument passed to jsPDF.hpf"); return D(t, p) } : "smart" === p ? function (t) { if (isNaN(t)) throw new Error("Invalid argument passed to jsPDF.hpf"); return D(t, t > -1 && t < 1 ? 16 : 5) } : function (t) { if (isNaN(t)) throw new Error("Invalid argument passed to jsPDF.hpf"); return D(t, 16) }; var R = y.f2 = y.__private__.f2 = function (t) { if (isNaN(t)) throw new Error("Invalid argument passed to jsPDF.f2"); return D(t, 2) }, T = y.__private__.f3 = function (t) { if (isNaN(t)) throw new Error("Invalid argument passed to jsPDF.f3"); return D(t, 3) }, U = y.scale = y.__private__.scale = function (t) { if (isNaN(t)) throw new Error("Invalid argument passed to jsPDF.scale"); return S === x.COMPAT ? t * _t : S === x.ADVANCED ? t : void 0 }, z = function (t) { return S === x.COMPAT ? Rr() - t : S === x.ADVANCED ? t : void 0 }, H = function (t) { return U(z(t)) }; y.__private__.setPrecision = y.setPrecision = function (t) { "number" == typeof parseInt(t, 10) && (n = parseInt(t, 10)) }; var W, V = "00000000000000000000000000000000", G = y.__private__.getFileId = function () { return V }, Y = y.__private__.setFileId = function (t) { return V = void 0 !== t && /^[a-fA-F0-9]{32}$/.test(t) ? t.toUpperCase() : V.split("").map((function () { return "ABCDEF0123456789".charAt(Math.floor(16 * Math.random())) })).join(""), null !== m && (Ye = new k(m.userPermissions, m.userPassword, m.ownerPassword, V)), V }; y.setFileId = function (t) { return Y(t), this }, y.getFileId = function () { return G() }; var J = y.__private__.convertDateToPDFDate = function (t) { var e = t.getTimezoneOffset(), r = e < 0 ? "+" : "-", n = Math.floor(Math.abs(e / 60)), i = Math.abs(e % 60), a = [r, Q(n), "'", Q(i), "'"].join(""); return ["D:", t.getFullYear(), Q(t.getMonth() + 1), Q(t.getDate()), Q(t.getHours()), Q(t.getMinutes()), Q(t.getSeconds()), a].join("") }, X = y.__private__.convertPDFDateToDate = function (t) { var e = parseInt(t.substr(2, 4), 10), r = parseInt(t.substr(6, 2), 10) - 1, n = parseInt(t.substr(8, 2), 10), i = parseInt(t.substr(10, 2), 10), a = parseInt(t.substr(12, 2), 10), o = parseInt(t.substr(14, 2), 10); return new Date(e, r, n, i, a, o, 0) }, K = y.__private__.setCreationDate = function (t) { var e; if (void 0 === t && (t = new Date), t instanceof Date) e = J(t); else { if (!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t)) throw new Error("Invalid argument passed to jsPDF.setCreationDate"); e = t } return W = e }, Z = y.__private__.getCreationDate = function (t) { var e = W; return "jsDate" === t && (e = X(W)), e }; y.setCreationDate = function (t) { return K(t), this }, y.getCreationDate = function (t) { return Z(t) }; var $, Q = y.__private__.padd2 = function (t) { return ("0" + parseInt(t)).slice(-2) }, tt = y.__private__.padd2Hex = function (t) { return ("00" + (t = t.toString())).substr(t.length) }, et = 0, rt = [], nt = [], it = 0, at = [], ot = [], st = !1, ct = nt, ut = function () { et = 0, it = 0, nt = [], rt = [], at = [], Qt = Kt(), te = Kt() }; y.__private__.setCustomOutputDestination = function (t) { st = !0, ct = t }; var lt = function (t) { st || (ct = t) }; y.__private__.resetCustomOutputDestination = function () { st = !1, ct = nt }; var ht = y.__private__.out = function (t) { return t = t.toString(), it += t.length + 1, ct.push(t), ct }, ft = y.__private__.write = function (t) { return ht(1 === arguments.length ? t.toString() : Array.prototype.join.call(arguments, " ")) }, dt = y.__private__.getArrayBuffer = function (t) { for (var e = t.length, r = new ArrayBuffer(e), n = new Uint8Array(r); e--;)n[e] = t.charCodeAt(e); return r }, pt = [["Helvetica", "helvetica", "normal", "WinAnsiEncoding"], ["Helvetica-Bold", "helvetica", "bold", "WinAnsiEncoding"], ["Helvetica-Oblique", "helvetica", "italic", "WinAnsiEncoding"], ["Helvetica-BoldOblique", "helvetica", "bolditalic", "WinAnsiEncoding"], ["Courier", "courier", "normal", "WinAnsiEncoding"], ["Courier-Bold", "courier", "bold", "WinAnsiEncoding"], ["Courier-Oblique", "courier", "italic", "WinAnsiEncoding"], ["Courier-BoldOblique", "courier", "bolditalic", "WinAnsiEncoding"], ["Times-Roman", "times", "normal", "WinAnsiEncoding"], ["Times-Bold", "times", "bold", "WinAnsiEncoding"], ["Times-Italic", "times", "italic", "WinAnsiEncoding"], ["Times-BoldItalic", "times", "bolditalic", "WinAnsiEncoding"], ["ZapfDingbats", "zapfdingbats", "normal", null], ["Symbol", "symbol", "normal", null]]; y.__private__.getStandardFonts = function () { return pt }; var gt = t.fontSize || 16; y.__private__.setFontSize = y.setFontSize = function (t) { return gt = S === x.ADVANCED ? t / _t : t, this }; var mt, vt = y.__private__.getFontSize = y.getFontSize = function () { return S === x.COMPAT ? gt : gt * _t }, bt = t.R2L || !1; y.__private__.setR2L = y.setR2L = function (t) { return bt = t, this }, y.__private__.getR2L = y.getR2L = function () { return bt }; var yt, wt = y.__private__.setZoomMode = function (t) { var e = [void 0, null, "fullwidth", "fullheight", "fullpage", "original"]; if (/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t)) mt = t; else if (isNaN(t)) { if (-1 === e.indexOf(t)) throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "' + t + '" is not recognized.'); mt = t } else mt = parseInt(t, 10) }; y.__private__.getZoomMode = function () { return mt }; var Nt, Lt = y.__private__.setPageMode = function (t) { if (-1 == [void 0, null, "UseNone", "UseOutlines", "UseThumbs", "FullScreen"].indexOf(t)) throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "' + t + '" is not recognized.'); yt = t }; y.__private__.getPageMode = function () { return yt }; var At = y.__private__.setLayoutMode = function (t) { if (-1 == [void 0, null, "continuous", "single", "twoleft", "tworight", "two"].indexOf(t)) throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "' + t + '" is not recognized.'); Nt = t }; y.__private__.getLayoutMode = function () { return Nt }, y.__private__.setDisplayMode = y.setDisplayMode = function (t, e, r) { return wt(t), At(e), Lt(r), this }; var xt = { title: "", subject: "", author: "", keywords: "", creator: "" }; y.__private__.getDocumentProperty = function (t) { if (-1 === Object.keys(xt).indexOf(t)) throw new Error("Invalid argument passed to jsPDF.getDocumentProperty"); return xt[t] }, y.__private__.getDocumentProperties = function () { return xt }, y.__private__.setDocumentProperties = y.setProperties = y.setDocumentProperties = function (t) { for (var e in xt) xt.hasOwnProperty(e) && t[e] && (xt[e] = t[e]); return this }, y.__private__.setDocumentProperty = function (t, e) { if (-1 === Object.keys(xt).indexOf(t)) throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty"); return xt[t] = e }; var St, _t, Pt, kt, Ft, It = {}, Ct = {}, jt = [], Ot = {}, Bt = {}, Mt = {}, Et = {}, qt = null, Dt = 0, Rt = [], Tt = new I(y), Ut = t.hotfixes || [], zt = {}, Ht = {}, Wt = [], Vt = function t(e, r, n, i, a, o) { if (!(this instanceof t)) return new t(e, r, n, i, a, o); isNaN(e) && (e = 1), isNaN(r) && (r = 0), isNaN(n) && (n = 0), isNaN(i) && (i = 1), isNaN(a) && (a = 0), isNaN(o) && (o = 0), this._matrix = [e, r, n, i, a, o] }; Object.defineProperty(Vt.prototype, "sx", { get: function () { return this._matrix[0] }, set: function (t) { this._matrix[0] = t } }), Object.defineProperty(Vt.prototype, "shy", { get: function () { return this._matrix[1] }, set: function (t) { this._matrix[1] = t } }), Object.defineProperty(Vt.prototype, "shx", { get: function () { return this._matrix[2] }, set: function (t) { this._matrix[2] = t } }), Object.defineProperty(Vt.prototype, "sy", { get: function () { return this._matrix[3] }, set: function (t) { this._matrix[3] = t } }), Object.defineProperty(Vt.prototype, "tx", { get: function () { return this._matrix[4] }, set: function (t) { this._matrix[4] = t } }), Object.defineProperty(Vt.prototype, "ty", { get: function () { return this._matrix[5] }, set: function (t) { this._matrix[5] = t } }), Object.defineProperty(Vt.prototype, "a", { get: function () { return this._matrix[0] }, set: function (t) { this._matrix[0] = t } }), Object.defineProperty(Vt.prototype, "b", { get: function () { return this._matrix[1] }, set: function (t) { this._matrix[1] = t } }), Object.defineProperty(Vt.prototype, "c", { get: function () { return this._matrix[2] }, set: function (t) { this._matrix[2] = t } }), Object.defineProperty(Vt.prototype, "d", { get: function () { return this._matrix[3] }, set: function (t) { this._matrix[3] = t } }), Object.defineProperty(Vt.prototype, "e", { get: function () { return this._matrix[4] }, set: function (t) { this._matrix[4] = t } }), Object.defineProperty(Vt.prototype, "f", { get: function () { return this._matrix[5] }, set: function (t) { this._matrix[5] = t } }), Object.defineProperty(Vt.prototype, "rotation", { get: function () { return Math.atan2(this.shx, this.sx) } }), Object.defineProperty(Vt.prototype, "scaleX", { get: function () { return this.decompose().scale.sx } }), Object.defineProperty(Vt.prototype, "scaleY", { get: function () { return this.decompose().scale.sy } }), Object.defineProperty(Vt.prototype, "isIdentity", { get: function () { return 1 === this.sx && (0 === this.shy && (0 === this.shx && (1 === this.sy && (0 === this.tx && 0 === this.ty)))) } }), Vt.prototype.join = function (t) { return [this.sx, this.shy, this.shx, this.sy, this.tx, this.ty].map(E).join(t) }, Vt.prototype.multiply = function (t) { var e = t.sx * this.sx + t.shy * this.shx, r = t.sx * this.shy + t.shy * this.sy, n = t.shx * this.sx + t.sy * this.shx, i = t.shx * this.shy + t.sy * this.sy, a = t.tx * this.sx + t.ty * this.shx + this.tx, o = t.tx * this.shy + t.ty * this.sy + this.ty; return new Vt(e, r, n, i, a, o) }, Vt.prototype.decompose = function () { var t = this.sx, e = this.shy, r = this.shx, n = this.sy, i = this.tx, a = this.ty, o = Math.sqrt(t * t + e * e), s = (t /= o) * r + (e /= o) * n; r -= t * s, n -= e * s; var c = Math.sqrt(r * r + n * n); return s /= c, t * (n /= c) < e * (r /= c) && (t = -t, e = -e, s = -s, o = -o), { scale: new Vt(o, 0, 0, c, 0, 0), translate: new Vt(1, 0, 0, 1, i, a), rotate: new Vt(t, e, -e, t, 0, 0), skew: new Vt(1, 0, s, 1, 0, 0) } }, Vt.prototype.toString = function (t) { return this.join(" ") }, Vt.prototype.inversed = function () { var t = this.sx, e = this.shy, r = this.shx, n = this.sy, i = this.tx, a = this.ty, o = 1 / (t * n - e * r), s = n * o, c = -e * o, u = -r * o, l = t * o; return new Vt(s, c, u, l, -s * i - u * a, -c * i - l * a) }, Vt.prototype.applyToPoint = function (t) { var e = t.x * this.sx + t.y * this.shx + this.tx, r = t.x * this.shy + t.y * this.sy + this.ty; return new Cr(e, r) }, Vt.prototype.applyToRectangle = function (t) { var e = this.applyToPoint(t), r = this.applyToPoint(new Cr(t.x + t.w, t.y + t.h)); return new jr(e.x, e.y, r.x - e.x, r.y - e.y) }, Vt.prototype.clone = function () { var t = this.sx, e = this.shy, r = this.shx, n = this.sy, i = this.tx, a = this.ty; return new Vt(t, e, r, n, i, a) }, y.Matrix = Vt; var Gt = y.matrixMult = function (t, e) { return e.multiply(t) }, Yt = new Vt(1, 0, 0, 1, 0, 0); y.unitMatrix = y.identityMatrix = Yt; var Jt = function (t, e) { if (!Bt[t]) { var r = (e instanceof O ? "Sh" : "P") + (Object.keys(Ot).length + 1).toString(10); e.id = r, Bt[t] = r, Ot[r] = e, Tt.publish("addPattern", e) } }; y.ShadingPattern = O, y.TilingPattern = B, y.addShadingPattern = function (t, e) { return q("addShadingPattern()"), Jt(t, e), this }, y.beginTilingPattern = function (t) { q("beginTilingPattern()"), Br(t.boundingBox[0], t.boundingBox[1], t.boundingBox[2] - t.boundingBox[0], t.boundingBox[3] - t.boundingBox[1], t.matrix) }, y.endTilingPattern = function (t, e) { q("endTilingPattern()"), e.stream = ot[$].join("\n"), Jt(t, e), Tt.publish("endTilingPattern", e), Wt.pop().restore() }; var Xt = y.__private__.newObject = function () { var t = Kt(); return Zt(t, !0), t }, Kt = y.__private__.newObjectDeferred = function () { return et++, rt[et] = function () { return it }, et }, Zt = function (t, e) { return e = "boolean" == typeof e && e, rt[t] = it, e && ht(t + " 0 obj"), t }, $t = y.__private__.newAdditionalObject = function () { var t = { objId: Kt(), content: "" }; return at.push(t), t }, Qt = Kt(), te = Kt(), ee = y.__private__.decodeColorString = function (t) { var e = t.split(" "); if (2 !== e.length || "g" !== e[1] && "G" !== e[1]) { if (5 === e.length && ("k" === e[4] || "K" === e[4])) { e = [(1 - e[0]) * (1 - e[3]), (1 - e[1]) * (1 - e[3]), (1 - e[2]) * (1 - e[3]), "r"] } } else { var r = parseFloat(e[0]); e = [r, r, r, "r"] } for (var n = "#", i = 0; i < 3; i++)n += ("0" + Math.floor(255 * parseFloat(e[i])).toString(16)).slice(-2); return n }, re = y.__private__.encodeColorString = function (t) { var r; "string" == typeof t && (t = { ch1: t }); var n = t.ch1, i = t.ch2, a = t.ch3, o = t.ch4, s = "draw" === t.pdfColorType ? ["G", "RG", "K"] : ["g", "rg", "k"]; if ("string" == typeof n && "#" !== n.charAt(0)) { var c = new h(n); if (c.ok) n = c.toHex(); else if (!/^\d*\.?\d*$/.test(n)) throw new Error('Invalid color "' + n + '" passed to jsPDF.encodeColorString.') } if ("string" == typeof n && /^#[0-9A-Fa-f]{3}$/.test(n) && (n = "#" + n[1] + n[1] + n[2] + n[2] + n[3] + n[3]), "string" == typeof n && /^#[0-9A-Fa-f]{6}$/.test(n)) { var u = parseInt(n.substr(1), 16); n = u >> 16 & 255, i = u >> 8 & 255, a = 255 & u } if (void 0 === i || void 0 === o && n === i && i === a) if ("string" == typeof n) r = n + " " + s[0]; else switch (t.precision) { case 2: r = R(n / 255) + " " + s[0]; break; case 3: default: r = T(n / 255) + " " + s[0] } else if (void 0 === o || "object" === e(o)) { if (o && !isNaN(o.a) && 0 === o.a) return r = ["1.", "1.", "1.", s[1]].join(" "); if ("string" == typeof n) r = [n, i, a, s[1]].join(" "); else switch (t.precision) { case 2: r = [R(n / 255), R(i / 255), R(a / 255), s[1]].join(" "); break; default: case 3: r = [T(n / 255), T(i / 255), T(a / 255), s[1]].join(" ") } } else if ("string" == typeof n) r = [n, i, a, o, s[2]].join(" "); else switch (t.precision) { case 2: r = [R(n), R(i), R(a), R(o), s[2]].join(" "); break; case 3: default: r = [T(n), T(i), T(a), T(o), s[2]].join(" ") }return r }, ne = y.__private__.getFilters = function () { return f }, ie = y.__private__.putStream = function (t) { var e = (t = t || {}).data || "", r = t.filters || ne(), n = t.alreadyAppliedFilters || [], i = t.addLength1 || !1, a = e.length, o = t.objectId, s = function (t) { return t }; if (null !== m && void 0 === o) throw new Error("ObjectId must be passed to putStream for file encryption"); null !== m && (s = Ye.encryptor(o, 0)); var c = {}; !0 === r && (r = ["FlateEncode"]); var u = t.additionalKeyValues || [], l = (c = void 0 !== M.API.processDataByFilters ? M.API.processDataByFilters(e, r) : { data: e, reverseChain: [] }).reverseChain + (Array.isArray(n) ? n.join(" ") : n.toString()); if (0 !== c.data.length && (u.push({ key: "Length", value: c.data.length }), !0 === i && u.push({ key: "Length1", value: a })), 0 != l.length) if (l.split("/").length - 1 == 1) u.push({ key: "Filter", value: l }); else { u.push({ key: "Filter", value: "[" + l + "]" }); for (var h = 0; h < u.length; h += 1)if ("DecodeParms" === u[h].key) { for (var f = [], d = 0; d < c.reverseChain.split("/").length - 1; d += 1)f.push("null"); f.push(u[h].value), u[h].value = "[" + f.join(" ") + "]" } } ht("<<"); for (var p = 0; p < u.length; p++)ht("/" + u[p].key + " " + u[p].value); ht(">>"), 0 !== c.data.length && (ht("stream"), ht(s(c.data)), ht("endstream")) }, ae = y.__private__.putPage = function (t) { var e = t.number, r = t.data, n = t.objId, i = t.contentsObjId; Zt(n, !0), ht("<</Type /Page"), ht("/Parent " + t.rootDictionaryObjId + " 0 R"), ht("/Resources " + t.resourceDictionaryObjId + " 0 R"), ht("/MediaBox [" + parseFloat(E(t.mediaBox.bottomLeftX)) + " " + parseFloat(E(t.mediaBox.bottomLeftY)) + " " + E(t.mediaBox.topRightX) + " " + E(t.mediaBox.topRightY) + "]"), null !== t.cropBox && ht("/CropBox [" + E(t.cropBox.bottomLeftX) + " " + E(t.cropBox.bottomLeftY) + " " + E(t.cropBox.topRightX) + " " + E(t.cropBox.topRightY) + "]"), null !== t.bleedBox && ht("/BleedBox [" + E(t.bleedBox.bottomLeftX) + " " + E(t.bleedBox.bottomLeftY) + " " + E(t.bleedBox.topRightX) + " " + E(t.bleedBox.topRightY) + "]"), null !== t.trimBox && ht("/TrimBox [" + E(t.trimBox.bottomLeftX) + " " + E(t.trimBox.bottomLeftY) + " " + E(t.trimBox.topRightX) + " " + E(t.trimBox.topRightY) + "]"), null !== t.artBox && ht("/ArtBox [" + E(t.artBox.bottomLeftX) + " " + E(t.artBox.bottomLeftY) + " " + E(t.artBox.topRightX) + " " + E(t.artBox.topRightY) + "]"), "number" == typeof t.userUnit && 1 !== t.userUnit && ht("/UserUnit " + t.userUnit), Tt.publish("putPage", { objId: n, pageContext: Rt[e], pageNumber: e, page: r }), ht("/Contents " + i + " 0 R"), ht(">>"), ht("endobj"); var a = r.join("\n"); return S === x.ADVANCED && (a += "\nQ"), Zt(i, !0), ie({ data: a, filters: ne(), objectId: i }), ht("endobj"), n }, oe = y.__private__.putPages = function () { var t, e, r = []; for (t = 1; t <= Dt; t++)Rt[t].objId = Kt(), Rt[t].contentsObjId = Kt(); for (t = 1; t <= Dt; t++)r.push(ae({ number: t, data: ot[t], objId: Rt[t].objId, contentsObjId: Rt[t].contentsObjId, mediaBox: Rt[t].mediaBox, cropBox: Rt[t].cropBox, bleedBox: Rt[t].bleedBox, trimBox: Rt[t].trimBox, artBox: Rt[t].artBox, userUnit: Rt[t].userUnit, rootDictionaryObjId: Qt, resourceDictionaryObjId: te })); Zt(Qt, !0), ht("<</Type /Pages"); var n = "/Kids ["; for (e = 0; e < Dt; e++)n += r[e] + " 0 R "; ht(n + "]"), ht("/Count " + Dt), ht(">>"), ht("endobj"), Tt.publish("postPutPages") }, se = function (t) { Tt.publish("putFont", { font: t, out: ht, newObject: Xt, putStream: ie }), !0 !== t.isAlreadyPutted && (t.objectNumber = Xt(), ht("<<"), ht("/Type /Font"), ht("/BaseFont /" + F(t.postScriptName)), ht("/Subtype /Type1"), "string" == typeof t.encoding && ht("/Encoding /" + t.encoding), ht("/FirstChar 32"), ht("/LastChar 255"), ht(">>"), ht("endobj")) }, ce = function () { for (var t in It) It.hasOwnProperty(t) && (!1 === v || !0 === v && b.hasOwnProperty(t)) && se(It[t]) }, ue = function (t) { t.objectNumber = Xt(); var e = []; e.push({ key: "Type", value: "/XObject" }), e.push({ key: "Subtype", value: "/Form" }), e.push({ key: "BBox", value: "[" + [E(t.x), E(t.y), E(t.x + t.width), E(t.y + t.height)].join(" ") + "]" }), e.push({ key: "Matrix", value: "[" + t.matrix.toString() + "]" }); var r = t.pages[1].join("\n"); ie({ data: r, additionalKeyValues: e, objectId: t.objectNumber }), ht("endobj") }, le = function () { for (var t in zt) zt.hasOwnProperty(t) && ue(zt[t]) }, he = function (t, e) { var r, n = [], i = 1 / (e - 1); for (r = 0; r < 1; r += i)n.push(r); if (n.push(1), 0 != t[0].offset) { var a = { offset: 0, color: t[0].color }; t.unshift(a) } if (1 != t[t.length - 1].offset) { var o = { offset: 1, color: t[t.length - 1].color }; t.push(o) } for (var s = "", c = 0, u = 0; u < n.length; u++) { for (r = n[u]; r > t[c + 1].offset;)c++; var l = t[c].offset, h = (r - l) / (t[c + 1].offset - l), f = t[c].color, d = t[c + 1].color; s += tt(Math.round((1 - h) * f[0] + h * d[0]).toString(16)) + tt(Math.round((1 - h) * f[1] + h * d[1]).toString(16)) + tt(Math.round((1 - h) * f[2] + h * d[2]).toString(16)) } return s.trim() }, fe = function (t, e) { e || (e = 21); var r = Xt(), n = he(t.colors, e), i = []; i.push({ key: "FunctionType", value: "0" }), i.push({ key: "Domain", value: "[0.0 1.0]" }), i.push({ key: "Size", value: "[" + e + "]" }), i.push({ key: "BitsPerSample", value: "8" }), i.push({ key: "Range", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), i.push({ key: "Decode", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), ie({ data: n, additionalKeyValues: i, alreadyAppliedFilters: ["/ASCIIHexDecode"], objectId: r }), ht("endobj"), t.objectNumber = Xt(), ht("<< /ShadingType " + t.type), ht("/ColorSpace /DeviceRGB"); var a = "/Coords [" + E(parseFloat(t.coords[0])) + " " + E(parseFloat(t.coords[1])) + " "; 2 === t.type ? a += E(parseFloat(t.coords[2])) + " " + E(parseFloat(t.coords[3])) : a += E(parseFloat(t.coords[2])) + " " + E(parseFloat(t.coords[3])) + " " + E(parseFloat(t.coords[4])) + " " + E(parseFloat(t.coords[5])), ht(a += "]"), t.matrix && ht("/Matrix [" + t.matrix.toString() + "]"), ht("/Function " + r + " 0 R"), ht("/Extend [true true]"), ht(">>"), ht("endobj") }, de = function (t, e) { var r = Kt(), n = Xt(); e.push({ resourcesOid: r, objectOid: n }), t.objectNumber = n; var i = []; i.push({ key: "Type", value: "/Pattern" }), i.push({ key: "PatternType", value: "1" }), i.push({ key: "PaintType", value: "1" }), i.push({ key: "TilingType", value: "1" }), i.push({ key: "BBox", value: "[" + t.boundingBox.map(E).join(" ") + "]" }), i.push({ key: "XStep", value: E(t.xStep) }), i.push({ key: "YStep", value: E(t.yStep) }), i.push({ key: "Resources", value: r + " 0 R" }), t.matrix && i.push({ key: "Matrix", value: "[" + t.matrix.toString() + "]" }), ie({ data: t.stream, additionalKeyValues: i, objectId: t.objectNumber }), ht("endobj") }, pe = function (t) { var e; for (e in Ot) Ot.hasOwnProperty(e) && (Ot[e] instanceof O ? fe(Ot[e]) : Ot[e] instanceof B && de(Ot[e], t)) }, ge = function (t) { for (var e in t.objectNumber = Xt(), ht("<<"), t) switch (e) { case "opacity": ht("/ca " + R(t[e])); break; case "stroke-opacity": ht("/CA " + R(t[e])) }ht(">>"), ht("endobj") }, me = function () { var t; for (t in Mt) Mt.hasOwnProperty(t) && ge(Mt[t]) }, ve = function () { for (var t in ht("/XObject <<"), zt) zt.hasOwnProperty(t) && zt[t].objectNumber >= 0 && ht("/" + t + " " + zt[t].objectNumber + " 0 R"); Tt.publish("putXobjectDict"), ht(">>") }, be = function () { Ye.oid = Xt(), ht("<<"), ht("/Filter /Standard"), ht("/V " + Ye.v), ht("/R " + Ye.r), ht("/U <" + Ye.toHexString(Ye.U) + ">"), ht("/O <" + Ye.toHexString(Ye.O) + ">"), ht("/P " + Ye.P), ht(">>"), ht("endobj") }, ye = function () { for (var t in ht("/Font <<"), It) It.hasOwnProperty(t) && (!1 === v || !0 === v && b.hasOwnProperty(t)) && ht("/" + t + " " + It[t].objectNumber + " 0 R"); ht(">>") }, we = function () { if (Object.keys(Ot).length > 0) { for (var t in ht("/Shading <<"), Ot) Ot.hasOwnProperty(t) && Ot[t] instanceof O && Ot[t].objectNumber >= 0 && ht("/" + t + " " + Ot[t].objectNumber + " 0 R"); Tt.publish("putShadingPatternDict"), ht(">>") } }, Ne = function (t) { if (Object.keys(Ot).length > 0) { for (var e in ht("/Pattern <<"), Ot) Ot.hasOwnProperty(e) && Ot[e] instanceof y.TilingPattern && Ot[e].objectNumber >= 0 && Ot[e].objectNumber < t && ht("/" + e + " " + Ot[e].objectNumber + " 0 R"); Tt.publish("putTilingPatternDict"), ht(">>") } }, Le = function () { if (Object.keys(Mt).length > 0) { var t; for (t in ht("/ExtGState <<"), Mt) Mt.hasOwnProperty(t) && Mt[t].objectNumber >= 0 && ht("/" + t + " " + Mt[t].objectNumber + " 0 R"); Tt.publish("putGStateDict"), ht(">>") } }, Ae = function (t) { Zt(t.resourcesOid, !0), ht("<<"), ht("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"), ye(), we(), Ne(t.objectOid), Le(), ve(), ht(">>"), ht("endobj") }, xe = function () { var t = []; ce(), me(), le(), pe(t), Tt.publish("putResources"), t.forEach(Ae), Ae({ resourcesOid: te, objectOid: Number.MAX_SAFE_INTEGER }), Tt.publish("postPutResources") }, Se = function () { Tt.publish("putAdditionalObjects"); for (var t = 0; t < at.length; t++) { var e = at[t]; Zt(e.objId, !0), ht(e.content), ht("endobj") } Tt.publish("postPutAdditionalObjects") }, _e = function (t) { Ct[t.fontName] = Ct[t.fontName] || {}, Ct[t.fontName][t.fontStyle] = t.id }, Pe = function (t, e, r, n, i) { var a = { id: "F" + (Object.keys(It).length + 1).toString(10), postScriptName: t, fontName: e, fontStyle: r, encoding: n, isStandardFont: i || !1, metadata: {} }; return Tt.publish("addFont", { font: a, instance: this }), It[a.id] = a, _e(a), a.id }, ke = function (t) { for (var e = 0, r = pt.length; e < r; e++) { var n = Pe.call(this, t[e][0], t[e][1], t[e][2], pt[e][3], !0); !1 === v && (b[n] = !0); var i = t[e][0].split("-"); _e({ id: n, fontName: i[0], fontStyle: i[1] || "" }) } Tt.publish("addFonts", { fonts: It, dictionary: Ct }) }, Fe = function (t) { return t.foo = function () { try { return t.apply(this, arguments) } catch (t) { var e = t.stack || ""; ~e.indexOf(" at ") && (e = e.split(" at ")[1]); var n = "Error in function " + e.split("\n")[0].split("<")[0] + ": " + t.message; if (!r.console) throw new Error(n); r.console.error(n, t), r.alert && alert(n) } }, t.foo.bar = t, t.foo }, Ie = function (t, e) { var r, n, i, a, o, s, c, u, l; if (i = (e = e || {}).sourceEncoding || "Unicode", o = e.outputEncoding, (e.autoencode || o) && It[St].metadata && It[St].metadata[i] && It[St].metadata[i].encoding && (a = It[St].metadata[i].encoding, !o && It[St].encoding && (o = It[St].encoding), !o && a.codePages && (o = a.codePages[0]), "string" == typeof o && (o = a[o]), o)) { for (c = !1, s = [], r = 0, n = t.length; r < n; r++)(u = o[t.charCodeAt(r)]) ? s.push(String.fromCharCode(u)) : s.push(t[r]), s[r].charCodeAt(0) >> 8 && (c = !0); t = s.join("") } for (r = t.length; void 0 === c && 0 !== r;)t.charCodeAt(r - 1) >> 8 && (c = !0), r--; if (!c) return t; for (s = e.noBOM ? [] : [254, 255], r = 0, n = t.length; r < n; r++) { if ((l = (u = t.charCodeAt(r)) >> 8) >> 8) throw new Error("Character at position " + r + " of string '" + t + "' exceeds 16bits. Cannot be encoded into UCS-2 BE"); s.push(l), s.push(u - (l << 8)) } return String.fromCharCode.apply(void 0, s) }, Ce = y.__private__.pdfEscape = y.pdfEscape = function (t, e) { return Ie(t, e).replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, je = y.__private__.beginPage = function (t) { ot[++Dt] = [], Rt[Dt] = { objId: 0, contentsObjId: 0, userUnit: Number(d), artBox: null, bleedBox: null, cropBox: null, trimBox: null, mediaBox: { bottomLeftX: 0, bottomLeftY: 0, topRightX: Number(t[0]), topRightY: Number(t[1]) } }, Me(Dt), lt(ot[$]) }, Oe = function (t, e) { var r, n, o; switch (a = e || a, "string" == typeof t && (r = A(t.toLowerCase()), Array.isArray(r) && (n = r[0], o = r[1])), Array.isArray(t) && (n = t[0] * _t, o = t[1] * _t), isNaN(n) && (n = s[0], o = s[1]), (n > 14400 || o > 14400) && (i.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"), n = Math.min(14400, n), o = Math.min(14400, o)), s = [n, o], a.substr(0, 1)) { case "l": o > n && (s = [o, n]); break; case "p": n > o && (s = [o, n]) }je(s), pr(fr), ht(Lr), 0 !== kr && ht(kr + " J"), 0 !== Fr && ht(Fr + " j"), Tt.publish("addPage", { pageNumber: Dt }) }, Be = function (t) { t > 0 && t <= Dt && (ot.splice(t, 1), Rt.splice(t, 1), Dt--, $ > Dt && ($ = Dt), this.setPage($)) }, Me = function (t) { t > 0 && t <= Dt && ($ = t) }, Ee = y.__private__.getNumberOfPages = y.getNumberOfPages = function () { return ot.length - 1 }, qe = function (t, e, r) { var n, a = void 0; return r = r || {}, t = void 0 !== t ? t : It[St].fontName, e = void 0 !== e ? e : It[St].fontStyle, n = t.toLowerCase(), void 0 !== Ct[n] && void 0 !== Ct[n][e] ? a = Ct[n][e] : void 0 !== Ct[t] && void 0 !== Ct[t][e] ? a = Ct[t][e] : !1 === r.disableWarning && i.warn("Unable to look up font label for font '" + t + "', '" + e + "'. Refer to getFontList() for available fonts."), a || r.noFallback || null == (a = Ct.times[e]) && (a = Ct.times.normal), a }, De = y.__private__.putInfo = function () { var t = Xt(), e = function (t) { return t }; for (var r in null !== m && (e = Ye.encryptor(t, 0)), ht("<<"), ht("/Producer (" + Ce(e("jsPDF " + M.version)) + ")"), xt) xt.hasOwnProperty(r) && xt[r] && ht("/" + r.substr(0, 1).toUpperCase() + r.substr(1) + " (" + Ce(e(xt[r])) + ")"); ht("/CreationDate (" + Ce(e(W)) + ")"), ht(">>"), ht("endobj") }, Re = y.__private__.putCatalog = function (t) { var e = (t = t || {}).rootDictionaryObjId || Qt; switch (Xt(), ht("<<"), ht("/Type /Catalog"), ht("/Pages " + e + " 0 R"), mt || (mt = "fullwidth"), mt) { case "fullwidth": ht("/OpenAction [3 0 R /FitH null]"); break; case "fullheight": ht("/OpenAction [3 0 R /FitV null]"); break; case "fullpage": ht("/OpenAction [3 0 R /Fit]"); break; case "original": ht("/OpenAction [3 0 R /XYZ null null 1]"); break; default: var r = "" + mt; "%" === r.substr(r.length - 1) && (mt = parseInt(mt) / 100), "number" == typeof mt && ht("/OpenAction [3 0 R /XYZ null null " + R(mt) + "]") }switch (Nt || (Nt = "continuous"), Nt) { case "continuous": ht("/PageLayout /OneColumn"); break; case "single": ht("/PageLayout /SinglePage"); break; case "two": case "twoleft": ht("/PageLayout /TwoColumnLeft"); break; case "tworight": ht("/PageLayout /TwoColumnRight") }yt && ht("/PageMode /" + yt), Tt.publish("putCatalog"), ht(">>"), ht("endobj") }, Te = y.__private__.putTrailer = function () { ht("trailer"), ht("<<"), ht("/Size " + (et + 1)), ht("/Root " + et + " 0 R"), ht("/Info " + (et - 1) + " 0 R"), null !== m && ht("/Encrypt " + Ye.oid + " 0 R"), ht("/ID [ <" + V + "> <" + V + "> ]"), ht(">>") }, Ue = y.__private__.putHeader = function () { ht("%PDF-" + w), ht("%ºß¬à") }, ze = y.__private__.putXRef = function () { var t = "0000000000"; ht("xref"), ht("0 " + (et + 1)), ht("0000000000 65535 f "); for (var e = 1; e <= et; e++) { "function" == typeof rt[e] ? ht((t + rt[e]()).slice(-10) + " 00000 n ") : void 0 !== rt[e] ? ht((t + rt[e]).slice(-10) + " 00000 n ") : ht("0000000000 00000 n ") } }, He = y.__private__.buildDocument = function () { ut(), lt(nt), Tt.publish("buildDocument"), Ue(), oe(), Se(), xe(), null !== m && be(), De(), Re(); var t = it; return ze(), Te(), ht("startxref"), ht("" + t), ht("%%EOF"), lt(ot[$]), nt.join("\n") }, We = y.__private__.getBlob = function (t) { return new Blob([dt(t)], { type: "application/pdf" }) }, Ve = y.output = y.__private__.output = Fe((function (t, e) { switch ("string" == typeof (e = e || {}) ? e = { filename: e } : e.filename = e.filename || "generated.pdf", t) { case void 0: return He(); case "save": y.save(e.filename); break; case "arraybuffer": return dt(He()); case "blob": return We(He()); case "bloburi": case "bloburl": if (void 0 !== r.URL && "function" == typeof r.URL.createObjectURL) return r.URL && r.URL.createObjectURL(We(He())) || void 0; i.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser."); break; case "datauristring": case "dataurlstring": var n = "", a = He(); try { n = u(a) } catch (t) { n = u(unescape(encodeURIComponent(a))) } return "data:application/pdf;filename=" + e.filename + ";base64," + n; case "pdfobjectnewwindow": if ("[object Window]" === Object.prototype.toString.call(r)) { var o = "https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js", s = ' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"'; e.pdfObjectUrl && (o = e.pdfObjectUrl, s = ""); var c = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="' + o + '"' + s + '><\/script><script >PDFObject.embed("' + this.output("dataurlstring") + '", ' + JSON.stringify(e) + ");<\/script></body></html>", l = r.open(); return null !== l && l.document.write(c), l } throw new Error("The option pdfobjectnewwindow just works in a browser-environment."); case "pdfjsnewwindow": if ("[object Window]" === Object.prototype.toString.call(r)) { var h = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="' + (e.pdfJsUrl || "examples/PDF.js/web/viewer.html") + "?file=&downloadName=" + e.filename + '" width="500px" height="400px" /></body></html>', f = r.open(); if (null !== f) { f.document.write(h); var d = this; f.document.documentElement.querySelector("#pdfViewer").onload = function () { f.document.title = e.filename, f.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl")) } } return f } throw new Error("The option pdfjsnewwindow just works in a browser-environment."); case "dataurlnewwindow": if ("[object Window]" !== Object.prototype.toString.call(r)) throw new Error("The option dataurlnewwindow just works in a browser-environment."); var p = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="' + this.output("datauristring", e) + '"></iframe></body></html>', g = r.open(); if (null !== g && (g.document.write(p), g.document.title = e.filename), g || "undefined" == typeof safari) return g; break; case "datauri": case "dataurl": return r.document.location.href = this.output("datauristring", e); default: return null } })), Ge = function (t) { return !0 === Array.isArray(Ut) && Ut.indexOf(t) > -1 }; switch (o) { case "pt": _t = 1; break; case "mm": _t = 72 / 25.4; break; case "cm": _t = 72 / 2.54; break; case "in": _t = 72; break; case "px": _t = 1 == Ge("px_scaling") ? .75 : 96 / 72; break; case "pc": case "em": _t = 12; break; case "ex": _t = 6; break; default: if ("number" != typeof o) throw new Error("Invalid unit: " + o); _t = o }var Ye = null; K(), Y(); var Je = function (t) { return null !== m ? Ye.encryptor(t, 0) : function (t) { return t } }, Xe = y.__private__.getPageInfo = y.getPageInfo = function (t) { if (isNaN(t) || t % 1 != 0) throw new Error("Invalid argument passed to jsPDF.getPageInfo"); return { objId: Rt[t].objId, pageNumber: t, pageContext: Rt[t] } }, Ke = y.__private__.getPageInfoByObjId = function (t) { if (isNaN(t) || t % 1 != 0) throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId"); for (var e in Rt) if (Rt[e].objId === t) break; return Xe(e) }, Ze = y.__private__.getCurrentPageInfo = y.getCurrentPageInfo = function () { return { objId: Rt[$].objId, pageNumber: $, pageContext: Rt[$] } }; y.addPage = function () { return Oe.apply(this, arguments), this }, y.setPage = function () { return Me.apply(this, arguments), lt.call(this, ot[$]), this }, y.insertPage = function (t) { return this.addPage(), this.movePage($, t), this }, y.movePage = function (t, e) { var r, n; if (t > e) { r = ot[t], n = Rt[t]; for (var i = t; i > e; i--)ot[i] = ot[i - 1], Rt[i] = Rt[i - 1]; ot[e] = r, Rt[e] = n, this.setPage(e) } else if (t < e) { r = ot[t], n = Rt[t]; for (var a = t; a < e; a++)ot[a] = ot[a + 1], Rt[a] = Rt[a + 1]; ot[e] = r, Rt[e] = n, this.setPage(e) } return this }, y.deletePage = function () { return Be.apply(this, arguments), this }, y.__private__.text = y.text = function (t, r, n, i, a) { var o, s, c, u, l, h, f, d, p, g = (i = i || {}).scope || this; if ("number" == typeof t && "number" == typeof r && ("string" == typeof n || Array.isArray(n))) { var m = n; n = r, r = t, t = m } if (arguments[3] instanceof Vt == !1 ? (c = arguments[4], u = arguments[5], "object" === e(f = arguments[3]) && null !== f || ("string" == typeof c && (u = c, c = null), "string" == typeof f && (u = f, f = null), "number" == typeof f && (c = f, f = null), i = { flags: f, angle: c, align: u })) : (q("The transform parameter of text() with a Matrix value"), p = a), isNaN(r) || isNaN(n) || null == t) throw new Error("Invalid arguments passed to jsPDF.text"); if (0 === t.length) return g; var v = "", y = !1, w = "number" == typeof i.lineHeightFactor ? i.lineHeightFactor : hr, N = g.internal.scaleFactor; function L(t) { return t = t.split("\t").join(Array(i.TabLen || 9).join(" ")), Ce(t, f) } function A(t) { for (var e, r = t.concat(), n = [], i = r.length; i--;)"string" == typeof (e = r.shift()) ? n.push(e) : Array.isArray(t) && (1 === e.length || void 0 === e[1] && void 0 === e[2]) ? n.push(e[0]) : n.push([e[0], e[1], e[2]]); return n } function _(t, e) { var r; if ("string" == typeof t) r = e(t)[0]; else if (Array.isArray(t)) { for (var n, i, a = t.concat(), o = [], s = a.length; s--;)"string" == typeof (n = a.shift()) ? o.push(e(n)[0]) : Array.isArray(n) && "string" == typeof n[0] && (i = e(n[0], n[1], n[2]), o.push([i[0], i[1], i[2]])); r = o } return r } var P = !1, k = !0; if ("string" == typeof t) P = !0; else if (Array.isArray(t)) { var F = t.concat(); s = []; for (var I, C = F.length; C--;)("string" != typeof (I = F.shift()) || Array.isArray(I) && "string" != typeof I[0]) && (k = !1); P = k } if (!1 === P) throw new Error('Type of text must be string or Array. "' + t + '" is not recognized.'); "string" == typeof t && (t = t.match(/[\r?\n]/) ? t.split(/\r\n|\r|\n/g) : [t]); var j = gt / g.internal.scaleFactor, O = j * (w - 1); switch (i.baseline) { case "bottom": n -= O; break; case "top": n += j - O; break; case "hanging": n += j - 2 * O; break; case "middle": n += j / 2 - O }if ((h = i.maxWidth || 0) > 0 && ("string" == typeof t ? t = g.splitTextToSize(t, h) : "[object Array]" === Object.prototype.toString.call(t) && (t = t.reduce((function (t, e) { return t.concat(g.splitTextToSize(e, h)) }), []))), o = { text: t, x: r, y: n, options: i, mutex: { pdfEscape: Ce, activeFontKey: St, fonts: It, activeFontSize: gt } }, Tt.publish("preProcessText", o), t = o.text, c = (i = o.options).angle, p instanceof Vt == !1 && c && "number" == typeof c) { c *= Math.PI / 180, 0 === i.rotationDirection && (c = -c), S === x.ADVANCED && (c = -c); var B = Math.cos(c), M = Math.sin(c); p = new Vt(B, M, -M, B, 0, 0) } else c && c instanceof Vt && (p = c); S !== x.ADVANCED || p || (p = Yt), void 0 !== (l = i.charSpace || _r) && (v += E(U(l)) + " Tc\n", this.setCharSpace(this.getCharSpace() || 0)), void 0 !== (d = i.horizontalScale) && (v += E(100 * d) + " Tz\n"); i.lang; var D = -1, R = void 0 !== i.renderingMode ? i.renderingMode : i.stroke, T = g.internal.getCurrentPageInfo().pageContext; switch (R) { case 0: case !1: case "fill": D = 0; break; case 1: case !0: case "stroke": D = 1; break; case 2: case "fillThenStroke": D = 2; break; case 3: case "invisible": D = 3; break; case 4: case "fillAndAddForClipping": D = 4; break; case 5: case "strokeAndAddPathForClipping": D = 5; break; case 6: case "fillThenStrokeAndAddToPathForClipping": D = 6; break; case 7: case "addToPathForClipping": D = 7 }var z = void 0 !== T.usedRenderingMode ? T.usedRenderingMode : -1; -1 !== D ? v += D + " Tr\n" : -1 !== z && (v += "0 Tr\n"), -1 !== D && (T.usedRenderingMode = D), u = i.align || "left"; var H, W = gt * w, V = g.internal.pageSize.getWidth(), G = It[St]; l = i.charSpace || _r, h = i.maxWidth || 0, f = Object.assign({ autoencode: !0, noBOM: !0 }, i.flags); var Y = []; if ("[object Array]" === Object.prototype.toString.call(t)) { var J; s = A(t), "left" !== u && (H = s.map((function (t) { return g.getStringUnitWidth(t, { font: G, charSpace: l, fontSize: gt, doKerning: !1 }) * gt / N }))); var X, K = 0; if ("right" === u) { r -= H[0], t = [], C = s.length; for (var Z = 0; Z < C; Z++)0 === Z ? (X = br(r), J = yr(n)) : (X = U(K - H[Z]), J = -W), t.push([s[Z], X, J]), K = H[Z] } else if ("center" === u) { r -= H[0] / 2, t = [], C = s.length; for (var $ = 0; $ < C; $++)0 === $ ? (X = br(r), J = yr(n)) : (X = U((K - H[$]) / 2), J = -W), t.push([s[$], X, J]), K = H[$] } else if ("left" === u) { t = [], C = s.length; for (var Q = 0; Q < C; Q++)t.push(s[Q]) } else { if ("justify" !== u) throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".'); t = [], C = s.length, h = 0 !== h ? h : V; for (var tt = 0; tt < C; tt++)J = 0 === tt ? yr(n) : -W, X = 0 === tt ? br(r) : 0, tt < C - 1 ? Y.push(E(U((h - H[tt]) / (s[tt].split(" ").length - 1)))) : Y.push(0), t.push([s[tt], X, J]) } } var et = "boolean" == typeof i.R2L ? i.R2L : bt; !0 === et && (t = _(t, (function (t, e, r) { return [t.split("").reverse().join(""), e, r] }))), o = { text: t, x: r, y: n, options: i, mutex: { pdfEscape: Ce, activeFontKey: St, fonts: It, activeFontSize: gt } }, Tt.publish("postProcessText", o), t = o.text, y = o.mutex.isHex || !1; var rt = It[St].encoding; "WinAnsiEncoding" !== rt && "StandardEncoding" !== rt || (t = _(t, (function (t, e, r) { return [L(t), e, r] }))), s = A(t), t = []; for (var nt, it, at, ot = 0, st = 1, ct = Array.isArray(s[0]) ? st : ot, ut = "", lt = function (t, e, r) { var n = ""; return r instanceof Vt ? (r = "number" == typeof i.angle ? Gt(r, new Vt(1, 0, 0, 1, t, e)) : Gt(new Vt(1, 0, 0, 1, t, e), r), S === x.ADVANCED && (r = Gt(new Vt(1, 0, 0, -1, 0, 0), r)), n = r.join(" ") + " Tm\n") : n = E(t) + " " + E(e) + " Td\n", n }, ft = 0; ft < s.length; ft++) { switch (ut = "", ct) { case st: at = (y ? "<" : "(") + s[ft][0] + (y ? ">" : ")"), nt = parseFloat(s[ft][1]), it = parseFloat(s[ft][2]); break; case ot: at = (y ? "<" : "(") + s[ft] + (y ? ">" : ")"), nt = br(r), it = yr(n) }void 0 !== Y && void 0 !== Y[ft] && (ut = Y[ft] + " Tw\n"), 0 === ft ? t.push(ut + lt(nt, it, p) + at) : ct === ot ? t.push(ut + at) : ct === st && t.push(ut + lt(nt, it, p) + at) } t = ct === ot ? t.join(" Tj\nT* ") : t.join(" Tj\n"), t += " Tj\n"; var dt = "BT\n/"; return dt += St + " " + gt + " Tf\n", dt += E(gt * w) + " TL\n", dt += xr + "\n", dt += v, dt += t, ht(dt += "ET"), b[St] = !0, g }; var $e = y.__private__.clip = y.clip = function (t) { return ht("evenodd" === t ? "W*" : "W"), this }; y.clipEvenOdd = function () { return $e("evenodd") }, y.__private__.discardPath = y.discardPath = function () { return ht("n"), this }; var Qe = y.__private__.isValidStyle = function (t) { var e = !1; return -1 !== [void 0, null, "S", "D", "F", "DF", "FD", "f", "f*", "B", "B*", "n"].indexOf(t) && (e = !0), e }; y.__private__.setDefaultPathOperation = y.setDefaultPathOperation = function (t) { return Qe(t) && (g = t), this }; var tr = y.__private__.getStyle = y.getStyle = function (t) { var e = g; switch (t) { case "D": case "S": e = "S"; break; case "F": e = "f"; break; case "FD": case "DF": e = "B"; break; case "f": case "f*": case "B": case "B*": e = t }return e }, er = y.close = function () { return ht("h"), this }; y.stroke = function () { return ht("S"), this }, y.fill = function (t) { return rr("f", t), this }, y.fillEvenOdd = function (t) { return rr("f*", t), this }, y.fillStroke = function (t) { return rr("B", t), this }, y.fillStrokeEvenOdd = function (t) { return rr("B*", t), this }; var rr = function (t, r) { "object" === e(r) ? ar(r, t) : ht(t) }, nr = function (t) { null === t || S === x.ADVANCED && void 0 === t || (t = tr(t), ht(t)) }; function ir(t, e, r, n, i) { var a = new B(e || this.boundingBox, r || this.xStep, n || this.yStep, this.gState, i || this.matrix); a.stream = this.stream; var o = t + "$$" + this.cloneIndex++ + "$$"; return Jt(o, a), a } var ar = function (t, e) { var r = Bt[t.key], n = Ot[r]; if (n instanceof O) ht("q"), ht(or(e)), n.gState && y.setGState(n.gState), ht(t.matrix.toString() + " cm"), ht("/" + r + " sh"), ht("Q"); else if (n instanceof B) { var i = new Vt(1, 0, 0, -1, 0, Rr()); t.matrix && (i = i.multiply(t.matrix || Yt), r = ir.call(n, t.key, t.boundingBox, t.xStep, t.yStep, i).id), ht("q"), ht("/Pattern cs"), ht("/" + r + " scn"), n.gState && y.setGState(n.gState), ht(e), ht("Q") } }, or = function (t) { switch (t) { case "f": case "F": return "W n"; case "f*": return "W* n"; case "B": return "W S"; case "B*": return "W* S"; case "S": return "W S"; case "n": return "W n" } }, sr = y.moveTo = function (t, e) { return ht(E(U(t)) + " " + E(H(e)) + " m"), this }, cr = y.lineTo = function (t, e) { return ht(E(U(t)) + " " + E(H(e)) + " l"), this }, ur = y.curveTo = function (t, e, r, n, i, a) { return ht([E(U(t)), E(H(e)), E(U(r)), E(H(n)), E(U(i)), E(H(a)), "c"].join(" ")), this }; y.__private__.line = y.line = function (t, e, r, n, i) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || !Qe(i)) throw new Error("Invalid arguments passed to jsPDF.line"); return S === x.COMPAT ? this.lines([[r - t, n - e]], t, e, [1, 1], i || "S") : this.lines([[r - t, n - e]], t, e, [1, 1]).stroke() }, y.__private__.lines = y.lines = function (t, e, r, n, i, a) { var o, s, c, u, l, h, f, d, p, g, m, v; if ("number" == typeof t && (v = r, r = e, e = t, t = v), n = n || [1, 1], a = a || !1, isNaN(e) || isNaN(r) || !Array.isArray(t) || !Array.isArray(n) || !Qe(i) || "boolean" != typeof a) throw new Error("Invalid arguments passed to jsPDF.lines"); for (sr(e, r), o = n[0], s = n[1], u = t.length, g = e, m = r, c = 0; c < u; c++)2 === (l = t[c]).length ? (g = l[0] * o + g, m = l[1] * s + m, cr(g, m)) : (h = l[0] * o + g, f = l[1] * s + m, d = l[2] * o + g, p = l[3] * s + m, g = l[4] * o + g, m = l[5] * s + m, ur(h, f, d, p, g, m)); return a && er(), nr(i), this }, y.path = function (t) { for (var e = 0; e < t.length; e++) { var r = t[e], n = r.c; switch (r.op) { case "m": sr(n[0], n[1]); break; case "l": cr(n[0], n[1]); break; case "c": ur.apply(this, n); break; case "h": er() } } return this }, y.__private__.rect = y.rect = function (t, e, r, n, i) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || !Qe(i)) throw new Error("Invalid arguments passed to jsPDF.rect"); return S === x.COMPAT && (n = -n), ht([E(U(t)), E(H(e)), E(U(r)), E(U(n)), "re"].join(" ")), nr(i), this }, y.__private__.triangle = y.triangle = function (t, e, r, n, i, a, o) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || isNaN(i) || isNaN(a) || !Qe(o)) throw new Error("Invalid arguments passed to jsPDF.triangle"); return this.lines([[r - t, n - e], [i - r, a - n], [t - i, e - a]], t, e, [1, 1], o, !0), this }, y.__private__.roundedRect = y.roundedRect = function (t, e, r, n, i, a, o) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || isNaN(i) || isNaN(a) || !Qe(o)) throw new Error("Invalid arguments passed to jsPDF.roundedRect"); var s = 4 / 3 * (Math.SQRT2 - 1); return i = Math.min(i, .5 * r), a = Math.min(a, .5 * n), this.lines([[r - 2 * i, 0], [i * s, 0, i, a - a * s, i, a], [0, n - 2 * a], [0, a * s, -i * s, a, -i, a], [2 * i - r, 0], [-i * s, 0, -i, -a * s, -i, -a], [0, 2 * a - n], [0, -a * s, i * s, -a, i, -a]], t + i, e, [1, 1], o, !0), this }, y.__private__.ellipse = y.ellipse = function (t, e, r, n, i) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || !Qe(i)) throw new Error("Invalid arguments passed to jsPDF.ellipse"); var a = 4 / 3 * (Math.SQRT2 - 1) * r, o = 4 / 3 * (Math.SQRT2 - 1) * n; return sr(t + r, e), ur(t + r, e - o, t + a, e - n, t, e - n), ur(t - a, e - n, t - r, e - o, t - r, e), ur(t - r, e + o, t - a, e + n, t, e + n), ur(t + a, e + n, t + r, e + o, t + r, e), nr(i), this }, y.__private__.circle = y.circle = function (t, e, r, n) { if (isNaN(t) || isNaN(e) || isNaN(r) || !Qe(n)) throw new Error("Invalid arguments passed to jsPDF.circle"); return this.ellipse(t, e, r, r, n) }, y.setFont = function (t, e, r) { return r && (e = j(e, r)), St = qe(t, e, { disableWarning: !1 }), this }; var lr = y.__private__.getFont = y.getFont = function () { return It[qe.apply(y, arguments)] }; y.__private__.getFontList = y.getFontList = function () { var t, e, r = {}; for (t in Ct) if (Ct.hasOwnProperty(t)) for (e in r[t] = [], Ct[t]) Ct[t].hasOwnProperty(e) && r[t].push(e); return r }, y.addFont = function (t, e, r, n, i) { var a = ["StandardEncoding", "MacRomanEncoding", "Identity-H", "WinAnsiEncoding"]; return arguments[3] && -1 !== a.indexOf(arguments[3]) ? i = arguments[3] : arguments[3] && -1 == a.indexOf(arguments[3]) && (r = j(r, n)), i = i || "Identity-H", Pe.call(this, t, e, r, i) }; var hr, fr = t.lineWidth || .200025, dr = y.__private__.getLineWidth = y.getLineWidth = function () { return fr }, pr = y.__private__.setLineWidth = y.setLineWidth = function (t) { return fr = t, ht(E(U(t)) + " w"), this }; y.__private__.setLineDash = M.API.setLineDash = M.API.setLineDashPattern = function (t, e) { if (t = t || [], e = e || 0, isNaN(e) || !Array.isArray(t)) throw new Error("Invalid arguments passed to jsPDF.setLineDash"); return t = t.map((function (t) { return E(U(t)) })).join(" "), e = E(U(e)), ht("[" + t + "] " + e + " d"), this }; var gr = y.__private__.getLineHeight = y.getLineHeight = function () { return gt * hr }; y.__private__.getLineHeight = y.getLineHeight = function () { return gt * hr }; var mr = y.__private__.setLineHeightFactor = y.setLineHeightFactor = function (t) { return "number" == typeof (t = t || 1.15) && (hr = t), this }, vr = y.__private__.getLineHeightFactor = y.getLineHeightFactor = function () { return hr }; mr(t.lineHeight); var br = y.__private__.getHorizontalCoordinate = function (t) { return U(t) }, yr = y.__private__.getVerticalCoordinate = function (t) { return S === x.ADVANCED ? t : Rt[$].mediaBox.topRightY - Rt[$].mediaBox.bottomLeftY - U(t) }, wr = y.__private__.getHorizontalCoordinateString = y.getHorizontalCoordinateString = function (t) { return E(br(t)) }, Nr = y.__private__.getVerticalCoordinateString = y.getVerticalCoordinateString = function (t) { return E(yr(t)) }, Lr = t.strokeColor || "0 G"; y.__private__.getStrokeColor = y.getDrawColor = function () { return ee(Lr) }, y.__private__.setStrokeColor = y.setDrawColor = function (t, e, r, n) { return Lr = re({ ch1: t, ch2: e, ch3: r, ch4: n, pdfColorType: "draw", precision: 2 }), ht(Lr), this }; var Ar = t.fillColor || "0 g"; y.__private__.getFillColor = y.getFillColor = function () { return ee(Ar) }, y.__private__.setFillColor = y.setFillColor = function (t, e, r, n) { return Ar = re({ ch1: t, ch2: e, ch3: r, ch4: n, pdfColorType: "fill", precision: 2 }), ht(Ar), this }; var xr = t.textColor || "0 g", Sr = y.__private__.getTextColor = y.getTextColor = function () { return ee(xr) }; y.__private__.setTextColor = y.setTextColor = function (t, e, r, n) { return xr = re({ ch1: t, ch2: e, ch3: r, ch4: n, pdfColorType: "text", precision: 3 }), this }; var _r = t.charSpace, Pr = y.__private__.getCharSpace = y.getCharSpace = function () { return parseFloat(_r || 0) }; y.__private__.setCharSpace = y.setCharSpace = function (t) { if (isNaN(t)) throw new Error("Invalid argument passed to jsPDF.setCharSpace"); return _r = t, this }; var kr = 0; y.CapJoinStyles = { 0: 0, butt: 0, but: 0, miter: 0, 1: 1, round: 1, rounded: 1, circle: 1, 2: 2, projecting: 2, project: 2, square: 2, bevel: 2 }, y.__private__.setLineCap = y.setLineCap = function (t) { var e = y.CapJoinStyles[t]; if (void 0 === e) throw new Error("Line cap style of '" + t + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return kr = e, ht(e + " J"), this }; var Fr = 0; y.__private__.setLineJoin = y.setLineJoin = function (t) { var e = y.CapJoinStyles[t]; if (void 0 === e) throw new Error("Line join style of '" + t + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return Fr = e, ht(e + " j"), this }, y.__private__.setLineMiterLimit = y.__private__.setMiterLimit = y.setLineMiterLimit = y.setMiterLimit = function (t) { if (t = t || 0, isNaN(t)) throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit"); return ht(E(U(t)) + " M"), this }, y.GState = C, y.setGState = function (t) { (t = "string" == typeof t ? Mt[Et[t]] : Ir(null, t)).equals(qt) || (ht("/" + t.id + " gs"), qt = t) }; var Ir = function (t, e) { if (!t || !Et[t]) { var r = !1; for (var n in Mt) if (Mt.hasOwnProperty(n) && Mt[n].equals(e)) { r = !0; break } if (r) e = Mt[n]; else { var i = "GS" + (Object.keys(Mt).length + 1).toString(10); Mt[i] = e, e.id = i } return t && (Et[t] = e.id), Tt.publish("addGState", e), e } }; y.addGState = function (t, e) { return Ir(t, e), this }, y.saveGraphicsState = function () { return ht("q"), jt.push({ key: St, size: gt, color: xr }), this }, y.restoreGraphicsState = function () { ht("Q"); var t = jt.pop(); return St = t.key, gt = t.size, xr = t.color, qt = null, this }, y.setCurrentTransformationMatrix = function (t) { return ht(t.toString() + " cm"), this }, y.comment = function (t) { return ht("#" + t), this }; var Cr = function (t, e) { var r = t || 0; Object.defineProperty(this, "x", { enumerable: !0, get: function () { return r }, set: function (t) { isNaN(t) || (r = parseFloat(t)) } }); var n = e || 0; Object.defineProperty(this, "y", { enumerable: !0, get: function () { return n }, set: function (t) { isNaN(t) || (n = parseFloat(t)) } }); var i = "pt"; return Object.defineProperty(this, "type", { enumerable: !0, get: function () { return i }, set: function (t) { i = t.toString() } }), this }, jr = function (t, e, r, n) { Cr.call(this, t, e), this.type = "rect"; var i = r || 0; Object.defineProperty(this, "w", { enumerable: !0, get: function () { return i }, set: function (t) { isNaN(t) || (i = parseFloat(t)) } }); var a = n || 0; return Object.defineProperty(this, "h", { enumerable: !0, get: function () { return a }, set: function (t) { isNaN(t) || (a = parseFloat(t)) } }), this }, Or = function () { this.page = Dt, this.currentPage = $, this.pages = ot.slice(0), this.pagesContext = Rt.slice(0), this.x = Pt, this.y = kt, this.matrix = Ft, this.width = qr($), this.height = Rr($), this.outputDestination = ct, this.id = "", this.objectNumber = -1 }; Or.prototype.restore = function () { Dt = this.page, $ = this.currentPage, Rt = this.pagesContext, ot = this.pages, Pt = this.x, kt = this.y, Ft = this.matrix, Dr($, this.width), Tr($, this.height), ct = this.outputDestination }; var Br = function (t, e, r, n, i) { Wt.push(new Or), Dt = $ = 0, ot = [], Pt = t, kt = e, Ft = i, je([r, n]) }, Mr = function (t) { if (Ht[t]) Wt.pop().restore(); else { var e = new Or, r = "Xo" + (Object.keys(zt).length + 1).toString(10); e.id = r, Ht[t] = r, zt[r] = e, Tt.publish("addFormObject", e), Wt.pop().restore() } }; for (var Er in y.beginFormObject = function (t, e, r, n, i) { return Br(t, e, r, n, i), this }, y.endFormObject = function (t) { return Mr(t), this }, y.doFormObject = function (t, e) { var r = zt[Ht[t]]; return ht("q"), ht(e.toString() + " cm"), ht("/" + r.id + " Do"), ht("Q"), this }, y.getFormObject = function (t) { var e = zt[Ht[t]]; return { x: e.x, y: e.y, width: e.width, height: e.height, matrix: e.matrix } }, y.save = function (t, e) { return t = t || "generated.pdf", (e = e || {}).returnPromise = e.returnPromise || !1, !1 === e.returnPromise ? (l(We(He()), t), "function" == typeof l.unload && r.setTimeout && setTimeout(l.unload, 911), this) : new Promise((function (e, n) { try { var i = l(We(He()), t); "function" == typeof l.unload && r.setTimeout && setTimeout(l.unload, 911), e(i) } catch (t) { n(t.message) } })) }, M.API) M.API.hasOwnProperty(Er) && ("events" === Er && M.API.events.length ? function (t, e) { var r, n, i; for (i = e.length - 1; -1 !== i; i--)r = e[i][0], n = e[i][1], t.subscribe.apply(t, [r].concat("function" == typeof n ? [n] : n)) }(Tt, M.API.events) : y[Er] = M.API[Er]); var qr = y.getPageWidth = function (t) { return (Rt[t = t || $].mediaBox.topRightX - Rt[t].mediaBox.bottomLeftX) / _t }, Dr = y.setPageWidth = function (t, e) { Rt[t].mediaBox.topRightX = e * _t + Rt[t].mediaBox.bottomLeftX }, Rr = y.getPageHeight = function (t) { return (Rt[t = t || $].mediaBox.topRightY - Rt[t].mediaBox.bottomLeftY) / _t }, Tr = y.setPageHeight = function (t, e) { Rt[t].mediaBox.topRightY = e * _t + Rt[t].mediaBox.bottomLeftY }; return y.internal = { pdfEscape: Ce, getStyle: tr, getFont: lr, getFontSize: vt, getCharSpace: Pr, getTextColor: Sr, getLineHeight: gr, getLineHeightFactor: vr, getLineWidth: dr, write: ft, getHorizontalCoordinate: br, getVerticalCoordinate: yr, getCoordinateString: wr, getVerticalCoordinateString: Nr, collections: {}, newObject: Xt, newAdditionalObject: $t, newObjectDeferred: Kt, newObjectDeferredBegin: Zt, getFilters: ne, putStream: ie, events: Tt, scaleFactor: _t, pageSize: { getWidth: function () { return qr($) }, setWidth: function (t) { Dr($, t) }, getHeight: function () { return Rr($) }, setHeight: function (t) { Tr($, t) } }, encryptionOptions: m, encryption: Ye, getEncryptor: Je, output: Ve, getNumberOfPages: Ee, pages: ot, out: ht, f2: R, f3: T, getPageInfo: Xe, getPageInfoByObjId: Ke, getCurrentPageInfo: Ze, getPDFVersion: N, Point: Cr, Rectangle: jr, Matrix: Vt, hasHotfix: Ge }, Object.defineProperty(y.internal.pageSize, "width", { get: function () { return qr($) }, set: function (t) { Dr($, t) }, enumerable: !0, configurable: !0 }), Object.defineProperty(y.internal.pageSize, "height", { get: function () { return Rr($) }, set: function (t) { Tr($, t) }, enumerable: !0, configurable: !0 }), ke.call(y, pt), St = "F1", Oe(s, a), Tt.publish("initialized"), y } k.prototype.lsbFirstWord = function (t) { return String.fromCharCode(t >> 0 & 255, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255) }, k.prototype.toHexString = function (t) { return t.split("").map((function (t) { return ("0" + (255 & t.charCodeAt(0)).toString(16)).slice(-2) })).join("") }, k.prototype.hexToBytes = function (t) { for (var e = [], r = 0; r < t.length; r += 2)e.push(String.fromCharCode(parseInt(t.substr(r, 2), 16))); return e.join("") }, k.prototype.processOwnerPassword = function (t, e) { return _(A(e).substr(0, 5), t) }, k.prototype.encryptor = function (t, e) { var r = A(this.encryptionKey + String.fromCharCode(255 & t, t >> 8 & 255, t >> 16 & 255, 255 & e, e >> 8 & 255)).substr(0, 10); return function (t) { return _(r, t) } }, C.prototype.equals = function (t) { var r, n = "id,objectNumber,equals"; if (!t || e(t) !== e(this)) return !1; var i = 0; for (r in this) if (!(n.indexOf(r) >= 0)) { if (this.hasOwnProperty(r) && !t.hasOwnProperty(r)) return !1; if (this[r] !== t[r]) return !1; i++ } for (r in t) t.hasOwnProperty(r) && n.indexOf(r) < 0 && i--; return 0 === i }, M.API = { events: [] }, M.version = "2.5.1"; var E = M.API, q = 1, D = function (t) { return t.replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, R = function (t) { return t.replace(/\\\\/g, "\\").replace(/\\\(/g, "(").replace(/\\\)/g, ")") }, T = function (t) { return t.toFixed(2) }, U = function (t) { return t.toFixed(5) }; E.__acroform__ = {}; var z = function (t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t }, H = function (t) { return t * q }, W = function (t) { var e = new ct, r = Lt.internal.getHeight(t) || 0, n = Lt.internal.getWidth(t) || 0; return e.BBox = [0, 0, Number(T(n)), Number(T(r))], e }, V = E.__acroform__.setBit = function (t, e) { if (t = t || 0, e = e || 0, isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit"); return t |= 1 << e }, G = E.__acroform__.clearBit = function (t, e) { if (t = t || 0, e = e || 0, isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit"); return t &= ~(1 << e) }, Y = E.__acroform__.getBit = function (t, e) { if (isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit"); return 0 == (t & 1 << e) ? 0 : 1 }, J = E.__acroform__.getBitForPdf = function (t, e) { if (isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf"); return Y(t, e - 1) }, X = E.__acroform__.setBitForPdf = function (t, e) { if (isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf"); return V(t, e - 1) }, K = E.__acroform__.clearBitForPdf = function (t, e) { if (isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf"); return G(t, e - 1) }, Z = E.__acroform__.calculateCoordinates = function (t, e) { var r = e.internal.getHorizontalCoordinate, n = e.internal.getVerticalCoordinate, i = t[0], a = t[1], o = t[2], s = t[3], c = {}; return c.lowerLeft_X = r(i) || 0, c.lowerLeft_Y = n(a + s) || 0, c.upperRight_X = r(i + o) || 0, c.upperRight_Y = n(a) || 0, [Number(T(c.lowerLeft_X)), Number(T(c.lowerLeft_Y)), Number(T(c.upperRight_X)), Number(T(c.upperRight_Y))] }, $ = function (t) { if (t.appearanceStreamContent) return t.appearanceStreamContent; if (t.V || t.DV) { var e = [], r = t._V || t.DV, n = Q(t, r), i = t.scope.internal.getFont(t.fontName, t.fontStyle).id; e.push("/Tx BMC"), e.push("q"), e.push("BT"), e.push(t.scope.__private__.encodeColorString(t.color)), e.push("/" + i + " " + T(n.fontSize) + " Tf"), e.push("1 0 0 1 0 0 Tm"), e.push(n.text), e.push("ET"), e.push("Q"), e.push("EMC"); var a = W(t); return a.scope = t.scope, a.stream = e.join("\n"), a } }, Q = function (t, e) { var r = 0 === t.fontSize ? t.maxFontSize : t.fontSize, n = { text: "", fontSize: "" }, i = (e = ")" == (e = "(" == e.substr(0, 1) ? e.substr(1) : e).substr(e.length - 1) ? e.substr(0, e.length - 1) : e).split(" "); i = t.multiline ? i.map((function (t) { return t.split("\n") })) : i.map((function (t) { return [t] })); var a = r, o = Lt.internal.getHeight(t) || 0; o = o < 0 ? -o : o; var s = Lt.internal.getWidth(t) || 0; s = s < 0 ? -s : s; var c = function (e, r, n) { if (e + 1 < i.length) { var a = r + " " + i[e + 1][0]; return tt(a, t, n).width <= s - 4 } return !1 }; a++; t: for (; a > 0;) { e = "", a--; var u, l, h = tt("3", t, a).height, f = t.multiline ? o - a : (o - h) / 2, d = f += 2, p = 0, g = 0, m = 0; if (a <= 0) { e = "(...) Tj\n", e += "% Width of Text: " + tt(e, t, a = 12).width + ", FieldWidth:" + s + "\n"; break } for (var v = "", b = 0, y = 0; y < i.length; y++)if (i.hasOwnProperty(y)) { var w = !1; if (1 !== i[y].length && m !== i[y].length - 1) { if ((h + 2) * (b + 2) + 2 > o) continue t; v += i[y][m], w = !0, g = y, y-- } else { v = " " == (v += i[y][m] + " ").substr(v.length - 1) ? v.substr(0, v.length - 1) : v; var N = parseInt(y), L = c(N, v, a), A = y >= i.length - 1; if (L && !A) { v += " ", m = 0; continue } if (L || A) { if (A) g = N; else if (t.multiline && (h + 2) * (b + 2) + 2 > o) continue t } else { if (!t.multiline) continue t; if ((h + 2) * (b + 2) + 2 > o) continue t; g = N } } for (var x = "", S = p; S <= g; S++) { var _ = i[S]; if (t.multiline) { if (S === g) { x += _[m] + " ", m = (m + 1) % _.length; continue } if (S === p) { x += _[_.length - 1] + " "; continue } } x += _[0] + " " } switch (x = " " == x.substr(x.length - 1) ? x.substr(0, x.length - 1) : x, l = tt(x, t, a).width, t.textAlign) { case "right": u = s - l - 2; break; case "center": u = (s - l) / 2; break; case "left": default: u = 2 }e += T(u) + " " + T(d) + " Td\n", e += "(" + D(x) + ") Tj\n", e += -T(u) + " 0 Td\n", d = -(a + 2), l = 0, p = w ? g : g + 1, b++, v = "" } else; break } return n.text = e, n.fontSize = a, n }, tt = function (t, e, r) { var n = e.scope.internal.getFont(e.fontName, e.fontStyle), i = e.scope.getStringUnitWidth(t, { font: n, fontSize: parseFloat(r), charSpace: 0 }) * parseFloat(r); return { height: e.scope.getStringUnitWidth("3", { font: n, fontSize: parseFloat(r), charSpace: 0 }) * parseFloat(r) * 1.5, width: i } }, et = { fields: [], xForms: [], acroFormDictionaryRoot: null, printedOut: !1, internal: null, isInitialized: !1 }, rt = function (t, e) { var r = { type: "reference", object: t }; void 0 === e.internal.getPageInfo(t.page).pageContext.annotations.find((function (t) { return t.type === r.type && t.object === r.object })) && e.internal.getPageInfo(t.page).pageContext.annotations.push(r) }, nt = function (t, r) { for (var n in t) if (t.hasOwnProperty(n)) { var i = n, a = t[n]; r.internal.newObjectDeferredBegin(a.objId, !0), "object" === e(a) && "function" == typeof a.putStream && a.putStream(), delete t[i] } }, it = function (t, r) { if (r.scope = t, void 0 !== t.internal && (void 0 === t.internal.acroformPlugin || !1 === t.internal.acroformPlugin.isInitialized)) { if (lt.FieldNum = 0, t.internal.acroformPlugin = JSON.parse(JSON.stringify(et)), t.internal.acroformPlugin.acroFormDictionaryRoot) throw new Error("Exception while creating AcroformDictionary"); q = t.internal.scaleFactor, t.internal.acroformPlugin.acroFormDictionaryRoot = new ut, t.internal.acroformPlugin.acroFormDictionaryRoot.scope = t, t.internal.acroformPlugin.acroFormDictionaryRoot._eventID = t.internal.events.subscribe("postPutResources", (function () { !function (t) { t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID), delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID, t.internal.acroformPlugin.printedOut = !0 }(t) })), t.internal.events.subscribe("buildDocument", (function () { !function (t) { t.internal.acroformPlugin.acroFormDictionaryRoot.objId = void 0; var e = t.internal.acroformPlugin.acroFormDictionaryRoot.Fields; for (var r in e) if (e.hasOwnProperty(r)) { var n = e[r]; n.objId = void 0, n.hasAnnotation && rt(n, t) } }(t) })), t.internal.events.subscribe("putCatalog", (function () { !function (t) { if (void 0 === t.internal.acroformPlugin.acroFormDictionaryRoot) throw new Error("putCatalogCallback: Root missing."); t.internal.write("/AcroForm " + t.internal.acroformPlugin.acroFormDictionaryRoot.objId + " 0 R") }(t) })), t.internal.events.subscribe("postPutPages", (function (r) { !function (t, r) { var n = !t; for (var i in t || (r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId, !0), r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()), t = t || r.internal.acroformPlugin.acroFormDictionaryRoot.Kids) if (t.hasOwnProperty(i)) { var a = t[i], o = [], s = a.Rect; if (a.Rect && (a.Rect = Z(a.Rect, r)), r.internal.newObjectDeferredBegin(a.objId, !0), a.DA = Lt.createDefaultAppearanceStream(a), "object" === e(a) && "function" == typeof a.getKeyValueListForStream && (o = a.getKeyValueListForStream()), a.Rect = s, a.hasAppearanceStream && !a.appearanceStreamContent) { var c = $(a); o.push({ key: "AP", value: "<</N " + c + ">>" }), r.internal.acroformPlugin.xForms.push(c) } if (a.appearanceStreamContent) { var u = ""; for (var l in a.appearanceStreamContent) if (a.appearanceStreamContent.hasOwnProperty(l)) { var h = a.appearanceStreamContent[l]; if (u += "/" + l + " ", u += "<<", Object.keys(h).length >= 1 || Array.isArray(h)) { for (var i in h) if (h.hasOwnProperty(i)) { var f = h[i]; "function" == typeof f && (f = f.call(r, a)), u += "/" + i + " " + f + " ", r.internal.acroformPlugin.xForms.indexOf(f) >= 0 || r.internal.acroformPlugin.xForms.push(f) } } else "function" == typeof (f = h) && (f = f.call(r, a)), u += "/" + i + " " + f, r.internal.acroformPlugin.xForms.indexOf(f) >= 0 || r.internal.acroformPlugin.xForms.push(f); u += ">>" } o.push({ key: "AP", value: "<<\n" + u + ">>" }) } r.internal.putStream({ additionalKeyValues: o, objectId: a.objId }), r.internal.out("endobj") } n && nt(r.internal.acroformPlugin.xForms, r) }(r, t) })), t.internal.acroformPlugin.isInitialized = !0 } }, at = E.__acroform__.arrayToPdfArray = function (t, r, n) { var i = function (t) { return t }; if (Array.isArray(t)) { for (var a = "[", o = 0; o < t.length; o++)switch (0 !== o && (a += " "), e(t[o])) { case "boolean": case "number": case "object": a += t[o].toString(); break; case "string": "/" !== t[o].substr(0, 1) ? (void 0 !== r && n && (i = n.internal.getEncryptor(r)), a += "(" + D(i(t[o].toString())) + ")") : a += t[o].toString() }return a += "]" } throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray") }; var ot = function (t, e, r) { var n = function (t) { return t }; return void 0 !== e && r && (n = r.internal.getEncryptor(e)), (t = t || "").toString(), t = "(" + D(n(t)) + ")" }, st = function () { this._objId = void 0, this._scope = void 0, Object.defineProperty(this, "objId", { get: function () { if (void 0 === this._objId) { if (void 0 === this.scope) return; this._objId = this.scope.internal.newObjectDeferred() } return this._objId }, set: function (t) { this._objId = t } }), Object.defineProperty(this, "scope", { value: this._scope, writable: !0 }) }; st.prototype.toString = function () { return this.objId + " 0 R" }, st.prototype.putStream = function () { var t = this.getKeyValueListForStream(); this.scope.internal.putStream({ data: this.stream, additionalKeyValues: t, objectId: this.objId }), this.scope.internal.out("endobj") }, st.prototype.getKeyValueListForStream = function () { var t = [], e = Object.getOwnPropertyNames(this).filter((function (t) { return "content" != t && "appearanceStreamContent" != t && "scope" != t && "objId" != t && "_" != t.substring(0, 1) })); for (var r in e) if (!1 === Object.getOwnPropertyDescriptor(this, e[r]).configurable) { var n = e[r], i = this[n]; i && (Array.isArray(i) ? t.push({ key: n, value: at(i, this.objId, this.scope) }) : i instanceof st ? (i.scope = this.scope, t.push({ key: n, value: i.objId + " 0 R" })) : "function" != typeof i && t.push({ key: n, value: i })) } return t }; var ct = function () { st.call(this), Object.defineProperty(this, "Type", { value: "/XObject", configurable: !1, writable: !0 }), Object.defineProperty(this, "Subtype", { value: "/Form", configurable: !1, writable: !0 }), Object.defineProperty(this, "FormType", { value: 1, configurable: !1, writable: !0 }); var t, e = []; Object.defineProperty(this, "BBox", { configurable: !1, get: function () { return e }, set: function (t) { e = t } }), Object.defineProperty(this, "Resources", { value: "2 0 R", configurable: !1, writable: !0 }), Object.defineProperty(this, "stream", { enumerable: !1, configurable: !0, set: function (e) { t = e.trim() }, get: function () { return t || null } }) }; z(ct, st); var ut = function () { st.call(this); var t, e = []; Object.defineProperty(this, "Kids", { enumerable: !1, configurable: !0, get: function () { return e.length > 0 ? e : void 0 } }), Object.defineProperty(this, "Fields", { enumerable: !1, configurable: !1, get: function () { return e } }), Object.defineProperty(this, "DA", { enumerable: !1, configurable: !1, get: function () { if (t) { var e = function (t) { return t }; return this.scope && (e = this.scope.internal.getEncryptor(this.objId)), "(" + D(e(t)) + ")" } }, set: function (e) { t = e } }) }; z(ut, st); var lt = function t() { st.call(this); var e = 4; Object.defineProperty(this, "F", { enumerable: !1, configurable: !1, get: function () { return e }, set: function (t) { if (isNaN(t)) throw new Error('Invalid value "' + t + '" for attribute F supplied.'); e = t } }), Object.defineProperty(this, "showWhenPrinted", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(e, 3)) }, set: function (t) { !0 === Boolean(t) ? this.F = X(e, 3) : this.F = K(e, 3) } }); var r = 0; Object.defineProperty(this, "Ff", { enumerable: !1, configurable: !1, get: function () { return r }, set: function (t) { if (isNaN(t)) throw new Error('Invalid value "' + t + '" for attribute Ff supplied.'); r = t } }); var n = []; Object.defineProperty(this, "Rect", { enumerable: !1, configurable: !1, get: function () { if (0 !== n.length) return n }, set: function (t) { n = void 0 !== t ? t : [] } }), Object.defineProperty(this, "x", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[0]) ? 0 : n[0] }, set: function (t) { n[0] = t } }), Object.defineProperty(this, "y", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[1]) ? 0 : n[1] }, set: function (t) { n[1] = t } }), Object.defineProperty(this, "width", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[2]) ? 0 : n[2] }, set: function (t) { n[2] = t } }), Object.defineProperty(this, "height", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[3]) ? 0 : n[3] }, set: function (t) { n[3] = t } }); var i = ""; Object.defineProperty(this, "FT", { enumerable: !0, configurable: !1, get: function () { return i }, set: function (t) { switch (t) { case "/Btn": case "/Tx": case "/Ch": case "/Sig": i = t; break; default: throw new Error('Invalid value "' + t + '" for attribute FT supplied.') } } }); var a = null; Object.defineProperty(this, "T", { enumerable: !0, configurable: !1, get: function () { if (!a || a.length < 1) { if (this instanceof bt) return; a = "FieldObject" + t.FieldNum++ } var e = function (t) { return t }; return this.scope && (e = this.scope.internal.getEncryptor(this.objId)), "(" + D(e(a)) + ")" }, set: function (t) { a = t.toString() } }), Object.defineProperty(this, "fieldName", { configurable: !0, enumerable: !0, get: function () { return a }, set: function (t) { a = t } }); var o = "helvetica"; Object.defineProperty(this, "fontName", { enumerable: !0, configurable: !0, get: function () { return o }, set: function (t) { o = t } }); var s = "normal"; Object.defineProperty(this, "fontStyle", { enumerable: !0, configurable: !0, get: function () { return s }, set: function (t) { s = t } }); var c = 0; Object.defineProperty(this, "fontSize", { enumerable: !0, configurable: !0, get: function () { return c }, set: function (t) { c = t } }); var u = void 0; Object.defineProperty(this, "maxFontSize", { enumerable: !0, configurable: !0, get: function () { return void 0 === u ? 50 / q : u }, set: function (t) { u = t } }); var l = "black"; Object.defineProperty(this, "color", { enumerable: !0, configurable: !0, get: function () { return l }, set: function (t) { l = t } }); var h = "/F1 0 Tf 0 g"; Object.defineProperty(this, "DA", { enumerable: !0, configurable: !1, get: function () { if (!(!h || this instanceof bt || this instanceof wt)) return ot(h, this.objId, this.scope) }, set: function (t) { t = t.toString(), h = t } }); var f = null; Object.defineProperty(this, "DV", { enumerable: !1, configurable: !1, get: function () { if (f) return this instanceof gt == !1 ? ot(f, this.objId, this.scope) : f }, set: function (t) { t = t.toString(), f = this instanceof gt == !1 ? "(" === t.substr(0, 1) ? R(t.substr(1, t.length - 2)) : R(t) : t } }), Object.defineProperty(this, "defaultValue", { enumerable: !0, configurable: !0, get: function () { return this instanceof gt == !0 ? R(f.substr(1, f.length - 1)) : f }, set: function (t) { t = t.toString(), f = this instanceof gt == !0 ? "/" + t : t } }); var d = null; Object.defineProperty(this, "_V", { enumerable: !1, configurable: !1, get: function () { if (d) return d }, set: function (t) { this.V = t } }), Object.defineProperty(this, "V", { enumerable: !1, configurable: !1, get: function () { if (d) return this instanceof gt == !1 ? ot(d, this.objId, this.scope) : d }, set: function (t) { t = t.toString(), d = this instanceof gt == !1 ? "(" === t.substr(0, 1) ? R(t.substr(1, t.length - 2)) : R(t) : t } }), Object.defineProperty(this, "value", { enumerable: !0, configurable: !0, get: function () { return this instanceof gt == !0 ? R(d.substr(1, d.length - 1)) : d }, set: function (t) { t = t.toString(), d = this instanceof gt == !0 ? "/" + t : t } }), Object.defineProperty(this, "hasAnnotation", { enumerable: !0, configurable: !0, get: function () { return this.Rect } }), Object.defineProperty(this, "Type", { enumerable: !0, configurable: !1, get: function () { return this.hasAnnotation ? "/Annot" : null } }), Object.defineProperty(this, "Subtype", { enumerable: !0, configurable: !1, get: function () { return this.hasAnnotation ? "/Widget" : null } }); var p, g = !1; Object.defineProperty(this, "hasAppearanceStream", { enumerable: !0, configurable: !0, get: function () { return g }, set: function (t) { t = Boolean(t), g = t } }), Object.defineProperty(this, "page", { enumerable: !0, configurable: !0, get: function () { if (p) return p }, set: function (t) { p = t } }), Object.defineProperty(this, "readOnly", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 1)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 1) : this.Ff = K(this.Ff, 1) } }), Object.defineProperty(this, "required", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 2)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 2) : this.Ff = K(this.Ff, 2) } }), Object.defineProperty(this, "noExport", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 3)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 3) : this.Ff = K(this.Ff, 3) } }); var m = null; Object.defineProperty(this, "Q", { enumerable: !0, configurable: !1, get: function () { if (null !== m) return m }, set: function (t) { if (-1 === [0, 1, 2].indexOf(t)) throw new Error('Invalid value "' + t + '" for attribute Q supplied.'); m = t } }), Object.defineProperty(this, "textAlign", { get: function () { var t; switch (m) { case 0: default: t = "left"; break; case 1: t = "center"; break; case 2: t = "right" }return t }, configurable: !0, enumerable: !0, set: function (t) { switch (t) { case "right": case 2: m = 2; break; case "center": case 1: m = 1; break; case "left": case 0: default: m = 0 } } }) }; z(lt, st); var ht = function () { lt.call(this), this.FT = "/Ch", this.V = "()", this.fontName = "zapfdingbats"; var t = 0; Object.defineProperty(this, "TI", { enumerable: !0, configurable: !1, get: function () { return t }, set: function (e) { t = e } }), Object.defineProperty(this, "topIndex", { enumerable: !0, configurable: !0, get: function () { return t }, set: function (e) { t = e } }); var e = []; Object.defineProperty(this, "Opt", { enumerable: !0, configurable: !1, get: function () { return at(e, this.objId, this.scope) }, set: function (t) { var r, n; n = [], "string" == typeof (r = t) && (n = function (t, e, r) { r || (r = 1); for (var n, i = []; n = e.exec(t);)i.push(n[r]); return i }(r, /\((.*?)\)/g)), e = n } }), this.getOptions = function () { return e }, this.setOptions = function (t) { e = t, this.sort && e.sort() }, this.addOption = function (t) { t = (t = t || "").toString(), e.push(t), this.sort && e.sort() }, this.removeOption = function (t, r) { for (r = r || !1, t = (t = t || "").toString(); -1 !== e.indexOf(t) && (e.splice(e.indexOf(t), 1), !1 !== r);); }, Object.defineProperty(this, "combo", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 18)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 18) : this.Ff = K(this.Ff, 18) } }), Object.defineProperty(this, "edit", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 19)) }, set: function (t) { !0 === this.combo && (!0 === Boolean(t) ? this.Ff = X(this.Ff, 19) : this.Ff = K(this.Ff, 19)) } }), Object.defineProperty(this, "sort", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 20)) }, set: function (t) { !0 === Boolean(t) ? (this.Ff = X(this.Ff, 20), e.sort()) : this.Ff = K(this.Ff, 20) } }), Object.defineProperty(this, "multiSelect", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 22)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 22) : this.Ff = K(this.Ff, 22) } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 23)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 23) : this.Ff = K(this.Ff, 23) } }), Object.defineProperty(this, "commitOnSelChange", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 27)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 27) : this.Ff = K(this.Ff, 27) } }), this.hasAppearanceStream = !1 }; z(ht, lt); var ft = function () { ht.call(this), this.fontName = "helvetica", this.combo = !1 }; z(ft, ht); var dt = function () { ft.call(this), this.combo = !0 }; z(dt, ft); var pt = function () { dt.call(this), this.edit = !0 }; z(pt, dt); var gt = function () { lt.call(this), this.FT = "/Btn", Object.defineProperty(this, "noToggleToOff", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 15)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 15) : this.Ff = K(this.Ff, 15) } }), Object.defineProperty(this, "radio", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 16)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 16) : this.Ff = K(this.Ff, 16) } }), Object.defineProperty(this, "pushButton", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 17)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 17) : this.Ff = K(this.Ff, 17) } }), Object.defineProperty(this, "radioIsUnison", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 26)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 26) : this.Ff = K(this.Ff, 26) } }); var t, r = {}; Object.defineProperty(this, "MK", { enumerable: !1, configurable: !1, get: function () { var t = function (t) { return t }; if (this.scope && (t = this.scope.internal.getEncryptor(this.objId)), 0 !== Object.keys(r).length) { var e, n = []; for (e in n.push("<<"), r) n.push("/" + e + " (" + D(t(r[e])) + ")"); return n.push(">>"), n.join("\n") } }, set: function (t) { "object" === e(t) && (r = t) } }), Object.defineProperty(this, "caption", { enumerable: !0, configurable: !0, get: function () { return r.CA || "" }, set: function (t) { "string" == typeof t && (r.CA = t) } }), Object.defineProperty(this, "AS", { enumerable: !1, configurable: !1, get: function () { return t }, set: function (e) { t = e } }), Object.defineProperty(this, "appearanceState", { enumerable: !0, configurable: !0, get: function () { return t.substr(1, t.length - 1) }, set: function (e) { t = "/" + e } }) }; z(gt, lt); var mt = function () { gt.call(this), this.pushButton = !0 }; z(mt, gt); var vt = function () { gt.call(this), this.radio = !0, this.pushButton = !1; var t = []; Object.defineProperty(this, "Kids", { enumerable: !0, configurable: !1, get: function () { return t }, set: function (e) { t = void 0 !== e ? e : [] } }) }; z(vt, gt); var bt = function () { var t, r; lt.call(this), Object.defineProperty(this, "Parent", { enumerable: !1, configurable: !1, get: function () { return t }, set: function (e) { t = e } }), Object.defineProperty(this, "optionName", { enumerable: !1, configurable: !0, get: function () { return r }, set: function (t) { r = t } }); var n, i = {}; Object.defineProperty(this, "MK", { enumerable: !1, configurable: !1, get: function () { var t = function (t) { return t }; this.scope && (t = this.scope.internal.getEncryptor(this.objId)); var e, r = []; for (e in r.push("<<"), i) r.push("/" + e + " (" + D(t(i[e])) + ")"); return r.push(">>"), r.join("\n") }, set: function (t) { "object" === e(t) && (i = t) } }), Object.defineProperty(this, "caption", { enumerable: !0, configurable: !0, get: function () { return i.CA || "" }, set: function (t) { "string" == typeof t && (i.CA = t) } }), Object.defineProperty(this, "AS", { enumerable: !1, configurable: !1, get: function () { return n }, set: function (t) { n = t } }), Object.defineProperty(this, "appearanceState", { enumerable: !0, configurable: !0, get: function () { return n.substr(1, n.length - 1) }, set: function (t) { n = "/" + t } }), this.caption = "l", this.appearanceState = "Off", this._AppearanceType = Lt.RadioButton.Circle, this.appearanceStreamContent = this._AppearanceType.createAppearanceStream(this.optionName) }; z(bt, lt), vt.prototype.setAppearance = function (t) { if (!("createAppearanceStream" in t) || !("getCA" in t)) throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!"); for (var e in this.Kids) if (this.Kids.hasOwnProperty(e)) { var r = this.Kids[e]; r.appearanceStreamContent = t.createAppearanceStream(r.optionName), r.caption = t.getCA() } }, vt.prototype.createOption = function (t) { var e = new bt; return e.Parent = this, e.optionName = t, this.Kids.push(e), At.call(this.scope, e), e }; var yt = function () { gt.call(this), this.fontName = "zapfdingbats", this.caption = "3", this.appearanceState = "On", this.value = "On", this.textAlign = "center", this.appearanceStreamContent = Lt.CheckBox.createAppearanceStream() }; z(yt, gt); var wt = function () { lt.call(this), this.FT = "/Tx", Object.defineProperty(this, "multiline", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 13)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 13) : this.Ff = K(this.Ff, 13) } }), Object.defineProperty(this, "fileSelect", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 21)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 21) : this.Ff = K(this.Ff, 21) } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 23)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 23) : this.Ff = K(this.Ff, 23) } }), Object.defineProperty(this, "doNotScroll", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 24)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 24) : this.Ff = K(this.Ff, 24) } }), Object.defineProperty(this, "comb", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 25)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 25) : this.Ff = K(this.Ff, 25) } }), Object.defineProperty(this, "richText", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 26)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 26) : this.Ff = K(this.Ff, 26) } }); var t = null; Object.defineProperty(this, "MaxLen", { enumerable: !0, configurable: !1, get: function () { return t }, set: function (e) { t = e } }), Object.defineProperty(this, "maxLength", { enumerable: !0, configurable: !0, get: function () { return t }, set: function (e) { Number.isInteger(e) && (t = e) } }), Object.defineProperty(this, "hasAppearanceStream", { enumerable: !0, configurable: !0, get: function () { return this.V || this.DV } }) }; z(wt, lt); var Nt = function () { wt.call(this), Object.defineProperty(this, "password", { enumerable: !0, configurable: !0, get: function () { return Boolean(J(this.Ff, 14)) }, set: function (t) { !0 === Boolean(t) ? this.Ff = X(this.Ff, 14) : this.Ff = K(this.Ff, 14) } }), this.password = !0 }; z(Nt, wt); var Lt = { CheckBox: { createAppearanceStream: function () { return { N: { On: Lt.CheckBox.YesNormal }, D: { On: Lt.CheckBox.YesPushDown, Off: Lt.CheckBox.OffPushDown } } }, YesPushDown: function (t) { var e = W(t); e.scope = t.scope; var r = [], n = t.scope.internal.getFont(t.fontName, t.fontStyle).id, i = t.scope.__private__.encodeColorString(t.color), a = Q(t, t.caption); return r.push("0.749023 g"), r.push("0 0 " + T(Lt.internal.getWidth(t)) + " " + T(Lt.internal.getHeight(t)) + " re"), r.push("f"), r.push("BMC"), r.push("q"), r.push("0 0 1 rg"), r.push("/" + n + " " + T(a.fontSize) + " Tf " + i), r.push("BT"), r.push(a.text), r.push("ET"), r.push("Q"), r.push("EMC"), e.stream = r.join("\n"), e }, YesNormal: function (t) { var e = W(t); e.scope = t.scope; var r = t.scope.internal.getFont(t.fontName, t.fontStyle).id, n = t.scope.__private__.encodeColorString(t.color), i = [], a = Lt.internal.getHeight(t), o = Lt.internal.getWidth(t), s = Q(t, t.caption); return i.push("1 g"), i.push("0 0 " + T(o) + " " + T(a) + " re"), i.push("f"), i.push("q"), i.push("0 0 1 rg"), i.push("0 0 " + T(o - 1) + " " + T(a - 1) + " re"), i.push("W"), i.push("n"), i.push("0 g"), i.push("BT"), i.push("/" + r + " " + T(s.fontSize) + " Tf " + n), i.push(s.text), i.push("ET"), i.push("Q"), e.stream = i.join("\n"), e }, OffPushDown: function (t) { var e = W(t); e.scope = t.scope; var r = []; return r.push("0.749023 g"), r.push("0 0 " + T(Lt.internal.getWidth(t)) + " " + T(Lt.internal.getHeight(t)) + " re"), r.push("f"), e.stream = r.join("\n"), e } }, RadioButton: { Circle: { createAppearanceStream: function (t) { var e = { D: { Off: Lt.RadioButton.Circle.OffPushDown }, N: {} }; return e.N[t] = Lt.RadioButton.Circle.YesNormal, e.D[t] = Lt.RadioButton.Circle.YesPushDown, e }, getCA: function () { return "l" }, YesNormal: function (t) { var e = W(t); e.scope = t.scope; var r = [], n = Lt.internal.getWidth(t) <= Lt.internal.getHeight(t) ? Lt.internal.getWidth(t) / 4 : Lt.internal.getHeight(t) / 4; n = Number((.9 * n).toFixed(5)); var i = Lt.internal.Bezier_C, a = Number((n * i).toFixed(5)); return r.push("q"), r.push("1 0 0 1 " + U(Lt.internal.getWidth(t) / 2) + " " + U(Lt.internal.getHeight(t) / 2) + " cm"), r.push(n + " 0 m"), r.push(n + " " + a + " " + a + " " + n + " 0 " + n + " c"), r.push("-" + a + " " + n + " -" + n + " " + a + " -" + n + " 0 c"), r.push("-" + n + " -" + a + " -" + a + " -" + n + " 0 -" + n + " c"), r.push(a + " -" + n + " " + n + " -" + a + " " + n + " 0 c"), r.push("f"), r.push("Q"), e.stream = r.join("\n"), e }, YesPushDown: function (t) { var e = W(t); e.scope = t.scope; var r = [], n = Lt.internal.getWidth(t) <= Lt.internal.getHeight(t) ? Lt.internal.getWidth(t) / 4 : Lt.internal.getHeight(t) / 4; n = Number((.9 * n).toFixed(5)); var i = Number((2 * n).toFixed(5)), a = Number((i * Lt.internal.Bezier_C).toFixed(5)), o = Number((n * Lt.internal.Bezier_C).toFixed(5)); return r.push("0.749023 g"), r.push("q"), r.push("1 0 0 1 " + U(Lt.internal.getWidth(t) / 2) + " " + U(Lt.internal.getHeight(t) / 2) + " cm"), r.push(i + " 0 m"), r.push(i + " " + a + " " + a + " " + i + " 0 " + i + " c"), r.push("-" + a + " " + i + " -" + i + " " + a + " -" + i + " 0 c"), r.push("-" + i + " -" + a + " -" + a + " -" + i + " 0 -" + i + " c"), r.push(a + " -" + i + " " + i + " -" + a + " " + i + " 0 c"), r.push("f"), r.push("Q"), r.push("0 g"), r.push("q"), r.push("1 0 0 1 " + U(Lt.internal.getWidth(t) / 2) + " " + U(Lt.internal.getHeight(t) / 2) + " cm"), r.push(n + " 0 m"), r.push(n + " " + o + " " + o + " " + n + " 0 " + n + " c"), r.push("-" + o + " " + n + " -" + n + " " + o + " -" + n + " 0 c"), r.push("-" + n + " -" + o + " -" + o + " -" + n + " 0 -" + n + " c"), r.push(o + " -" + n + " " + n + " -" + o + " " + n + " 0 c"), r.push("f"), r.push("Q"), e.stream = r.join("\n"), e }, OffPushDown: function (t) { var e = W(t); e.scope = t.scope; var r = [], n = Lt.internal.getWidth(t) <= Lt.internal.getHeight(t) ? Lt.internal.getWidth(t) / 4 : Lt.internal.getHeight(t) / 4; n = Number((.9 * n).toFixed(5)); var i = Number((2 * n).toFixed(5)), a = Number((i * Lt.internal.Bezier_C).toFixed(5)); return r.push("0.749023 g"), r.push("q"), r.push("1 0 0 1 " + U(Lt.internal.getWidth(t) / 2) + " " + U(Lt.internal.getHeight(t) / 2) + " cm"), r.push(i + " 0 m"), r.push(i + " " + a + " " + a + " " + i + " 0 " + i + " c"), r.push("-" + a + " " + i + " -" + i + " " + a + " -" + i + " 0 c"), r.push("-" + i + " -" + a + " -" + a + " -" + i + " 0 -" + i + " c"), r.push(a + " -" + i + " " + i + " -" + a + " " + i + " 0 c"), r.push("f"), r.push("Q"), e.stream = r.join("\n"), e } }, Cross: { createAppearanceStream: function (t) { var e = { D: { Off: Lt.RadioButton.Cross.OffPushDown }, N: {} }; return e.N[t] = Lt.RadioButton.Cross.YesNormal, e.D[t] = Lt.RadioButton.Cross.YesPushDown, e }, getCA: function () { return "8" }, YesNormal: function (t) { var e = W(t); e.scope = t.scope; var r = [], n = Lt.internal.calculateCross(t); return r.push("q"), r.push("1 1 " + T(Lt.internal.getWidth(t) - 2) + " " + T(Lt.internal.getHeight(t) - 2) + " re"), r.push("W"), r.push("n"), r.push(T(n.x1.x) + " " + T(n.x1.y) + " m"), r.push(T(n.x2.x) + " " + T(n.x2.y) + " l"), r.push(T(n.x4.x) + " " + T(n.x4.y) + " m"), r.push(T(n.x3.x) + " " + T(n.x3.y) + " l"), r.push("s"), r.push("Q"), e.stream = r.join("\n"), e }, YesPushDown: function (t) { var e = W(t); e.scope = t.scope; var r = Lt.internal.calculateCross(t), n = []; return n.push("0.749023 g"), n.push("0 0 " + T(Lt.internal.getWidth(t)) + " " + T(Lt.internal.getHeight(t)) + " re"), n.push("f"), n.push("q"), n.push("1 1 " + T(Lt.internal.getWidth(t) - 2) + " " + T(Lt.internal.getHeight(t) - 2) + " re"), n.push("W"), n.push("n"), n.push(T(r.x1.x) + " " + T(r.x1.y) + " m"), n.push(T(r.x2.x) + " " + T(r.x2.y) + " l"), n.push(T(r.x4.x) + " " + T(r.x4.y) + " m"), n.push(T(r.x3.x) + " " + T(r.x3.y) + " l"), n.push("s"), n.push("Q"), e.stream = n.join("\n"), e }, OffPushDown: function (t) { var e = W(t); e.scope = t.scope; var r = []; return r.push("0.749023 g"), r.push("0 0 " + T(Lt.internal.getWidth(t)) + " " + T(Lt.internal.getHeight(t)) + " re"), r.push("f"), e.stream = r.join("\n"), e } } }, createDefaultAppearanceStream: function (t) { var e = t.scope.internal.getFont(t.fontName, t.fontStyle).id, r = t.scope.__private__.encodeColorString(t.color); return "/" + e + " " + t.fontSize + " Tf " + r } }; Lt.internal = { Bezier_C: .551915024494, calculateCross: function (t) { var e = Lt.internal.getWidth(t), r = Lt.internal.getHeight(t), n = Math.min(e, r); return { x1: { x: (e - n) / 2, y: (r - n) / 2 + n }, x2: { x: (e - n) / 2 + n, y: (r - n) / 2 }, x3: { x: (e - n) / 2, y: (r - n) / 2 }, x4: { x: (e - n) / 2 + n, y: (r - n) / 2 + n } } } }, Lt.internal.getWidth = function (t) { var r = 0; return "object" === e(t) && (r = H(t.Rect[2])), r }, Lt.internal.getHeight = function (t) { var r = 0; return "object" === e(t) && (r = H(t.Rect[3])), r }; var At = E.addField = function (t) { if (it(this, t), !(t instanceof lt)) throw new Error("Invalid argument passed to jsPDF.addField."); var e; return (e = t).scope.internal.acroformPlugin.printedOut && (e.scope.internal.acroformPlugin.printedOut = !1, e.scope.internal.acroformPlugin.acroFormDictionaryRoot = null), e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e), t.page = t.scope.internal.getCurrentPageInfo().pageNumber, this }; E.AcroFormChoiceField = ht, E.AcroFormListBox = ft, E.AcroFormComboBox = dt, E.AcroFormEditBox = pt, E.AcroFormButton = gt, E.AcroFormPushButton = mt, E.AcroFormRadioButton = vt, E.AcroFormCheckBox = yt, E.AcroFormTextField = wt, E.AcroFormPasswordField = Nt, E.AcroFormAppearance = Lt, E.AcroForm = { ChoiceField: ht, ListBox: ft, ComboBox: dt, EditBox: pt, Button: gt, PushButton: mt, RadioButton: vt, CheckBox: yt, TextField: wt, PasswordField: Nt, Appearance: Lt }, M.AcroForm = { ChoiceField: ht, ListBox: ft, ComboBox: dt, EditBox: pt, Button: gt, PushButton: mt, RadioButton: vt, CheckBox: yt, TextField: wt, PasswordField: Nt, Appearance: Lt }; var xt = M.AcroForm; function St(t) { return t.reduce((function (t, e, r) { return t[e] = r, t }), {}) } !function (t) { t.__addimage__ = {}; var r = "UNKNOWN", n = { PNG: [[137, 80, 78, 71]], TIFF: [[77, 77, 0, 42], [73, 73, 42, 0]], JPEG: [[255, 216, 255, 224, void 0, void 0, 74, 70, 73, 70, 0], [255, 216, 255, 225, void 0, void 0, 69, 120, 105, 102, 0, 0], [255, 216, 255, 219], [255, 216, 255, 238]], JPEG2000: [[0, 0, 0, 12, 106, 80, 32, 32]], GIF87a: [[71, 73, 70, 56, 55, 97]], GIF89a: [[71, 73, 70, 56, 57, 97]], WEBP: [[82, 73, 70, 70, void 0, void 0, void 0, void 0, 87, 69, 66, 80]], BMP: [[66, 77], [66, 65], [67, 73], [67, 80], [73, 67], [80, 84]] }, i = t.__addimage__.getImageFileTypeByImageData = function (t, e) { var i, a, o, s, c, u = r; if ("RGBA" === (e = e || r) || void 0 !== t.data && t.data instanceof Uint8ClampedArray && "height" in t && "width" in t) return "RGBA"; if (x(t)) for (c in n) for (o = n[c], i = 0; i < o.length; i += 1) { for (s = !0, a = 0; a < o[i].length; a += 1)if (void 0 !== o[i][a] && o[i][a] !== t[a]) { s = !1; break } if (!0 === s) { u = c; break } } else for (c in n) for (o = n[c], i = 0; i < o.length; i += 1) { for (s = !0, a = 0; a < o[i].length; a += 1)if (void 0 !== o[i][a] && o[i][a] !== t.charCodeAt(a)) { s = !1; break } if (!0 === s) { u = c; break } } return u === r && e !== r && (u = e), u }, a = function t(e) { for (var r = this.internal.write, n = this.internal.putStream, i = (0, this.internal.getFilters)(); -1 !== i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"), 1); e.objectId = this.internal.newObject(); var a = []; if (a.push({ key: "Type", value: "/XObject" }), a.push({ key: "Subtype", value: "/Image" }), a.push({ key: "Width", value: e.width }), a.push({ key: "Height", value: e.height }), e.colorSpace === b.INDEXED ? a.push({ key: "ColorSpace", value: "[/Indexed /DeviceRGB " + (e.palette.length / 3 - 1) + " " + ("sMask" in e && void 0 !== e.sMask ? e.objectId + 2 : e.objectId + 1) + " 0 R]" }) : (a.push({ key: "ColorSpace", value: "/" + e.colorSpace }), e.colorSpace === b.DEVICE_CMYK && a.push({ key: "Decode", value: "[1 0 1 0 1 0 1 0]" })), a.push({ key: "BitsPerComponent", value: e.bitsPerComponent }), "decodeParameters" in e && void 0 !== e.decodeParameters && a.push({ key: "DecodeParms", value: "<<" + e.decodeParameters + ">>" }), "transparency" in e && Array.isArray(e.transparency)) { for (var o = "", s = 0, c = e.transparency.length; s < c; s++)o += e.transparency[s] + " " + e.transparency[s] + " "; a.push({ key: "Mask", value: "[" + o + "]" }) } void 0 !== e.sMask && a.push({ key: "SMask", value: e.objectId + 1 + " 0 R" }); var u = void 0 !== e.filter ? ["/" + e.filter] : void 0; if (n({ data: e.data, additionalKeyValues: a, alreadyAppliedFilters: u, objectId: e.objectId }), r("endobj"), "sMask" in e && void 0 !== e.sMask) { var l = "/Predictor " + e.predictor + " /Colors 1 /BitsPerComponent " + e.bitsPerComponent + " /Columns " + e.width, h = { width: e.width, height: e.height, colorSpace: "DeviceGray", bitsPerComponent: e.bitsPerComponent, decodeParameters: l, data: e.sMask }; "filter" in e && (h.filter = e.filter), t.call(this, h) } if (e.colorSpace === b.INDEXED) { var f = this.internal.newObject(); n({ data: _(new Uint8Array(e.palette)), objectId: f }), r("endobj") } }, o = function () { var t = this.internal.collections.addImage_images; for (var e in t) a.call(this, t[e]) }, s = function () { var t, e = this.internal.collections.addImage_images, r = this.internal.write; for (var n in e) r("/I" + (t = e[n]).index, t.objectId, "0", "R") }, u = function () { this.internal.collections.addImage_images || (this.internal.collections.addImage_images = {}, this.internal.events.subscribe("putResources", o), this.internal.events.subscribe("putXobjectDict", s)) }, l = function () { var t = this.internal.collections.addImage_images; return u.call(this), t }, h = function () { return Object.keys(this.internal.collections.addImage_images).length }, f = function (e) { return "function" == typeof t["process" + e.toUpperCase()] }, d = function (t) { return "object" === e(t) && 1 === t.nodeType }, p = function (e, r) { if ("IMG" === e.nodeName && e.hasAttribute("src")) { var n = "" + e.getAttribute("src"); if (0 === n.indexOf("data:image/")) return c(unescape(n).split("base64,").pop()); var i = t.loadFile(n, !0); if (void 0 !== i) return i } if ("CANVAS" === e.nodeName) { if (0 === e.width || 0 === e.height) throw new Error("Given canvas must have data. Canvas width: " + e.width + ", height: " + e.height); var a; switch (r) { case "PNG": a = "image/png"; break; case "WEBP": a = "image/webp"; break; case "JPEG": case "JPG": default: a = "image/jpeg" }return c(e.toDataURL(a, 1).split("base64,").pop()) } }, g = function (t) { var e = this.internal.collections.addImage_images; if (e) for (var r in e) if (t === e[r].alias) return e[r] }, m = function (t, e, r) { return t || e || (t = -96, e = -96), t < 0 && (t = -1 * r.width * 72 / t / this.internal.scaleFactor), e < 0 && (e = -1 * r.height * 72 / e / this.internal.scaleFactor), 0 === t && (t = e * r.width / r.height), 0 === e && (e = t * r.height / r.width), [t, e] }, v = function (t, e, r, n, i, a) { var o = m.call(this, r, n, i), s = this.internal.getCoordinateString, c = this.internal.getVerticalCoordinateString, u = l.call(this); if (r = o[0], n = o[1], u[i.index] = i, a) { a *= Math.PI / 180; var h = Math.cos(a), f = Math.sin(a), d = function (t) { return t.toFixed(4) }, p = [d(h), d(f), d(-1 * f), d(h), 0, 0, "cm"] } this.internal.write("q"), a ? (this.internal.write([1, "0", "0", 1, s(t), c(e + n), "cm"].join(" ")), this.internal.write(p.join(" ")), this.internal.write([s(r), "0", "0", s(n), "0", "0", "cm"].join(" "))) : this.internal.write([s(r), "0", "0", s(n), s(t), c(e + n), "cm"].join(" ")), this.isAdvancedAPI() && this.internal.write([1, 0, 0, -1, 0, 0, "cm"].join(" ")), this.internal.write("/I" + i.index + " Do"), this.internal.write("Q") }, b = t.color_spaces = { DEVICE_RGB: "DeviceRGB", DEVICE_GRAY: "DeviceGray", DEVICE_CMYK: "DeviceCMYK", CAL_GREY: "CalGray", CAL_RGB: "CalRGB", LAB: "Lab", ICC_BASED: "ICCBased", INDEXED: "Indexed", PATTERN: "Pattern", SEPARATION: "Separation", DEVICE_N: "DeviceN" }; t.decode = { DCT_DECODE: "DCTDecode", FLATE_DECODE: "FlateDecode", LZW_DECODE: "LZWDecode", JPX_DECODE: "JPXDecode", JBIG2_DECODE: "JBIG2Decode", ASCII85_DECODE: "ASCII85Decode", ASCII_HEX_DECODE: "ASCIIHexDecode", RUN_LENGTH_DECODE: "RunLengthDecode", CCITT_FAX_DECODE: "CCITTFaxDecode" }; var y = t.image_compression = { NONE: "NONE", FAST: "FAST", MEDIUM: "MEDIUM", SLOW: "SLOW" }, w = t.__addimage__.sHashCode = function (t) { var e, r, n = 0; if ("string" == typeof t) for (r = t.length, e = 0; e < r; e++)n = (n << 5) - n + t.charCodeAt(e), n |= 0; else if (x(t)) for (r = t.byteLength / 2, e = 0; e < r; e++)n = (n << 5) - n + t[e], n |= 0; return n }, N = t.__addimage__.validateStringAsBase64 = function (t) { (t = t || "").toString().trim(); var e = !0; return 0 === t.length && (e = !1), t.length % 4 != 0 && (e = !1), !1 === /^[A-Za-z0-9+/]+$/.test(t.substr(0, t.length - 2)) && (e = !1), !1 === /^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2)) && (e = !1), e }, L = t.__addimage__.extractImageFromDataUrl = function (t) { var e = (t = t || "").split("base64,"), r = null; if (2 === e.length) { var n = /^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(e[0]); Array.isArray(n) && (r = { mimeType: n[1], charset: n[2], data: e[1] }) } return r }, A = t.__addimage__.supportsArrayBuffer = function () { return "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array }; t.__addimage__.isArrayBuffer = function (t) { return A() && t instanceof ArrayBuffer }; var x = t.__addimage__.isArrayBufferView = function (t) { return A() && "undefined" != typeof Uint32Array && (t instanceof Int8Array || t instanceof Uint8Array || "undefined" != typeof Uint8ClampedArray && t instanceof Uint8ClampedArray || t instanceof Int16Array || t instanceof Uint16Array || t instanceof Int32Array || t instanceof Uint32Array || t instanceof Float32Array || t instanceof Float64Array) }, S = t.__addimage__.binaryStringToUint8Array = function (t) { for (var e = t.length, r = new Uint8Array(e), n = 0; n < e; n++)r[n] = t.charCodeAt(n); return r }, _ = t.__addimage__.arrayBufferToBinaryString = function (t) { for (var e = "", r = x(t) ? t : new Uint8Array(t), n = 0; n < r.length; n += 8192)e += String.fromCharCode.apply(null, r.subarray(n, n + 8192)); return e }; t.addImage = function () { var t, n, i, a, o, s, c, l, h; if ("number" == typeof arguments[1] ? (n = r, i = arguments[1], a = arguments[2], o = arguments[3], s = arguments[4], c = arguments[5], l = arguments[6], h = arguments[7]) : (n = arguments[1], i = arguments[2], a = arguments[3], o = arguments[4], s = arguments[5], c = arguments[6], l = arguments[7], h = arguments[8]), "object" === e(t = arguments[0]) && !d(t) && "imageData" in t) { var f = t; t = f.imageData, n = f.format || n || r, i = f.x || i || 0, a = f.y || a || 0, o = f.w || f.width || o, s = f.h || f.height || s, c = f.alias || c, l = f.compression || l, h = f.rotation || f.angle || h } var p = this.internal.getFilters(); if (void 0 === l && -1 !== p.indexOf("FlateEncode") && (l = "SLOW"), isNaN(i) || isNaN(a)) throw new Error("Invalid coordinates passed to jsPDF.addImage"); u.call(this); var g = P.call(this, t, n, c, l); return v.call(this, i, a, o, s, g, h), this }; var P = function (e, n, a, o) { var s, c, u; if ("string" == typeof e && i(e) === r) { e = unescape(e); var l = k(e, !1); ("" !== l || void 0 !== (l = t.loadFile(e, !0))) && (e = l) } if (d(e) && (e = p(e, n)), n = i(e, n), !f(n)) throw new Error("addImage does not support files of type '" + n + "', please ensure that a plugin for '" + n + "' support is added."); if ((null == (u = a) || 0 === u.length) && (a = function (t) { return "string" == typeof t || x(t) ? w(t) : x(t.data) ? w(t.data) : null }(e)), (s = g.call(this, a)) || (A() && (e instanceof Uint8Array || "RGBA" === n || (c = e, e = S(e))), s = this["process" + n.toUpperCase()](e, h.call(this), a, function (e) { return e && "string" == typeof e && (e = e.toUpperCase()), e in t.image_compression ? e : y.NONE }(o), c)), !s) throw new Error("An unknown error occurred whilst processing the image."); return s }, k = t.__addimage__.convertBase64ToBinaryString = function (t, e) { var r; e = "boolean" != typeof e || e; var n, i = ""; if ("string" == typeof t) { n = null !== (r = L(t)) ? r.data : t; try { i = c(n) } catch (t) { if (e) throw N(n) ? new Error("atob-Error in jsPDF.convertBase64ToBinaryString " + t.message) : new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ") } } return i }; t.getImageProperties = function (e) { var n, a, o = ""; if (d(e) && (e = p(e)), "string" == typeof e && i(e) === r && ("" === (o = k(e, !1)) && (o = t.loadFile(e) || ""), e = o), a = i(e), !f(a)) throw new Error("addImage does not support files of type '" + a + "', please ensure that a plugin for '" + a + "' support is added."); if (!A() || e instanceof Uint8Array || (e = S(e)), !(n = this["process" + a.toUpperCase()](e))) throw new Error("An unknown error occurred whilst processing the image"); return n.fileType = a, n } }(M.API),
        /**
           * @license
           * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { var e = function (t) { if (void 0 !== t && "" != t) return !0 }; M.API.events.push(["addPage", function (t) { this.internal.getPageInfo(t.pageNumber).pageContext.annotations = [] }]), t.events.push(["putPage", function (t) { for (var r, n, i, a = this.internal.getCoordinateString, o = this.internal.getVerticalCoordinateString, s = this.internal.getPageInfoByObjId(t.objId), c = t.pageContext.annotations, u = !1, l = 0; l < c.length && !u; l++)switch ((r = c[l]).type) { case "link": (e(r.options.url) || e(r.options.pageNumber)) && (u = !0); break; case "reference": case "text": case "freetext": u = !0 }if (0 != u) { this.internal.write("/Annots ["); for (var h = 0; h < c.length; h++) { r = c[h]; var f = this.internal.pdfEscape, d = this.internal.getEncryptor(t.objId); switch (r.type) { case "reference": this.internal.write(" " + r.object.objId + " 0 R "); break; case "text": var p = this.internal.newAdditionalObject(), g = this.internal.newAdditionalObject(), m = this.internal.getEncryptor(p.objId), v = r.title || "Note"; i = "<</Type /Annot /Subtype /Text " + (n = "/Rect [" + a(r.bounds.x) + " " + o(r.bounds.y + r.bounds.h) + " " + a(r.bounds.x + r.bounds.w) + " " + o(r.bounds.y) + "] ") + "/Contents (" + f(m(r.contents)) + ")", i += " /Popup " + g.objId + " 0 R", i += " /P " + s.objId + " 0 R", i += " /T (" + f(m(v)) + ") >>", p.content = i; var b = p.objId + " 0 R"; i = "<</Type /Annot /Subtype /Popup " + (n = "/Rect [" + a(r.bounds.x + 30) + " " + o(r.bounds.y + r.bounds.h) + " " + a(r.bounds.x + r.bounds.w + 30) + " " + o(r.bounds.y) + "] ") + " /Parent " + b, r.open && (i += " /Open true"), i += " >>", g.content = i, this.internal.write(p.objId, "0 R", g.objId, "0 R"); break; case "freetext": n = "/Rect [" + a(r.bounds.x) + " " + o(r.bounds.y) + " " + a(r.bounds.x + r.bounds.w) + " " + o(r.bounds.y + r.bounds.h) + "] "; var y = r.color || "#000000"; i = "<</Type /Annot /Subtype /FreeText " + n + "/Contents (" + f(d(r.contents)) + ")", i += " /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#" + y + ")", i += " /Border [0 0 0]", i += " >>", this.internal.write(i); break; case "link": if (r.options.name) { var w = this.annotations._nameMap[r.options.name]; r.options.pageNumber = w.page, r.options.top = w.y } else r.options.top || (r.options.top = 0); if (n = "/Rect [" + r.finalBounds.x + " " + r.finalBounds.y + " " + r.finalBounds.w + " " + r.finalBounds.h + "] ", i = "", r.options.url) i = "<</Type /Annot /Subtype /Link " + n + "/Border [0 0 0] /A <</S /URI /URI (" + f(d(r.options.url)) + ") >>"; else if (r.options.pageNumber) { switch (i = "<</Type /Annot /Subtype /Link " + n + "/Border [0 0 0] /Dest [" + this.internal.getPageInfo(r.options.pageNumber).objId + " 0 R", r.options.magFactor = r.options.magFactor || "XYZ", r.options.magFactor) { case "Fit": i += " /Fit]"; break; case "FitH": i += " /FitH " + r.options.top + "]"; break; case "FitV": r.options.left = r.options.left || 0, i += " /FitV " + r.options.left + "]"; break; case "XYZ": default: var N = o(r.options.top); r.options.left = r.options.left || 0, void 0 === r.options.zoom && (r.options.zoom = 0), i += " /XYZ " + r.options.left + " " + N + " " + r.options.zoom + "]" } } "" != i && (i += " >>", this.internal.write(i)) } } this.internal.write("]") } }]), t.createAnnotation = function (t) { var e = this.internal.getCurrentPageInfo(); switch (t.type) { case "link": this.link(t.bounds.x, t.bounds.y, t.bounds.w, t.bounds.h, t); break; case "text": case "freetext": e.pageContext.annotations.push(t) } }, t.link = function (t, e, r, n, i) { var a = this.internal.getCurrentPageInfo(), o = this.internal.getCoordinateString, s = this.internal.getVerticalCoordinateString; a.pageContext.annotations.push({ finalBounds: { x: o(t), y: s(e), w: o(t + r), h: s(e + n) }, options: i, type: "link" }) }, t.textWithLink = function (t, e, r, n) { var i, a, o = this.getTextWidth(t), s = this.internal.getLineHeight() / this.internal.scaleFactor; if (void 0 !== n.maxWidth) { a = n.maxWidth; var c = this.splitTextToSize(t, a).length; i = Math.ceil(s * c) } else a = o, i = s; return this.text(t, e, r, n), r += .2 * s, "center" === n.align && (e -= o / 2), "right" === n.align && (e -= o), this.link(e, r - s, a, i, n), o }, t.getTextWidth = function (t) { var e = this.internal.getFontSize(); return this.getStringUnitWidth(t) * e / this.internal.scaleFactor } }(M.API),
        /**
           * @license
           * Copyright (c) 2017 Aras Abbasi
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { var e = { 1569: [65152], 1570: [65153, 65154], 1571: [65155, 65156], 1572: [65157, 65158], 1573: [65159, 65160], 1574: [65161, 65162, 65163, 65164], 1575: [65165, 65166], 1576: [65167, 65168, 65169, 65170], 1577: [65171, 65172], 1578: [65173, 65174, 65175, 65176], 1579: [65177, 65178, 65179, 65180], 1580: [65181, 65182, 65183, 65184], 1581: [65185, 65186, 65187, 65188], 1582: [65189, 65190, 65191, 65192], 1583: [65193, 65194], 1584: [65195, 65196], 1585: [65197, 65198], 1586: [65199, 65200], 1587: [65201, 65202, 65203, 65204], 1588: [65205, 65206, 65207, 65208], 1589: [65209, 65210, 65211, 65212], 1590: [65213, 65214, 65215, 65216], 1591: [65217, 65218, 65219, 65220], 1592: [65221, 65222, 65223, 65224], 1593: [65225, 65226, 65227, 65228], 1594: [65229, 65230, 65231, 65232], 1601: [65233, 65234, 65235, 65236], 1602: [65237, 65238, 65239, 65240], 1603: [65241, 65242, 65243, 65244], 1604: [65245, 65246, 65247, 65248], 1605: [65249, 65250, 65251, 65252], 1606: [65253, 65254, 65255, 65256], 1607: [65257, 65258, 65259, 65260], 1608: [65261, 65262], 1609: [65263, 65264, 64488, 64489], 1610: [65265, 65266, 65267, 65268], 1649: [64336, 64337], 1655: [64477], 1657: [64358, 64359, 64360, 64361], 1658: [64350, 64351, 64352, 64353], 1659: [64338, 64339, 64340, 64341], 1662: [64342, 64343, 64344, 64345], 1663: [64354, 64355, 64356, 64357], 1664: [64346, 64347, 64348, 64349], 1667: [64374, 64375, 64376, 64377], 1668: [64370, 64371, 64372, 64373], 1670: [64378, 64379, 64380, 64381], 1671: [64382, 64383, 64384, 64385], 1672: [64392, 64393], 1676: [64388, 64389], 1677: [64386, 64387], 1678: [64390, 64391], 1681: [64396, 64397], 1688: [64394, 64395], 1700: [64362, 64363, 64364, 64365], 1702: [64366, 64367, 64368, 64369], 1705: [64398, 64399, 64400, 64401], 1709: [64467, 64468, 64469, 64470], 1711: [64402, 64403, 64404, 64405], 1713: [64410, 64411, 64412, 64413], 1715: [64406, 64407, 64408, 64409], 1722: [64414, 64415], 1723: [64416, 64417, 64418, 64419], 1726: [64426, 64427, 64428, 64429], 1728: [64420, 64421], 1729: [64422, 64423, 64424, 64425], 1733: [64480, 64481], 1734: [64473, 64474], 1735: [64471, 64472], 1736: [64475, 64476], 1737: [64482, 64483], 1739: [64478, 64479], 1740: [64508, 64509, 64510, 64511], 1744: [64484, 64485, 64486, 64487], 1746: [64430, 64431], 1747: [64432, 64433] }, r = { 65247: { 65154: 65269, 65156: 65271, 65160: 65273, 65166: 65275 }, 65248: { 65154: 65270, 65156: 65272, 65160: 65274, 65166: 65276 }, 65165: { 65247: { 65248: { 65258: 65010 } } }, 1617: { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 } }, n = { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 }, i = [1570, 1571, 1573, 1575]; t.__arabicParser__ = {}; var a = t.__arabicParser__.isInArabicSubstitutionA = function (t) { return void 0 !== e[t.charCodeAt(0)] }, o = t.__arabicParser__.isArabicLetter = function (t) { return "string" == typeof t && /^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t) }, s = t.__arabicParser__.isArabicEndLetter = function (t) { return o(t) && a(t) && e[t.charCodeAt(0)].length <= 2 }, c = t.__arabicParser__.isArabicAlfLetter = function (t) { return o(t) && i.indexOf(t.charCodeAt(0)) >= 0 }; t.__arabicParser__.arabicLetterHasIsolatedForm = function (t) { return o(t) && a(t) && e[t.charCodeAt(0)].length >= 1 }; var u = t.__arabicParser__.arabicLetterHasFinalForm = function (t) { return o(t) && a(t) && e[t.charCodeAt(0)].length >= 2 }; t.__arabicParser__.arabicLetterHasInitialForm = function (t) { return o(t) && a(t) && e[t.charCodeAt(0)].length >= 3 }; var l = t.__arabicParser__.arabicLetterHasMedialForm = function (t) { return o(t) && a(t) && 4 == e[t.charCodeAt(0)].length }, h = t.__arabicParser__.resolveLigatures = function (t) { var e = 0, n = r, i = "", a = 0; for (e = 0; e < t.length; e += 1)void 0 !== n[t.charCodeAt(e)] ? (a++, "number" == typeof (n = n[t.charCodeAt(e)]) && (i += String.fromCharCode(n), n = r, a = 0), e === t.length - 1 && (n = r, i += t.charAt(e - (a - 1)), e -= a - 1, a = 0)) : (n = r, i += t.charAt(e - a), e -= a, a = 0); return i }; t.__arabicParser__.isArabicDiacritic = function (t) { return void 0 !== t && void 0 !== n[t.charCodeAt(0)] }; var f = t.__arabicParser__.getCorrectForm = function (t, e, r) { return o(t) ? !1 === a(t) ? -1 : !u(t) || !o(e) && !o(r) || !o(r) && s(e) || s(t) && !o(e) || s(t) && c(e) || s(t) && s(e) ? 0 : l(t) && o(e) && !s(e) && o(r) && u(r) ? 3 : s(t) || !o(r) ? 1 : 2 : -1 }, d = function (t) { var r = 0, n = 0, i = 0, a = "", s = "", c = "", u = (t = t || "").split("\\s+"), l = []; for (r = 0; r < u.length; r += 1) { for (l.push(""), n = 0; n < u[r].length; n += 1)a = u[r][n], s = u[r][n - 1], c = u[r][n + 1], o(a) ? (i = f(a, s, c), l[r] += -1 !== i ? String.fromCharCode(e[a.charCodeAt(0)][i]) : a) : l[r] += a; l[r] = h(l[r]) } return l.join(" ") }, p = t.__arabicParser__.processArabic = t.processArabic = function () { var t, e = "string" == typeof arguments[0] ? arguments[0] : arguments[0].text, r = []; if (Array.isArray(e)) { var n = 0; for (r = [], n = 0; n < e.length; n += 1)Array.isArray(e[n]) ? r.push([d(e[n][0]), e[n][1], e[n][2]]) : r.push([d(e[n])]); t = r } else t = d(e); return "string" == typeof arguments[0] ? t : (arguments[0].text = t, arguments[0]) }; t.events.push(["preProcessText", p]) }(M.API),
        /** @license
           * jsPDF Autoprint Plugin
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { t.autoPrint = function (t) { var e; switch ((t = t || {}).variant = t.variant || "non-conform", t.variant) { case "javascript": this.addJS("print({});"); break; case "non-conform": default: this.internal.events.subscribe("postPutResources", (function () { e = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /Named"), this.internal.out("/Type /Action"), this.internal.out("/N /Print"), this.internal.out(">>"), this.internal.out("endobj") })), this.internal.events.subscribe("putCatalog", (function () { this.internal.out("/OpenAction " + e + " 0 R") })) }return this } }(M.API),
        /**
           * @license
           * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { var e = function () { var t = void 0; Object.defineProperty(this, "pdf", { get: function () { return t }, set: function (e) { t = e } }); var e = 150; Object.defineProperty(this, "width", { get: function () { return e }, set: function (t) { e = isNaN(t) || !1 === Number.isInteger(t) || t < 0 ? 150 : t, this.getContext("2d").pageWrapXEnabled && (this.getContext("2d").pageWrapX = e + 1) } }); var r = 300; Object.defineProperty(this, "height", { get: function () { return r }, set: function (t) { r = isNaN(t) || !1 === Number.isInteger(t) || t < 0 ? 300 : t, this.getContext("2d").pageWrapYEnabled && (this.getContext("2d").pageWrapY = r + 1) } }); var n = []; Object.defineProperty(this, "childNodes", { get: function () { return n }, set: function (t) { n = t } }); var i = {}; Object.defineProperty(this, "style", { get: function () { return i }, set: function (t) { i = t } }), Object.defineProperty(this, "parentNode", {}) }; e.prototype.getContext = function (t, e) { var r; if ("2d" !== (t = t || "2d")) return null; for (r in e) this.pdf.context2d.hasOwnProperty(r) && (this.pdf.context2d[r] = e[r]); return this.pdf.context2d._canvas = this, this.pdf.context2d }, e.prototype.toDataURL = function () { throw new Error("toDataURL is not implemented.") }, t.events.push(["initialized", function () { this.canvas = new e, this.canvas.pdf = this }]) }(M.API), function (t) { var r = { left: 0, top: 0, bottom: 0, right: 0 }, n = !1, i = function () { void 0 === this.internal.__cell__ && (this.internal.__cell__ = {}, this.internal.__cell__.padding = 3, this.internal.__cell__.headerFunction = void 0, this.internal.__cell__.margins = Object.assign({}, r), this.internal.__cell__.margins.width = this.getPageWidth(), a.call(this)) }, a = function () { this.internal.__cell__.lastCell = new o, this.internal.__cell__.pages = 1 }, o = function () { var t = arguments[0]; Object.defineProperty(this, "x", { enumerable: !0, get: function () { return t }, set: function (e) { t = e } }); var e = arguments[1]; Object.defineProperty(this, "y", { enumerable: !0, get: function () { return e }, set: function (t) { e = t } }); var r = arguments[2]; Object.defineProperty(this, "width", { enumerable: !0, get: function () { return r }, set: function (t) { r = t } }); var n = arguments[3]; Object.defineProperty(this, "height", { enumerable: !0, get: function () { return n }, set: function (t) { n = t } }); var i = arguments[4]; Object.defineProperty(this, "text", { enumerable: !0, get: function () { return i }, set: function (t) { i = t } }); var a = arguments[5]; Object.defineProperty(this, "lineNumber", { enumerable: !0, get: function () { return a }, set: function (t) { a = t } }); var o = arguments[6]; return Object.defineProperty(this, "align", { enumerable: !0, get: function () { return o }, set: function (t) { o = t } }), this }; o.prototype.clone = function () { return new o(this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align) }, o.prototype.toArray = function () { return [this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align] }, t.setHeaderFunction = function (t) { return i.call(this), this.internal.__cell__.headerFunction = "function" == typeof t ? t : void 0, this }, t.getTextDimensions = function (t, e) { i.call(this); var r = (e = e || {}).fontSize || this.getFontSize(), n = e.font || this.getFont(), a = e.scaleFactor || this.internal.scaleFactor, o = 0, s = 0, c = 0, u = this; if (!Array.isArray(t) && "string" != typeof t) { if ("number" != typeof t) throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings."); t = String(t) } var l = e.maxWidth; l > 0 ? "string" == typeof t ? t = this.splitTextToSize(t, l) : "[object Array]" === Object.prototype.toString.call(t) && (t = t.reduce((function (t, e) { return t.concat(u.splitTextToSize(e, l)) }), [])) : t = Array.isArray(t) ? t : [t]; for (var h = 0; h < t.length; h++)o < (c = this.getStringUnitWidth(t[h], { font: n }) * r) && (o = c); return 0 !== o && (s = t.length), { w: o /= a, h: Math.max((s * r * this.getLineHeightFactor() - r * (this.getLineHeightFactor() - 1)) / a, 0) } }, t.cellAddPage = function () { i.call(this), this.addPage(); var t = this.internal.__cell__.margins || r; return this.internal.__cell__.lastCell = new o(t.left, t.top, void 0, void 0), this.internal.__cell__.pages += 1, this }; var s = t.cell = function () { var t; t = arguments[0] instanceof o ? arguments[0] : new o(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]), i.call(this); var e = this.internal.__cell__.lastCell, a = this.internal.__cell__.padding, s = this.internal.__cell__.margins || r, c = this.internal.__cell__.tableHeaderRow, u = this.internal.__cell__.printHeaders; return void 0 !== e.lineNumber && (e.lineNumber === t.lineNumber ? (t.x = (e.x || 0) + (e.width || 0), t.y = e.y || 0) : e.y + e.height + t.height + s.bottom > this.getPageHeight() ? (this.cellAddPage(), t.y = s.top, u && c && (this.printHeaderRow(t.lineNumber, !0), t.y += c[0].height)) : t.y = e.y + e.height || t.y), void 0 !== t.text[0] && (this.rect(t.x, t.y, t.width, t.height, !0 === n ? "FD" : void 0), "right" === t.align ? this.text(t.text, t.x + t.width - a, t.y + a, { align: "right", baseline: "top" }) : "center" === t.align ? this.text(t.text, t.x + t.width / 2, t.y + a, { align: "center", baseline: "top", maxWidth: t.width - a - a }) : this.text(t.text, t.x + a, t.y + a, { align: "left", baseline: "top", maxWidth: t.width - a - a })), this.internal.__cell__.lastCell = t, this }; t.table = function (t, n, u, l, h) { if (i.call(this), !u) throw new Error("No data for PDF table."); var f, d, p, g, m = [], v = [], b = [], y = {}, w = {}, N = [], L = [], A = (h = h || {}).autoSize || !1, x = !1 !== h.printHeaders, S = h.css && void 0 !== h.css["font-size"] ? 16 * h.css["font-size"] : h.fontSize || 12, _ = h.margins || Object.assign({ width: this.getPageWidth() }, r), P = "number" == typeof h.padding ? h.padding : 3, k = h.headerBackgroundColor || "#c8c8c8", F = h.headerTextColor || "#000"; if (a.call(this), this.internal.__cell__.printHeaders = x, this.internal.__cell__.margins = _, this.internal.__cell__.table_font_size = S, this.internal.__cell__.padding = P, this.internal.__cell__.headerBackgroundColor = k, this.internal.__cell__.headerTextColor = F, this.setFontSize(S), null == l) v = m = Object.keys(u[0]), b = m.map((function () { return "left" })); else if (Array.isArray(l) && "object" === e(l[0])) for (m = l.map((function (t) { return t.name })), v = l.map((function (t) { return t.prompt || t.name || "" })), b = l.map((function (t) { return t.align || "left" })), f = 0; f < l.length; f += 1)w[l[f].name] = l[f].width * (19.049976 / 25.4); else Array.isArray(l) && "string" == typeof l[0] && (v = m = l, b = m.map((function () { return "left" }))); if (A || Array.isArray(l) && "string" == typeof l[0]) for (f = 0; f < m.length; f += 1) { for (y[g = m[f]] = u.map((function (t) { return t[g] })), this.setFont(void 0, "bold"), N.push(this.getTextDimensions(v[f], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w), d = y[g], this.setFont(void 0, "normal"), p = 0; p < d.length; p += 1)N.push(this.getTextDimensions(d[p], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w); w[g] = Math.max.apply(null, N) + P + P, N = [] } if (x) { var I = {}; for (f = 0; f < m.length; f += 1)I[m[f]] = {}, I[m[f]].text = v[f], I[m[f]].align = b[f]; var C = c.call(this, I, w); L = m.map((function (e) { return new o(t, n, w[e], C, I[e].text, void 0, I[e].align) })), this.setTableHeaderRow(L), this.printHeaderRow(1, !1) } var j = l.reduce((function (t, e) { return t[e.name] = e.align, t }), {}); for (f = 0; f < u.length; f += 1) { "rowStart" in h && h.rowStart instanceof Function && h.rowStart({ row: f, data: u[f] }, this); var O = c.call(this, u[f], w); for (p = 0; p < m.length; p += 1) { var B = u[f][m[p]]; "cellStart" in h && h.cellStart instanceof Function && h.cellStart({ row: f, col: p, data: B }, this), s.call(this, new o(t, n, w[m[p]], O, B, f + 2, j[m[p]])) } } return this.internal.__cell__.table_x = t, this.internal.__cell__.table_y = n, this }; var c = function (t, e) { var r = this.internal.__cell__.padding, n = this.internal.__cell__.table_font_size, i = this.internal.scaleFactor; return Object.keys(t).map((function (n) { var i = t[n]; return this.splitTextToSize(i.hasOwnProperty("text") ? i.text : i, e[n] - r - r) }), this).map((function (t) { return this.getLineHeightFactor() * t.length * n / i + r + r }), this).reduce((function (t, e) { return Math.max(t, e) }), 0) }; t.setTableHeaderRow = function (t) { i.call(this), this.internal.__cell__.tableHeaderRow = t }, t.printHeaderRow = function (t, e) { if (i.call(this), !this.internal.__cell__.tableHeaderRow) throw new Error("Property tableHeaderRow does not exist."); var r; if (n = !0, "function" == typeof this.internal.__cell__.headerFunction) { var a = this.internal.__cell__.headerFunction(this, this.internal.__cell__.pages); this.internal.__cell__.lastCell = new o(a[0], a[1], a[2], a[3], void 0, -1) } this.setFont(void 0, "bold"); for (var c = [], u = 0; u < this.internal.__cell__.tableHeaderRow.length; u += 1) { r = this.internal.__cell__.tableHeaderRow[u].clone(), e && (r.y = this.internal.__cell__.margins.top || 0, c.push(r)), r.lineNumber = t; var l = this.getTextColor(); this.setTextColor(this.internal.__cell__.headerTextColor), this.setFillColor(this.internal.__cell__.headerBackgroundColor), s.call(this, r), this.setTextColor(l) } c.length > 0 && this.setTableHeaderRow(c), this.setFont(void 0, "normal"), n = !1 } }(M.API); var _t = { italic: ["italic", "oblique", "normal"], oblique: ["oblique", "italic", "normal"], normal: ["normal", "oblique", "italic"] }, Pt = ["ultra-condensed", "extra-condensed", "condensed", "semi-condensed", "normal", "semi-expanded", "expanded", "extra-expanded", "ultra-expanded"], kt = St(Pt), Ft = [100, 200, 300, 400, 500, 600, 700, 800, 900], It = St(Ft); function Ct(t) { var e = t.family.replace(/"|'/g, "").toLowerCase(), r = function (t) { return _t[t = t || "normal"] ? t : "normal" }(t.style), n = function (t) { if (!t) return 400; if ("number" == typeof t) return t >= 100 && t <= 900 && t % 100 == 0 ? t : 400; if (/^\d00$/.test(t)) return parseInt(t); switch (t) { case "bold": return 700; case "normal": default: return 400 } }(t.weight), i = function (t) { return "number" == typeof kt[t = t || "normal"] ? t : "normal" }(t.stretch); return { family: e, style: r, weight: n, stretch: i, src: t.src || [], ref: t.ref || { name: e, style: [i, r, n].join(" ") } } } function jt(t, e, r, n) { var i; for (i = r; i >= 0 && i < e.length; i += n)if (t[e[i]]) return t[e[i]]; for (i = r; i >= 0 && i < e.length; i -= n)if (t[e[i]]) return t[e[i]] } var Ot = { "sans-serif": "helvetica", fixed: "courier", monospace: "courier", terminal: "courier", cursive: "times", fantasy: "times", serif: "times" }, Bt = { caption: "times", icon: "times", menu: "times", "message-box": "times", "small-caption": "times", "status-bar": "times" }; function Mt(t) { return [t.stretch, t.style, t.weight, t.family].join(" ") } function Et(t, e, r) { for (var n = (r = r || {}).defaultFontFamily || "times", i = Object.assign({}, Ot, r.genericFontFamilies || {}), a = null, o = null, s = 0; s < e.length; ++s)if (i[(a = Ct(e[s])).family] && (a.family = i[a.family]), t.hasOwnProperty(a.family)) { o = t[a.family]; break } if (!(o = o || t[n])) throw new Error("Could not find a font-family for the rule '" + Mt(a) + "' and default family '" + n + "'."); if (o = function (t, e) { if (e[t]) return e[t]; var r = kt[t], n = r <= kt.normal ? -1 : 1, i = jt(e, Pt, r, n); if (!i) throw new Error("Could not find a matching font-stretch value for " + t); return i }(a.stretch, o), o = function (t, e) { if (e[t]) return e[t]; for (var r = _t[t], n = 0; n < r.length; ++n)if (e[r[n]]) return e[r[n]]; throw new Error("Could not find a matching font-style for " + t) }(a.style, o), !(o = function (t, e) { if (e[t]) return e[t]; if (400 === t && e[500]) return e[500]; if (500 === t && e[400]) return e[400]; var r = It[t], n = jt(e, Ft, r, t < 400 ? -1 : 1); if (!n) throw new Error("Could not find a matching font-weight for value " + t); return n }(a.weight, o))) throw new Error("Failed to resolve a font for the rule '" + Mt(a) + "'."); return o } function qt(t) { return t.trimLeft() } function Dt(t, e) { for (var r = 0; r < t.length;) { if (t.charAt(r) === e) return [t.substring(0, r), t.substring(r + 1)]; r += 1 } return null } function Rt(t) { var e = t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i); return null === e ? null : [e[0], t.substring(e[0].length)] } var Tt = ["times"]; !function (t) { var r, n, a, o, s, c, u, l, f, d = function (t) { return t = t || {}, this.isStrokeTransparent = t.isStrokeTransparent || !1, this.strokeOpacity = t.strokeOpacity || 1, this.strokeStyle = t.strokeStyle || "#000000", this.fillStyle = t.fillStyle || "#000000", this.isFillTransparent = t.isFillTransparent || !1, this.fillOpacity = t.fillOpacity || 1, this.font = t.font || "10px sans-serif", this.textBaseline = t.textBaseline || "alphabetic", this.textAlign = t.textAlign || "left", this.lineWidth = t.lineWidth || 1, this.lineJoin = t.lineJoin || "miter", this.lineCap = t.lineCap || "butt", this.path = t.path || [], this.transform = void 0 !== t.transform ? t.transform.clone() : new l, this.globalCompositeOperation = t.globalCompositeOperation || "normal", this.globalAlpha = t.globalAlpha || 1, this.clip_path = t.clip_path || [], this.currentPoint = t.currentPoint || new c, this.miterLimit = t.miterLimit || 10, this.lastPoint = t.lastPoint || new c, this.lineDashOffset = t.lineDashOffset || 0, this.lineDash = t.lineDash || [], this.margin = t.margin || [0, 0, 0, 0], this.prevPageLastElemOffset = t.prevPageLastElemOffset || 0, this.ignoreClearRect = "boolean" != typeof t.ignoreClearRect || t.ignoreClearRect, this }; t.events.push(["initialized", function () { this.context2d = new p(this), r = this.internal.f2, n = this.internal.getCoordinateString, a = this.internal.getVerticalCoordinateString, o = this.internal.getHorizontalCoordinate, s = this.internal.getVerticalCoordinate, c = this.internal.Point, u = this.internal.Rectangle, l = this.internal.Matrix, f = new d }]); var p = function (t) { Object.defineProperty(this, "canvas", { get: function () { return { parentNode: !1, style: !1 } } }); var e = t; Object.defineProperty(this, "pdf", { get: function () { return e } }); var r = !1; Object.defineProperty(this, "pageWrapXEnabled", { get: function () { return r }, set: function (t) { r = Boolean(t) } }); var n = !1; Object.defineProperty(this, "pageWrapYEnabled", { get: function () { return n }, set: function (t) { n = Boolean(t) } }); var i = 0; Object.defineProperty(this, "posX", { get: function () { return i }, set: function (t) { isNaN(t) || (i = t) } }); var a = 0; Object.defineProperty(this, "posY", { get: function () { return a }, set: function (t) { isNaN(t) || (a = t) } }), Object.defineProperty(this, "margin", { get: function () { return f.margin }, set: function (t) { var e; "number" == typeof t ? e = [t, t, t, t] : ((e = new Array(4))[0] = t[0], e[1] = t.length >= 2 ? t[1] : e[0], e[2] = t.length >= 3 ? t[2] : e[0], e[3] = t.length >= 4 ? t[3] : e[1]), f.margin = e } }); var o = !1; Object.defineProperty(this, "autoPaging", { get: function () { return o }, set: function (t) { o = t } }); var s = 0; Object.defineProperty(this, "lastBreak", { get: function () { return s }, set: function (t) { s = t } }); var c = []; Object.defineProperty(this, "pageBreaks", { get: function () { return c }, set: function (t) { c = t } }), Object.defineProperty(this, "ctx", { get: function () { return f }, set: function (t) { t instanceof d && (f = t) } }), Object.defineProperty(this, "path", { get: function () { return f.path }, set: function (t) { f.path = t } }); var u = []; Object.defineProperty(this, "ctxStack", { get: function () { return u }, set: function (t) { u = t } }), Object.defineProperty(this, "fillStyle", { get: function () { return this.ctx.fillStyle }, set: function (t) { var e; e = g(t), this.ctx.fillStyle = e.style, this.ctx.isFillTransparent = 0 === e.a, this.ctx.fillOpacity = e.a, this.pdf.setFillColor(e.r, e.g, e.b, { a: e.a }), this.pdf.setTextColor(e.r, e.g, e.b, { a: e.a }) } }), Object.defineProperty(this, "strokeStyle", { get: function () { return this.ctx.strokeStyle }, set: function (t) { var e = g(t); this.ctx.strokeStyle = e.style, this.ctx.isStrokeTransparent = 0 === e.a, this.ctx.strokeOpacity = e.a, 0 === e.a ? this.pdf.setDrawColor(255, 255, 255) : (e.a, this.pdf.setDrawColor(e.r, e.g, e.b)) } }), Object.defineProperty(this, "lineCap", { get: function () { return this.ctx.lineCap }, set: function (t) { -1 !== ["butt", "round", "square"].indexOf(t) && (this.ctx.lineCap = t, this.pdf.setLineCap(t)) } }), Object.defineProperty(this, "lineWidth", { get: function () { return this.ctx.lineWidth }, set: function (t) { isNaN(t) || (this.ctx.lineWidth = t, this.pdf.setLineWidth(t)) } }), Object.defineProperty(this, "lineJoin", { get: function () { return this.ctx.lineJoin }, set: function (t) { -1 !== ["bevel", "round", "miter"].indexOf(t) && (this.ctx.lineJoin = t, this.pdf.setLineJoin(t)) } }), Object.defineProperty(this, "miterLimit", { get: function () { return this.ctx.miterLimit }, set: function (t) { isNaN(t) || (this.ctx.miterLimit = t, this.pdf.setMiterLimit(t)) } }), Object.defineProperty(this, "textBaseline", { get: function () { return this.ctx.textBaseline }, set: function (t) { this.ctx.textBaseline = t } }), Object.defineProperty(this, "textAlign", { get: function () { return this.ctx.textAlign }, set: function (t) { -1 !== ["right", "end", "center", "left", "start"].indexOf(t) && (this.ctx.textAlign = t) } }); var l = null; function h(t, e) { if (null === l) { var r = function (t) { var e = []; return Object.keys(t).forEach((function (r) { t[r].forEach((function (t) { var n = null; switch (t) { case "bold": n = { family: r, weight: "bold" }; break; case "italic": n = { family: r, style: "italic" }; break; case "bolditalic": n = { family: r, weight: "bold", style: "italic" }; break; case "": case "normal": n = { family: r } }null !== n && (n.ref = { name: r, style: t }, e.push(n)) })) })), e }(t.getFontList()); l = function (t) { for (var e = {}, r = 0; r < t.length; ++r) { var n = Ct(t[r]), i = n.family, a = n.stretch, o = n.style, s = n.weight; e[i] = e[i] || {}, e[i][a] = e[i][a] || {}, e[i][a][o] = e[i][a][o] || {}, e[i][a][o][s] = n } return e }(r.concat(e)) } return l } var p = null; Object.defineProperty(this, "fontFaces", { get: function () { return p }, set: function (t) { l = null, p = t } }), Object.defineProperty(this, "font", { get: function () { return this.ctx.font }, set: function (t) { var e; if (this.ctx.font = t, null !== (e = /^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))) { var r = e[1], n = (e[2], e[3]), i = e[4], a = (e[5], e[6]), o = /^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2]; i = "px" === o ? Math.floor(parseFloat(i) * this.pdf.internal.scaleFactor) : "em" === o ? Math.floor(parseFloat(i) * this.pdf.getFontSize()) : Math.floor(parseFloat(i) * this.pdf.internal.scaleFactor), this.pdf.setFontSize(i); var s = function (t) { var e, r, n = [], i = t.trim(); if ("" === i) return Tt; if (i in Bt) return [Bt[i]]; for (; "" !== i;) { switch (r = null, e = (i = qt(i)).charAt(0)) { case '"': case "'": r = Dt(i.substring(1), e); break; default: r = Rt(i) }if (null === r) return Tt; if (n.push(r[0]), "" !== (i = qt(r[1])) && "," !== i.charAt(0)) return Tt; i = i.replace(/^,/, "") } return n }(a); if (this.fontFaces) { var c = Et(h(this.pdf, this.fontFaces), s.map((function (t) { return { family: t, stretch: "normal", weight: n, style: r } }))); this.pdf.setFont(c.ref.name, c.ref.style) } else { var u = ""; ("bold" === n || parseInt(n, 10) >= 700 || "bold" === r) && (u = "bold"), "italic" === r && (u += "italic"), 0 === u.length && (u = "normal"); for (var l = "", f = { arial: "Helvetica", Arial: "Helvetica", verdana: "Helvetica", Verdana: "Helvetica", helvetica: "Helvetica", Helvetica: "Helvetica", "sans-serif": "Helvetica", fixed: "Courier", monospace: "Courier", terminal: "Courier", cursive: "Times", fantasy: "Times", serif: "Times" }, d = 0; d < s.length; d++) { if (void 0 !== this.pdf.internal.getFont(s[d], u, { noFallback: !0, disableWarning: !0 })) { l = s[d]; break } if ("bolditalic" === u && void 0 !== this.pdf.internal.getFont(s[d], "bold", { noFallback: !0, disableWarning: !0 })) l = s[d], u = "bold"; else if (void 0 !== this.pdf.internal.getFont(s[d], "normal", { noFallback: !0, disableWarning: !0 })) { l = s[d], u = "normal"; break } } if ("" === l) for (var p = 0; p < s.length; p++)if (f[s[p]]) { l = f[s[p]]; break } l = "" === l ? "Times" : l, this.pdf.setFont(l, u) } } } }), Object.defineProperty(this, "globalCompositeOperation", { get: function () { return this.ctx.globalCompositeOperation }, set: function (t) { this.ctx.globalCompositeOperation = t } }), Object.defineProperty(this, "globalAlpha", { get: function () { return this.ctx.globalAlpha }, set: function (t) { this.ctx.globalAlpha = t } }), Object.defineProperty(this, "lineDashOffset", { get: function () { return this.ctx.lineDashOffset }, set: function (t) { this.ctx.lineDashOffset = t, T.call(this) } }), Object.defineProperty(this, "lineDash", { get: function () { return this.ctx.lineDash }, set: function (t) { this.ctx.lineDash = t, T.call(this) } }), Object.defineProperty(this, "ignoreClearRect", { get: function () { return this.ctx.ignoreClearRect }, set: function (t) { this.ctx.ignoreClearRect = Boolean(t) } }) }; p.prototype.setLineDash = function (t) { this.lineDash = t }, p.prototype.getLineDash = function () { return this.lineDash.length % 2 ? this.lineDash.concat(this.lineDash) : this.lineDash.slice() }, p.prototype.fill = function () { A.call(this, "fill", !1) }, p.prototype.stroke = function () { A.call(this, "stroke", !1) }, p.prototype.beginPath = function () { this.path = [{ type: "begin" }] }, p.prototype.moveTo = function (t, e) { if (isNaN(t) || isNaN(e)) throw i.error("jsPDF.context2d.moveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.moveTo"); var r = this.ctx.transform.applyToPoint(new c(t, e)); this.path.push({ type: "mt", x: r.x, y: r.y }), this.ctx.lastPoint = new c(t, e) }, p.prototype.closePath = function () { var t = new c(0, 0), r = 0; for (r = this.path.length - 1; -1 !== r; r--)if ("begin" === this.path[r].type && "object" === e(this.path[r + 1]) && "number" == typeof this.path[r + 1].x) { t = new c(this.path[r + 1].x, this.path[r + 1].y); break } this.path.push({ type: "close" }), this.ctx.lastPoint = new c(t.x, t.y) }, p.prototype.lineTo = function (t, e) { if (isNaN(t) || isNaN(e)) throw i.error("jsPDF.context2d.lineTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.lineTo"); var r = this.ctx.transform.applyToPoint(new c(t, e)); this.path.push({ type: "lt", x: r.x, y: r.y }), this.ctx.lastPoint = new c(r.x, r.y) }, p.prototype.clip = function () { this.ctx.clip_path = JSON.parse(JSON.stringify(this.path)), A.call(this, null, !0) }, p.prototype.quadraticCurveTo = function (t, e, r, n) { if (isNaN(r) || isNaN(n) || isNaN(t) || isNaN(e)) throw i.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo"); var a = this.ctx.transform.applyToPoint(new c(r, n)), o = this.ctx.transform.applyToPoint(new c(t, e)); this.path.push({ type: "qct", x1: o.x, y1: o.y, x: a.x, y: a.y }), this.ctx.lastPoint = new c(a.x, a.y) }, p.prototype.bezierCurveTo = function (t, e, r, n, a, o) { if (isNaN(a) || isNaN(o) || isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw i.error("jsPDF.context2d.bezierCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo"); var s = this.ctx.transform.applyToPoint(new c(a, o)), u = this.ctx.transform.applyToPoint(new c(t, e)), l = this.ctx.transform.applyToPoint(new c(r, n)); this.path.push({ type: "bct", x1: u.x, y1: u.y, x2: l.x, y2: l.y, x: s.x, y: s.y }), this.ctx.lastPoint = new c(s.x, s.y) }, p.prototype.arc = function (t, e, r, n, a, o) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || isNaN(a)) throw i.error("jsPDF.context2d.arc: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.arc"); if (o = Boolean(o), !this.ctx.transform.isIdentity) { var s = this.ctx.transform.applyToPoint(new c(t, e)); t = s.x, e = s.y; var u = this.ctx.transform.applyToPoint(new c(0, r)), l = this.ctx.transform.applyToPoint(new c(0, 0)); r = Math.sqrt(Math.pow(u.x - l.x, 2) + Math.pow(u.y - l.y, 2)) } Math.abs(a - n) >= 2 * Math.PI && (n = 0, a = 2 * Math.PI), this.path.push({ type: "arc", x: t, y: e, radius: r, startAngle: n, endAngle: a, counterclockwise: o }) }, p.prototype.arcTo = function (t, e, r, n, i) { throw new Error("arcTo not implemented.") }, p.prototype.rect = function (t, e, r, n) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw i.error("jsPDF.context2d.rect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rect"); this.moveTo(t, e), this.lineTo(t + r, e), this.lineTo(t + r, e + n), this.lineTo(t, e + n), this.lineTo(t, e), this.lineTo(t + r, e), this.lineTo(t, e) }, p.prototype.fillRect = function (t, e, r, n) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw i.error("jsPDF.context2d.fillRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillRect"); if (!m.call(this)) { var a = {}; "butt" !== this.lineCap && (a.lineCap = this.lineCap, this.lineCap = "butt"), "miter" !== this.lineJoin && (a.lineJoin = this.lineJoin, this.lineJoin = "miter"), this.beginPath(), this.rect(t, e, r, n), this.fill(), a.hasOwnProperty("lineCap") && (this.lineCap = a.lineCap), a.hasOwnProperty("lineJoin") && (this.lineJoin = a.lineJoin) } }, p.prototype.strokeRect = function (t, e, r, n) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw i.error("jsPDF.context2d.strokeRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeRect"); v.call(this) || (this.beginPath(), this.rect(t, e, r, n), this.stroke()) }, p.prototype.clearRect = function (t, e, r, n) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw i.error("jsPDF.context2d.clearRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.clearRect"); this.ignoreClearRect || (this.fillStyle = "#ffffff", this.fillRect(t, e, r, n)) }, p.prototype.save = function (t) { t = "boolean" != typeof t || t; for (var e = this.pdf.internal.getCurrentPageInfo().pageNumber, r = 0; r < this.pdf.internal.getNumberOfPages(); r++)this.pdf.setPage(r + 1), this.pdf.internal.out("q"); if (this.pdf.setPage(e), t) { this.ctx.fontSize = this.pdf.internal.getFontSize(); var n = new d(this.ctx); this.ctxStack.push(this.ctx), this.ctx = n } }, p.prototype.restore = function (t) { t = "boolean" != typeof t || t; for (var e = this.pdf.internal.getCurrentPageInfo().pageNumber, r = 0; r < this.pdf.internal.getNumberOfPages(); r++)this.pdf.setPage(r + 1), this.pdf.internal.out("Q"); this.pdf.setPage(e), t && 0 !== this.ctxStack.length && (this.ctx = this.ctxStack.pop(), this.fillStyle = this.ctx.fillStyle, this.strokeStyle = this.ctx.strokeStyle, this.font = this.ctx.font, this.lineCap = this.ctx.lineCap, this.lineWidth = this.ctx.lineWidth, this.lineJoin = this.ctx.lineJoin, this.lineDash = this.ctx.lineDash, this.lineDashOffset = this.ctx.lineDashOffset) }, p.prototype.toDataURL = function () { throw new Error("toDataUrl not implemented.") }; var g = function (t) { var e, r, n, i; if (!0 === t.isCanvasGradient && (t = t.getColor()), !t) return { r: 0, g: 0, b: 0, a: 0, style: t }; if (/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t)) e = 0, r = 0, n = 0, i = 0; else { var a = /rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t); if (null !== a) e = parseInt(a[1]), r = parseInt(a[2]), n = parseInt(a[3]), i = 1; else if (null !== (a = /rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t))) e = parseInt(a[1]), r = parseInt(a[2]), n = parseInt(a[3]), i = parseFloat(a[4]); else { if (i = 1, "string" == typeof t && "#" !== t.charAt(0)) { var o = new h(t); t = o.ok ? o.toHex() : "#000000" } 4 === t.length ? (e = t.substring(1, 2), e += e, r = t.substring(2, 3), r += r, n = t.substring(3, 4), n += n) : (e = t.substring(1, 3), r = t.substring(3, 5), n = t.substring(5, 7)), e = parseInt(e, 16), r = parseInt(r, 16), n = parseInt(n, 16) } } return { r: e, g: r, b: n, a: i, style: t } }, m = function () { return this.ctx.isFillTransparent || 0 == this.globalAlpha }, v = function () { return Boolean(this.ctx.isStrokeTransparent || 0 == this.globalAlpha) }; p.prototype.fillText = function (t, e, r, n) { if (isNaN(e) || isNaN(r) || "string" != typeof t) throw i.error("jsPDF.context2d.fillText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillText"); if (n = isNaN(n) ? void 0 : n, !m.call(this)) { var a = q(this.ctx.transform.rotation), o = this.ctx.transform.scaleX; C.call(this, { text: t, x: e, y: r, scale: o, angle: a, align: this.textAlign, maxWidth: n }) } }, p.prototype.strokeText = function (t, e, r, n) { if (isNaN(e) || isNaN(r) || "string" != typeof t) throw i.error("jsPDF.context2d.strokeText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeText"); if (!v.call(this)) { n = isNaN(n) ? void 0 : n; var a = q(this.ctx.transform.rotation), o = this.ctx.transform.scaleX; C.call(this, { text: t, x: e, y: r, scale: o, renderingMode: "stroke", angle: a, align: this.textAlign, maxWidth: n }) } }, p.prototype.measureText = function (t) { if ("string" != typeof t) throw i.error("jsPDF.context2d.measureText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.measureText"); var e = this.pdf, r = this.pdf.internal.scaleFactor, n = e.internal.getFontSize(), a = e.getStringUnitWidth(t) * n / e.internal.scaleFactor, o = function (t) { var e = (t = t || {}).width || 0; return Object.defineProperty(this, "width", { get: function () { return e } }), this }; return new o({ width: a *= Math.round(96 * r / 72 * 1e4) / 1e4 }) }, p.prototype.scale = function (t, e) { if (isNaN(t) || isNaN(e)) throw i.error("jsPDF.context2d.scale: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.scale"); var r = new l(t, 0, 0, e, 0, 0); this.ctx.transform = this.ctx.transform.multiply(r) }, p.prototype.rotate = function (t) { if (isNaN(t)) throw i.error("jsPDF.context2d.rotate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rotate"); var e = new l(Math.cos(t), Math.sin(t), -Math.sin(t), Math.cos(t), 0, 0); this.ctx.transform = this.ctx.transform.multiply(e) }, p.prototype.translate = function (t, e) { if (isNaN(t) || isNaN(e)) throw i.error("jsPDF.context2d.translate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.translate"); var r = new l(1, 0, 0, 1, t, e); this.ctx.transform = this.ctx.transform.multiply(r) }, p.prototype.transform = function (t, e, r, n, a, o) { if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || isNaN(a) || isNaN(o)) throw i.error("jsPDF.context2d.transform: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.transform"); var s = new l(t, e, r, n, a, o); this.ctx.transform = this.ctx.transform.multiply(s) }, p.prototype.setTransform = function (t, e, r, n, i, a) { t = isNaN(t) ? 1 : t, e = isNaN(e) ? 0 : e, r = isNaN(r) ? 0 : r, n = isNaN(n) ? 1 : n, i = isNaN(i) ? 0 : i, a = isNaN(a) ? 0 : a, this.ctx.transform = new l(t, e, r, n, i, a) }; var b = function () { return this.margin[0] > 0 || this.margin[1] > 0 || this.margin[2] > 0 || this.margin[3] > 0 }; p.prototype.drawImage = function (t, e, r, n, i, a, o, s, c) { var h = this.pdf.getImageProperties(t), f = 1, d = 1, p = 1, g = 1; void 0 !== n && void 0 !== s && (p = s / n, g = c / i, f = h.width / n * s / n, d = h.height / i * c / i), void 0 === a && (a = e, o = r, e = 0, r = 0), void 0 !== n && void 0 === s && (s = n, c = i), void 0 === n && void 0 === s && (s = h.width, c = h.height); for (var m, v = this.ctx.transform.decompose(), w = q(v.rotate.shx), A = new l, S = (A = (A = (A = A.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToRectangle(new u(a - e * p, o - r * g, n * f, i * d)), _ = y.call(this, S), P = [], k = 0; k < _.length; k += 1)-1 === P.indexOf(_[k]) && P.push(_[k]); if (L(P), this.autoPaging) for (var F = P[0], I = P[P.length - 1], C = F; C < I + 1; C++) { this.pdf.setPage(C); var j = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], O = 1 === C ? this.posY + this.margin[0] : this.margin[0], B = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], M = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], E = 1 === C ? 0 : B + (C - 2) * M; if (0 !== this.ctx.clip_path.length) { var D = this.path; m = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N(m, this.posX + this.margin[3], -E + O + this.ctx.prevPageLastElemOffset), x.call(this, "fill", !0), this.path = D } var R = JSON.parse(JSON.stringify(S)); R = N([R], this.posX + this.margin[3], -E + O + this.ctx.prevPageLastElemOffset)[0]; var T = (C > F || C < I) && b.call(this); T && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], j, M, null).clip().discardPath()), this.pdf.addImage(t, "JPEG", R.x, R.y, R.w, R.h, null, null, w), T && this.pdf.restoreGraphicsState() } else this.pdf.addImage(t, "JPEG", S.x, S.y, S.w, S.h, null, null, w) }; var y = function (t, e, r) { var n = []; e = e || this.pdf.internal.pageSize.width, r = r || this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2]; var i = this.posY + this.ctx.prevPageLastElemOffset; switch (t.type) { default: case "mt": case "lt": n.push(Math.floor((t.y + i) / r) + 1); break; case "arc": n.push(Math.floor((t.y + i - t.radius) / r) + 1), n.push(Math.floor((t.y + i + t.radius) / r) + 1); break; case "qct": var a = D(this.ctx.lastPoint.x, this.ctx.lastPoint.y, t.x1, t.y1, t.x, t.y); n.push(Math.floor((a.y + i) / r) + 1), n.push(Math.floor((a.y + a.h + i) / r) + 1); break; case "bct": var o = R(this.ctx.lastPoint.x, this.ctx.lastPoint.y, t.x1, t.y1, t.x2, t.y2, t.x, t.y); n.push(Math.floor((o.y + i) / r) + 1), n.push(Math.floor((o.y + o.h + i) / r) + 1); break; case "rect": n.push(Math.floor((t.y + i) / r) + 1), n.push(Math.floor((t.y + t.h + i) / r) + 1) }for (var s = 0; s < n.length; s += 1)for (; this.pdf.internal.getNumberOfPages() < n[s];)w.call(this); return n }, w = function () { var t = this.fillStyle, e = this.strokeStyle, r = this.font, n = this.lineCap, i = this.lineWidth, a = this.lineJoin; this.pdf.addPage(), this.fillStyle = t, this.strokeStyle = e, this.font = r, this.lineCap = n, this.lineWidth = i, this.lineJoin = a }, N = function (t, e, r) { for (var n = 0; n < t.length; n++)switch (t[n].type) { case "bct": t[n].x2 += e, t[n].y2 += r; case "qct": t[n].x1 += e, t[n].y1 += r; case "mt": case "lt": case "arc": default: t[n].x += e, t[n].y += r }return t }, L = function (t) { return t.sort((function (t, e) { return t - e })) }, A = function (t, e) { for (var r, n, i = this.fillStyle, a = this.strokeStyle, o = this.lineCap, s = this.lineWidth, c = Math.abs(s * this.ctx.transform.scaleX), u = this.lineJoin, l = JSON.parse(JSON.stringify(this.path)), h = JSON.parse(JSON.stringify(this.path)), f = [], d = 0; d < h.length; d++)if (void 0 !== h[d].x) for (var p = y.call(this, h[d]), g = 0; g < p.length; g += 1)-1 === f.indexOf(p[g]) && f.push(p[g]); for (var m = 0; m < f.length; m++)for (; this.pdf.internal.getNumberOfPages() < f[m];)w.call(this); if (L(f), this.autoPaging) for (var v = f[0], A = f[f.length - 1], S = v; S < A + 1; S++) { this.pdf.setPage(S), this.fillStyle = i, this.strokeStyle = a, this.lineCap = o, this.lineWidth = c, this.lineJoin = u; var _ = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], P = 1 === S ? this.posY + this.margin[0] : this.margin[0], k = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], F = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], I = 1 === S ? 0 : k + (S - 2) * F; if (0 !== this.ctx.clip_path.length) { var C = this.path; r = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N(r, this.posX + this.margin[3], -I + P + this.ctx.prevPageLastElemOffset), x.call(this, t, !0), this.path = C } if (n = JSON.parse(JSON.stringify(l)), this.path = N(n, this.posX + this.margin[3], -I + P + this.ctx.prevPageLastElemOffset), !1 === e || 0 === S) { var j = (S > v || S < A) && b.call(this); j && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], _, F, null).clip().discardPath()), x.call(this, t, e), j && this.pdf.restoreGraphicsState() } this.lineWidth = s } else this.lineWidth = c, x.call(this, t, e), this.lineWidth = s; this.path = l }, x = function (t, e) { if (("stroke" !== t || e || !v.call(this)) && ("stroke" === t || e || !m.call(this))) { for (var r, n, i = [], a = this.path, o = 0; o < a.length; o++) { var s = a[o]; switch (s.type) { case "begin": i.push({ begin: !0 }); break; case "close": i.push({ close: !0 }); break; case "mt": i.push({ start: s, deltas: [], abs: [] }); break; case "lt": var c = i.length; if (a[o - 1] && !isNaN(a[o - 1].x) && (r = [s.x - a[o - 1].x, s.y - a[o - 1].y], c > 0)) for (; c >= 0; c--)if (!0 !== i[c - 1].close && !0 !== i[c - 1].begin) { i[c - 1].deltas.push(r), i[c - 1].abs.push(s); break } break; case "bct": r = [s.x1 - a[o - 1].x, s.y1 - a[o - 1].y, s.x2 - a[o - 1].x, s.y2 - a[o - 1].y, s.x - a[o - 1].x, s.y - a[o - 1].y], i[i.length - 1].deltas.push(r); break; case "qct": var u = a[o - 1].x + 2 / 3 * (s.x1 - a[o - 1].x), l = a[o - 1].y + 2 / 3 * (s.y1 - a[o - 1].y), h = s.x + 2 / 3 * (s.x1 - s.x), f = s.y + 2 / 3 * (s.y1 - s.y), d = s.x, p = s.y; r = [u - a[o - 1].x, l - a[o - 1].y, h - a[o - 1].x, f - a[o - 1].y, d - a[o - 1].x, p - a[o - 1].y], i[i.length - 1].deltas.push(r); break; case "arc": i.push({ deltas: [], abs: [], arc: !0 }), Array.isArray(i[i.length - 1].abs) && i[i.length - 1].abs.push(s) } } n = e ? null : "stroke" === t ? "stroke" : "fill"; for (var g = !1, b = 0; b < i.length; b++)if (i[b].arc) for (var y = i[b].abs, w = 0; w < y.length; w++) { var N = y[w]; "arc" === N.type ? P.call(this, N.x, N.y, N.radius, N.startAngle, N.endAngle, N.counterclockwise, void 0, e, !g) : j.call(this, N.x, N.y), g = !0 } else if (!0 === i[b].close) this.pdf.internal.out("h"), g = !1; else if (!0 !== i[b].begin) { var L = i[b].start.x, A = i[b].start.y; O.call(this, i[b].deltas, L, A), g = !0 } n && k.call(this, n), e && F.call(this) } }, S = function (t) { var e = this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor, r = e * (this.pdf.internal.getLineHeightFactor() - 1); switch (this.ctx.textBaseline) { case "bottom": return t - r; case "top": return t + e - r; case "hanging": return t + e - 2 * r; case "middle": return t + e / 2 - r; case "ideographic": return t; case "alphabetic": default: return t } }, _ = function (t) { return t + this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor * (this.pdf.internal.getLineHeightFactor() - 1) }; p.prototype.createLinearGradient = function () { var t = function () { }; return t.colorStops = [], t.addColorStop = function (t, e) { this.colorStops.push([t, e]) }, t.getColor = function () { return 0 === this.colorStops.length ? "#000000" : this.colorStops[0][1] }, t.isCanvasGradient = !0, t }, p.prototype.createPattern = function () { return this.createLinearGradient() }, p.prototype.createRadialGradient = function () { return this.createLinearGradient() }; var P = function (t, e, r, n, i, a, o, s, c) { for (var u = M.call(this, r, n, i, a), l = 0; l < u.length; l++) { var h = u[l]; 0 === l && (c ? I.call(this, h.x1 + t, h.y1 + e) : j.call(this, h.x1 + t, h.y1 + e)), B.call(this, t, e, h.x2, h.y2, h.x3, h.y3, h.x4, h.y4) } s ? F.call(this) : k.call(this, o) }, k = function (t) { switch (t) { case "stroke": this.pdf.internal.out("S"); break; case "fill": this.pdf.internal.out("f") } }, F = function () { this.pdf.clip(), this.pdf.discardPath() }, I = function (t, e) { this.pdf.internal.out(n(t) + " " + a(e) + " m") }, C = function (t) { var e; switch (t.align) { case "right": case "end": e = "right"; break; case "center": e = "center"; break; case "left": case "start": default: e = "left" }var r = this.pdf.getTextDimensions(t.text), n = S.call(this, t.y), i = _.call(this, n) - r.h, a = this.ctx.transform.applyToPoint(new c(t.x, n)), o = this.ctx.transform.decompose(), s = new l; s = (s = (s = s.multiply(o.translate)).multiply(o.skew)).multiply(o.scale); for (var h, f, d, p = this.ctx.transform.applyToRectangle(new u(t.x, n, r.w, r.h)), g = s.applyToRectangle(new u(t.x, i, r.w, r.h)), m = y.call(this, g), v = [], w = 0; w < m.length; w += 1)-1 === v.indexOf(m[w]) && v.push(m[w]); if (L(v), this.autoPaging) for (var A = v[0], P = v[v.length - 1], k = A; k < P + 1; k++) { this.pdf.setPage(k); var F = 1 === k ? this.posY + this.margin[0] : this.margin[0], I = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], C = this.pdf.internal.pageSize.height - this.margin[2], j = C - this.margin[0], O = this.pdf.internal.pageSize.width - this.margin[1], B = O - this.margin[3], M = 1 === k ? 0 : I + (k - 2) * j; if (0 !== this.ctx.clip_path.length) { var E = this.path; h = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N(h, this.posX + this.margin[3], -1 * M + F), x.call(this, "fill", !0), this.path = E } var q = N([JSON.parse(JSON.stringify(g))], this.posX + this.margin[3], -M + F + this.ctx.prevPageLastElemOffset)[0]; t.scale >= .01 && (f = this.pdf.internal.getFontSize(), this.pdf.setFontSize(f * t.scale), d = this.lineWidth, this.lineWidth = d * t.scale); var D = "text" !== this.autoPaging; if (D || q.y + q.h <= C) { if (D || q.y >= F && q.x <= O) { var R = D ? t.text : this.pdf.splitTextToSize(t.text, t.maxWidth || O - q.x)[0], T = N([JSON.parse(JSON.stringify(p))], this.posX + this.margin[3], -M + F + this.ctx.prevPageLastElemOffset)[0], U = D && (k > A || k < P) && b.call(this); U && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], B, j, null).clip().discardPath()), this.pdf.text(R, T.x, T.y, { angle: t.angle, align: e, renderingMode: t.renderingMode }), U && this.pdf.restoreGraphicsState() } } else q.y < C && (this.ctx.prevPageLastElemOffset += C - q.y); t.scale >= .01 && (this.pdf.setFontSize(f), this.lineWidth = d) } else t.scale >= .01 && (f = this.pdf.internal.getFontSize(), this.pdf.setFontSize(f * t.scale), d = this.lineWidth, this.lineWidth = d * t.scale), this.pdf.text(t.text, a.x + this.posX, a.y + this.posY, { angle: t.angle, align: e, renderingMode: t.renderingMode, maxWidth: t.maxWidth }), t.scale >= .01 && (this.pdf.setFontSize(f), this.lineWidth = d) }, j = function (t, e, r, i) { r = r || 0, i = i || 0, this.pdf.internal.out(n(t + r) + " " + a(e + i) + " l") }, O = function (t, e, r) { return this.pdf.lines(t, e, r, null, null) }, B = function (t, e, n, i, a, c, u, l) { this.pdf.internal.out([r(o(n + t)), r(s(i + e)), r(o(a + t)), r(s(c + e)), r(o(u + t)), r(s(l + e)), "c"].join(" ")) }, M = function (t, e, r, n) { for (var i = 2 * Math.PI, a = Math.PI / 2; e > r;)e -= i; var o = Math.abs(r - e); o < i && n && (o = i - o); for (var s = [], c = n ? -1 : 1, u = e; o > 1e-5;) { var l = u + c * Math.min(o, a); s.push(E.call(this, t, u, l)), o -= Math.abs(l - u), u = l } return s }, E = function (t, e, r) { var n = (r - e) / 2, i = t * Math.cos(n), a = t * Math.sin(n), o = i, s = -a, c = o * o + s * s, u = c + o * i + s * a, l = 4 / 3 * (Math.sqrt(2 * c * u) - u) / (o * a - s * i), h = o - l * s, f = s + l * o, d = h, p = -f, g = n + e, m = Math.cos(g), v = Math.sin(g); return { x1: t * Math.cos(e), y1: t * Math.sin(e), x2: h * m - f * v, y2: h * v + f * m, x3: d * m - p * v, y3: d * v + p * m, x4: t * Math.cos(r), y4: t * Math.sin(r) } }, q = function (t) { return 180 * t / Math.PI }, D = function (t, e, r, n, i, a) { var o = t + .5 * (r - t), s = e + .5 * (n - e), c = i + .5 * (r - i), l = a + .5 * (n - a), h = Math.min(t, i, o, c), f = Math.max(t, i, o, c), d = Math.min(e, a, s, l), p = Math.max(e, a, s, l); return new u(h, d, f - h, p - d) }, R = function (t, e, r, n, i, a, o, s) { var c, l, h, f, d, p, g, m, v, b, y, w, N, L, A = r - t, x = n - e, S = i - r, _ = a - n, P = o - i, k = s - a; for (l = 0; l < 41; l++)v = (g = (h = t + (c = l / 40) * A) + c * ((d = r + c * S) - h)) + c * (d + c * (i + c * P - d) - g), b = (m = (f = e + c * x) + c * ((p = n + c * _) - f)) + c * (p + c * (a + c * k - p) - m), 0 == l ? (y = v, w = b, N = v, L = b) : (y = Math.min(y, v), w = Math.min(w, b), N = Math.max(N, v), L = Math.max(L, b)); return new u(Math.round(y), Math.round(w), Math.round(N - y), Math.round(L - w)) }, T = function () { if (this.prevLineDash || this.ctx.lineDash.length || this.ctx.lineDashOffset) { var t, e, r = (t = this.ctx.lineDash, e = this.ctx.lineDashOffset, JSON.stringify({ lineDash: t, lineDashOffset: e })); this.prevLineDash !== r && (this.pdf.setLineDash(this.ctx.lineDash, this.ctx.lineDashOffset), this.prevLineDash = r) } } }(M.API); try { require("worker_threads").Worker } catch (t) { } var Ut = Uint8Array, zt = Uint16Array, Ht = Uint32Array, Wt = new Ut([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]), Vt = new Ut([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]), Gt = new Ut([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), Yt = function (t, e) { for (var r = new zt(31), n = 0; n < 31; ++n)r[n] = e += 1 << t[n - 1]; var i = new Ht(r[30]); for (n = 1; n < 30; ++n)for (var a = r[n]; a < r[n + 1]; ++a)i[a] = a - r[n] << 5 | n; return [r, i] }, Jt = Yt(Wt, 2), Xt = Jt[0], Kt = Jt[1]; Xt[28] = 258, Kt[258] = 28; for (var Zt = Yt(Vt, 0), $t = Zt[0], Qt = Zt[1], te = new zt(32768), ee = 0; ee < 32768; ++ee) { var re = (43690 & ee) >>> 1 | (21845 & ee) << 1; re = (61680 & (re = (52428 & re) >>> 2 | (13107 & re) << 2)) >>> 4 | (3855 & re) << 4, te[ee] = ((65280 & re) >>> 8 | (255 & re) << 8) >>> 1 } var ne = function (t, e, r) { for (var n = t.length, i = 0, a = new zt(e); i < n; ++i)++a[t[i] - 1]; var o, s = new zt(e); for (i = 0; i < e; ++i)s[i] = s[i - 1] + a[i - 1] << 1; if (r) { o = new zt(1 << e); var c = 15 - e; for (i = 0; i < n; ++i)if (t[i]) for (var u = i << 4 | t[i], l = e - t[i], h = s[t[i] - 1]++ << l, f = h | (1 << l) - 1; h <= f; ++h)o[te[h] >>> c] = u } else for (o = new zt(n), i = 0; i < n; ++i)o[i] = te[s[t[i] - 1]++] >>> 15 - t[i]; return o }, ie = new Ut(288); for (ee = 0; ee < 144; ++ee)ie[ee] = 8; for (ee = 144; ee < 256; ++ee)ie[ee] = 9; for (ee = 256; ee < 280; ++ee)ie[ee] = 7; for (ee = 280; ee < 288; ++ee)ie[ee] = 8; var ae = new Ut(32); for (ee = 0; ee < 32; ++ee)ae[ee] = 5; var oe = ne(ie, 9, 0), se = ne(ie, 9, 1), ce = ne(ae, 5, 0), ue = ne(ae, 5, 1), le = function (t) { for (var e = t[0], r = 1; r < t.length; ++r)t[r] > e && (e = t[r]); return e }, he = function (t, e, r) { var n = e / 8 >> 0; return (t[n] | t[n + 1] << 8) >>> (7 & e) & r }, fe = function (t, e) { var r = e / 8 >> 0; return (t[r] | t[r + 1] << 8 | t[r + 2] << 16) >>> (7 & e) }, de = function (t) { return (t / 8 >> 0) + (7 & t && 1) }, pe = function (t, e, r) { (null == e || e < 0) && (e = 0), (null == r || r > t.length) && (r = t.length); var n = new (t instanceof zt ? zt : t instanceof Ht ? Ht : Ut)(r - e); return n.set(t.subarray(e, r)), n }, ge = function (t, e, r) { r <<= 7 & e; var n = e / 8 >> 0; t[n] |= r, t[n + 1] |= r >>> 8 }, me = function (t, e, r) { r <<= 7 & e; var n = e / 8 >> 0; t[n] |= r, t[n + 1] |= r >>> 8, t[n + 2] |= r >>> 16 }, ve = function (t, e) { for (var r = [], n = 0; n < t.length; ++n)t[n] && r.push({ s: n, f: t[n] }); var i = r.length, a = r.slice(); if (!i) return [new Ut(0), 0]; if (1 == i) { var o = new Ut(r[0].s + 1); return o[r[0].s] = 1, [o, 1] } r.sort((function (t, e) { return t.f - e.f })), r.push({ s: -1, f: 25001 }); var s = r[0], c = r[1], u = 0, l = 1, h = 2; for (r[0] = { s: -1, f: s.f + c.f, l: s, r: c }; l != i - 1;)s = r[r[u].f < r[h].f ? u++ : h++], c = r[u != l && r[u].f < r[h].f ? u++ : h++], r[l++] = { s: -1, f: s.f + c.f, l: s, r: c }; var f = a[0].s; for (n = 1; n < i; ++n)a[n].s > f && (f = a[n].s); var d = new zt(f + 1), p = be(r[l - 1], d, 0); if (p > e) { n = 0; var g = 0, m = p - e, v = 1 << m; for (a.sort((function (t, e) { return d[e.s] - d[t.s] || t.f - e.f })); n < i; ++n) { var b = a[n].s; if (!(d[b] > e)) break; g += v - (1 << p - d[b]), d[b] = e } for (g >>>= m; g > 0;) { var y = a[n].s; d[y] < e ? g -= 1 << e - d[y]++ - 1 : ++n } for (; n >= 0 && g; --n) { var w = a[n].s; d[w] == e && (--d[w], ++g) } p = e } return [new Ut(d), p] }, be = function (t, e, r) { return -1 == t.s ? Math.max(be(t.l, e, r + 1), be(t.r, e, r + 1)) : e[t.s] = r }, ye = function (t) { for (var e = t.length; e && !t[--e];); for (var r = new zt(++e), n = 0, i = t[0], a = 1, o = function (t) { r[n++] = t }, s = 1; s <= e; ++s)if (t[s] == i && s != e) ++a; else { if (!i && a > 2) { for (; a > 138; a -= 138)o(32754); a > 2 && (o(a > 10 ? a - 11 << 5 | 28690 : a - 3 << 5 | 12305), a = 0) } else if (a > 3) { for (o(i), --a; a > 6; a -= 6)o(8304); a > 2 && (o(a - 3 << 5 | 8208), a = 0) } for (; a--;)o(i); a = 1, i = t[s] } return [r.subarray(0, n), e] }, we = function (t, e) { for (var r = 0, n = 0; n < e.length; ++n)r += t[n] * e[n]; return r }, Ne = function (t, e, r) { var n = r.length, i = de(e + 2); t[i] = 255 & n, t[i + 1] = n >>> 8, t[i + 2] = 255 ^ t[i], t[i + 3] = 255 ^ t[i + 1]; for (var a = 0; a < n; ++a)t[i + a + 4] = r[a]; return 8 * (i + 4 + n) }, Le = function (t, e, r, n, i, a, o, s, c, u, l) { ge(e, l++, r), ++i[256]; for (var h = ve(i, 15), f = h[0], d = h[1], p = ve(a, 15), g = p[0], m = p[1], v = ye(f), b = v[0], y = v[1], w = ye(g), N = w[0], L = w[1], A = new zt(19), x = 0; x < b.length; ++x)A[31 & b[x]]++; for (x = 0; x < N.length; ++x)A[31 & N[x]]++; for (var S = ve(A, 7), _ = S[0], P = S[1], k = 19; k > 4 && !_[Gt[k - 1]]; --k); var F, I, C, j, O = u + 5 << 3, B = we(i, ie) + we(a, ae) + o, M = we(i, f) + we(a, g) + o + 14 + 3 * k + we(A, _) + (2 * A[16] + 3 * A[17] + 7 * A[18]); if (O <= B && O <= M) return Ne(e, l, t.subarray(c, c + u)); if (ge(e, l, 1 + (M < B)), l += 2, M < B) { F = ne(f, d, 0), I = f, C = ne(g, m, 0), j = g; var E = ne(_, P, 0); ge(e, l, y - 257), ge(e, l + 5, L - 1), ge(e, l + 10, k - 4), l += 14; for (x = 0; x < k; ++x)ge(e, l + 3 * x, _[Gt[x]]); l += 3 * k; for (var q = [b, N], D = 0; D < 2; ++D) { var R = q[D]; for (x = 0; x < R.length; ++x) { var T = 31 & R[x]; ge(e, l, E[T]), l += _[T], T > 15 && (ge(e, l, R[x] >>> 5 & 127), l += R[x] >>> 12) } } } else F = oe, I = ie, C = ce, j = ae; for (x = 0; x < s; ++x)if (n[x] > 255) { T = n[x] >>> 18 & 31; me(e, l, F[T + 257]), l += I[T + 257], T > 7 && (ge(e, l, n[x] >>> 23 & 31), l += Wt[T]); var U = 31 & n[x]; me(e, l, C[U]), l += j[U], U > 3 && (me(e, l, n[x] >>> 5 & 8191), l += Vt[U]) } else me(e, l, F[n[x]]), l += I[n[x]]; return me(e, l, F[256]), l + I[256] }, Ae = new Ht([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]), xe = new Ut(0), Se = function (t, e, r, n, i) { return function (t, e, r, n, i, a) { var o = t.length, s = new Ut(n + o + 5 * (1 + Math.floor(o / 7e3)) + i), c = s.subarray(n, s.length - i), u = 0; if (!e || o < 8) for (var l = 0; l <= o; l += 65535) { var h = l + 65535; h < o ? u = Ne(c, u, t.subarray(l, h)) : (c[l] = a, u = Ne(c, u, t.subarray(l, o))) } else { for (var f = Ae[e - 1], d = f >>> 13, p = 8191 & f, g = (1 << r) - 1, m = new zt(32768), v = new zt(g + 1), b = Math.ceil(r / 3), y = 2 * b, w = function (e) { return (t[e] ^ t[e + 1] << b ^ t[e + 2] << y) & g }, N = new Ht(25e3), L = new zt(288), A = new zt(32), x = 0, S = 0, _ = (l = 0, 0), P = 0, k = 0; l < o; ++l) { var F = w(l), I = 32767 & l, C = v[F]; if (m[I] = C, v[F] = I, P <= l) { var j = o - l; if ((x > 7e3 || _ > 24576) && j > 423) { u = Le(t, c, 0, N, L, A, S, _, k, l - k, u), _ = x = S = 0, k = l; for (var O = 0; O < 286; ++O)L[O] = 0; for (O = 0; O < 30; ++O)A[O] = 0 } var B = 2, M = 0, E = p, q = I - C & 32767; if (j > 2 && F == w(l - q)) for (var D = Math.min(d, j) - 1, R = Math.min(32767, l), T = Math.min(258, j); q <= R && --E && I != C;) { if (t[l + B] == t[l + B - q]) { for (var U = 0; U < T && t[l + U] == t[l + U - q]; ++U); if (U > B) { if (B = U, M = q, U > D) break; var z = Math.min(q, U - 2), H = 0; for (O = 0; O < z; ++O) { var W = l - q + O + 32768 & 32767, V = W - m[W] + 32768 & 32767; V > H && (H = V, C = W) } } } q += (I = C) - (C = m[I]) + 32768 & 32767 } if (M) { N[_++] = 268435456 | Kt[B] << 18 | Qt[M]; var G = 31 & Kt[B], Y = 31 & Qt[M]; S += Wt[G] + Vt[Y], ++L[257 + G], ++A[Y], P = l + B, ++x } else N[_++] = t[l], ++L[t[l]] } } u = Le(t, c, a, N, L, A, S, _, k, l - k, u), a || (u = Ne(c, u, xe)) } return pe(s, 0, n + de(u) + i) }(t, null == e.level ? 6 : e.level, null == e.mem ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(t.length)))) : 12 + e.mem, r, n, !i) }; function _e(t, e) { void 0 === e && (e = {}); var r = function () { var t = 1, e = 0; return { p: function (r) { for (var n = t, i = e, a = r.length, o = 0; o != a;) { for (var s = Math.min(o + 5552, a); o < s; ++o)i += n += r[o]; n %= 65521, i %= 65521 } t = n, e = i }, d: function () { return (t >>> 8 << 16 | (255 & e) << 8 | e >>> 8) + 2 * ((255 & t) << 23) } } }(); r.p(t); var n = Se(t, e, 2, 4); return function (t, e) { var r = e.level, n = 0 == r ? 0 : r < 6 ? 1 : 9 == r ? 3 : 2; t[0] = 120, t[1] = n << 6 | (n ? 32 - 2 * n : 1) }(n, e), function (t, e, r) { for (; r; ++e)t[e] = r, r >>>= 8 }(n, n.length - 4, r.d()), n } function Pe(t, e) { return function (t, e, r) { var n = t.length, i = !e || r, a = !r || r.i; r || (r = {}), e || (e = new Ut(3 * n)); var o = function (t) { var r = e.length; if (t > r) { var n = new Ut(Math.max(2 * r, t)); n.set(e), e = n } }, s = r.f || 0, c = r.p || 0, u = r.b || 0, l = r.l, h = r.d, f = r.m, d = r.n, p = 8 * n; do { if (!l) { r.f = s = he(t, c, 1); var g = he(t, c + 1, 3); if (c += 3, !g) { var m = t[(P = de(c) + 4) - 4] | t[P - 3] << 8, v = P + m; if (v > n) { if (a) throw "unexpected EOF"; break } i && o(u + m), e.set(t.subarray(P, v), u), r.b = u += m, r.p = c = 8 * v; continue } if (1 == g) l = se, h = ue, f = 9, d = 5; else { if (2 != g) throw "invalid block type"; var b = he(t, c, 31) + 257, y = he(t, c + 10, 15) + 4, w = b + he(t, c + 5, 31) + 1; c += 14; for (var N = new Ut(w), L = new Ut(19), A = 0; A < y; ++A)L[Gt[A]] = he(t, c + 3 * A, 7); c += 3 * y; var x = le(L), S = (1 << x) - 1; if (!a && c + w * (x + 7) > p) break; var _ = ne(L, x, 1); for (A = 0; A < w;) { var P, k = _[he(t, c, S)]; if (c += 15 & k, (P = k >>> 4) < 16) N[A++] = P; else { var F = 0, I = 0; for (16 == P ? (I = 3 + he(t, c, 3), c += 2, F = N[A - 1]) : 17 == P ? (I = 3 + he(t, c, 7), c += 3) : 18 == P && (I = 11 + he(t, c, 127), c += 7); I--;)N[A++] = F } } var C = N.subarray(0, b), j = N.subarray(b); f = le(C), d = le(j), l = ne(C, f, 1), h = ne(j, d, 1) } if (c > p) throw "unexpected EOF" } i && o(u + 131072); for (var O = (1 << f) - 1, B = (1 << d) - 1, M = f + d + 18; a || c + M < p;) { var E = (F = l[fe(t, c) & O]) >>> 4; if ((c += 15 & F) > p) throw "unexpected EOF"; if (!F) throw "invalid length/literal"; if (E < 256) e[u++] = E; else { if (256 == E) { l = null; break } var q = E - 254; if (E > 264) { var D = Wt[A = E - 257]; q = he(t, c, (1 << D) - 1) + Xt[A], c += D } var R = h[fe(t, c) & B], T = R >>> 4; if (!R) throw "invalid distance"; c += 15 & R; j = $t[T]; if (T > 3) { D = Vt[T]; j += fe(t, c) & (1 << D) - 1, c += D } if (c > p) throw "unexpected EOF"; i && o(u + 131072); for (var U = u + q; u < U; u += 4)e[u] = e[u - j], e[u + 1] = e[u + 1 - j], e[u + 2] = e[u + 2 - j], e[u + 3] = e[u + 3 - j]; u = U } } r.l = l, r.p = c, r.b = u, l && (s = 1, r.m = f, r.d = h, r.n = d) } while (!s); return u == e.length ? e : pe(e, 0, u) }((function (t) { if (8 != (15 & t[0]) || t[0] >>> 4 > 7 || (t[0] << 8 | t[1]) % 31) throw "invalid zlib data"; if (32 & t[1]) throw "invalid zlib data: preset dictionaries not supported" }(t), t.subarray(2, -4)), e) }
/**
   * @license
   * jsPDF filters PlugIn
   * Copyright (c) 2014 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */!function (t) { var e = function (t) { var e, r, n, i, a, o, s, c, u, l; for (/[^\x00-\xFF]/.test(t), r = [], n = 0, i = (t += e = "\0\0\0\0".slice(t.length % 4 || 4)).length; i > n; n += 4)0 !== (a = (t.charCodeAt(n) << 24) + (t.charCodeAt(n + 1) << 16) + (t.charCodeAt(n + 2) << 8) + t.charCodeAt(n + 3)) ? (o = (a = ((a = ((a = ((a = (a - (l = a % 85)) / 85) - (u = a % 85)) / 85) - (c = a % 85)) / 85) - (s = a % 85)) / 85) % 85, r.push(o + 33, s + 33, c + 33, u + 33, l + 33)) : r.push(122); return function (t, e) { for (var r = e; r > 0; r--)t.pop() }(r, e.length), String.fromCharCode.apply(String, r) + "~>" }, r = function (t) { var e, r, n, i, a, o = String, s = "length", c = 255, u = "charCodeAt", l = "slice", h = "replace"; for (t[l](-2), t = t[l](0, -2)[h](/\s/g, "")[h]("z", "!!!!!"), n = [], i = 0, a = (t += e = "uuuuu"[l](t[s] % 5 || 5))[s]; a > i; i += 5)r = 52200625 * (t[u](i) - 33) + 614125 * (t[u](i + 1) - 33) + 7225 * (t[u](i + 2) - 33) + 85 * (t[u](i + 3) - 33) + (t[u](i + 4) - 33), n.push(c & r >> 24, c & r >> 16, c & r >> 8, c & r); return function (t, e) { for (var r = e; r > 0; r--)t.pop() }(n, e[s]), o.fromCharCode.apply(o, n) }, n = function (t) { var e = new RegExp(/^([0-9A-Fa-f]{2})+$/); if (-1 !== (t = t.replace(/\s/g, "")).indexOf(">") && (t = t.substr(0, t.indexOf(">"))), t.length % 2 && (t += "0"), !1 === e.test(t)) return ""; for (var r = "", n = 0; n < t.length; n += 2)r += String.fromCharCode("0x" + (t[n] + t[n + 1])); return r }, i = function (t) { for (var e = new Uint8Array(t.length), r = t.length; r--;)e[r] = t.charCodeAt(r); return t = (e = _e(e)).reduce((function (t, e) { return t + String.fromCharCode(e) }), "") }; t.processDataByFilters = function (t, a) { var o = 0, s = t || "", c = []; for ("string" == typeof (a = a || []) && (a = [a]), o = 0; o < a.length; o += 1)switch (a[o]) { case "ASCII85Decode": case "/ASCII85Decode": s = r(s), c.push("/ASCII85Encode"); break; case "ASCII85Encode": case "/ASCII85Encode": s = e(s), c.push("/ASCII85Decode"); break; case "ASCIIHexDecode": case "/ASCIIHexDecode": s = n(s), c.push("/ASCIIHexEncode"); break; case "ASCIIHexEncode": case "/ASCIIHexEncode": s = s.split("").map((function (t) { return ("0" + t.charCodeAt().toString(16)).slice(-2) })).join("") + ">", c.push("/ASCIIHexDecode"); break; case "FlateEncode": case "/FlateEncode": s = i(s), c.push("/FlateDecode"); break; default: throw new Error('The filter: "' + a[o] + '" is not implemented') }return { data: s, reverseChain: c.reverse().join(" ") } } }(M.API),
        /**
           * @license
           * jsPDF fileloading PlugIn
           * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { t.loadFile = function (t, e, r) { return function (t, e, r) { e = !1 !== e, r = "function" == typeof r ? r : function () { }; var n = void 0; try { n = function (t, e, r) { var n = new XMLHttpRequest, i = 0, a = function (t) { var e = t.length, r = [], n = String.fromCharCode; for (i = 0; i < e; i += 1)r.push(n(255 & t.charCodeAt(i))); return r.join("") }; if (n.open("GET", t, !e), n.overrideMimeType("text/plain; charset=x-user-defined"), !1 === e && (n.onload = function () { 200 === n.status ? r(a(this.responseText)) : r(void 0) }), n.send(null), e && 200 === n.status) return a(n.responseText) }(t, e, r) } catch (t) { } return n }(t, e, r) }, t.loadImageFile = t.loadFile }(M.API), function (n) { function i() { return (r.html2canvas ? Promise.resolve(r.html2canvas) : "object" === (void 0 === t ? "undefined" : e(t)) && "undefined" != typeof module ? new Promise((function (t, e) { try { t(require("html2canvas")) } catch (t) { e(t) } })) : "function" == typeof define && define.amd ? new Promise((function (t, e) { try { require(["html2canvas"], t) } catch (t) { e(t) } })) : Promise.reject(new Error("Could not load html2canvas"))).catch((function (t) { return Promise.reject(new Error("Could not load html2canvas: " + t)) })).then((function (t) { return t.default ? t.default : t })) } function a() { return (r.DOMPurify ? Promise.resolve(r.DOMPurify) : "object" === (void 0 === t ? "undefined" : e(t)) && "undefined" != typeof module ? new Promise((function (t, e) { try { t(require("dompurify")) } catch (t) { e(t) } })) : "function" == typeof define && define.amd ? new Promise((function (t, e) { try { require(["dompurify"], t) } catch (t) { e(t) } })) : Promise.reject(new Error("Could not load dompurify"))).catch((function (t) { return Promise.reject(new Error("Could not load dompurify: " + t)) })).then((function (t) { return t.default ? t.default : t })) } var o = function (t) { var r = e(t); return "undefined" === r ? "undefined" : "string" === r || t instanceof String ? "string" : "number" === r || t instanceof Number ? "number" : "function" === r || t instanceof Function ? "function" : t && t.constructor === Array ? "array" : t && 1 === t.nodeType ? "element" : "object" === r ? "object" : "unknown" }, s = function (t, e) { var r = document.createElement(t); for (var n in e.className && (r.className = e.className), e.innerHTML && e.dompurify && (r.innerHTML = e.dompurify.sanitize(e.innerHTML)), e.style) r.style[n] = e.style[n]; return r }, c = function t(e) { var r = Object.assign(t.convert(Promise.resolve()), JSON.parse(JSON.stringify(t.template))), n = t.convert(Promise.resolve(), r); return n = (n = n.setProgress(1, t, 1, [t])).set(e) }; (c.prototype = Object.create(Promise.prototype)).constructor = c, c.convert = function (t, e) { return t.__proto__ = e || c.prototype, t }, c.template = { prop: { src: null, container: null, overlay: null, canvas: null, img: null, pdf: null, pageSize: null, callback: function () { } }, progress: { val: 0, state: null, n: 0, stack: [] }, opt: { filename: "file.pdf", margin: [0, 0, 0, 0], enableLinks: !0, x: 0, y: 0, html2canvas: {}, jsPDF: {}, backgroundColor: "transparent" } }, c.prototype.from = function (t, e) { return this.then((function () { switch (e = e || function (t) { switch (o(t)) { case "string": return "string"; case "element": return "canvas" === t.nodeName.toLowerCase() ? "canvas" : "element"; default: return "unknown" } }(t)) { case "string": return this.then(a).then((function (e) { return this.set({ src: s("div", { innerHTML: t, dompurify: e }) }) })); case "element": return this.set({ src: t }); case "canvas": return this.set({ canvas: t }); case "img": return this.set({ img: t }); default: return this.error("Unknown source type.") } })) }, c.prototype.to = function (t) { switch (t) { case "container": return this.toContainer(); case "canvas": return this.toCanvas(); case "img": return this.toImg(); case "pdf": return this.toPdf(); default: return this.error("Invalid target.") } }, c.prototype.toContainer = function () { return this.thenList([function () { return this.prop.src || this.error("Cannot duplicate - no source HTML.") }, function () { return this.prop.pageSize || this.setPageSize() }]).then((function () { var t = { position: "relative", display: "inline-block", width: ("number" != typeof this.opt.width || isNaN(this.opt.width) || "number" != typeof this.opt.windowWidth || isNaN(this.opt.windowWidth) ? Math.max(this.prop.src.clientWidth, this.prop.src.scrollWidth, this.prop.src.offsetWidth) : this.opt.windowWidth) + "px", left: 0, right: 0, top: 0, margin: "auto", backgroundColor: this.opt.backgroundColor }, e = function t(e, r) { for (var n = 3 === e.nodeType ? document.createTextNode(e.nodeValue) : e.cloneNode(!1), i = e.firstChild; i; i = i.nextSibling)!0 !== r && 1 === i.nodeType && "SCRIPT" === i.nodeName || n.appendChild(t(i, r)); return 1 === e.nodeType && ("CANVAS" === e.nodeName ? (n.width = e.width, n.height = e.height, n.getContext("2d").drawImage(e, 0, 0)) : "TEXTAREA" !== e.nodeName && "SELECT" !== e.nodeName || (n.value = e.value), n.addEventListener("load", (function () { n.scrollTop = e.scrollTop, n.scrollLeft = e.scrollLeft }), !0)), n }(this.prop.src, this.opt.html2canvas.javascriptEnabled); "BODY" === e.tagName && (t.height = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) + "px"), this.prop.overlay = s("div", { className: "html2pdf__overlay", style: { position: "fixed", overflow: "hidden", zIndex: 1e3, left: "-100000px", right: 0, bottom: 0, top: 0 } }), this.prop.container = s("div", { className: "html2pdf__container", style: t }), this.prop.container.appendChild(e), this.prop.container.firstChild.appendChild(s("div", { style: { clear: "both", border: "0 none transparent", margin: 0, padding: 0, height: 0 } })), this.prop.container.style.float = "none", this.prop.overlay.appendChild(this.prop.container), document.body.appendChild(this.prop.overlay), this.prop.container.firstChild.style.position = "relative", this.prop.container.height = Math.max(this.prop.container.firstChild.clientHeight, this.prop.container.firstChild.scrollHeight, this.prop.container.firstChild.offsetHeight) + "px" })) }, c.prototype.toCanvas = function () { var t = [function () { return document.body.contains(this.prop.container) || this.toContainer() }]; return this.thenList(t).then(i).then((function (t) { var e = Object.assign({}, this.opt.html2canvas); return delete e.onrendered, t(this.prop.container, e) })).then((function (t) { (this.opt.html2canvas.onrendered || function () { })(t), this.prop.canvas = t, document.body.removeChild(this.prop.overlay) })) }, c.prototype.toContext2d = function () { var t = [function () { return document.body.contains(this.prop.container) || this.toContainer() }]; return this.thenList(t).then(i).then((function (t) { var e = this.opt.jsPDF, r = this.opt.fontFaces, n = "number" != typeof this.opt.width || isNaN(this.opt.width) || "number" != typeof this.opt.windowWidth || isNaN(this.opt.windowWidth) ? 1 : this.opt.width / this.opt.windowWidth, i = Object.assign({ async: !0, allowTaint: !0, scale: n, scrollX: this.opt.scrollX || 0, scrollY: this.opt.scrollY || 0, backgroundColor: "#ffffff", imageTimeout: 15e3, logging: !0, proxy: null, removeContainer: !0, foreignObjectRendering: !1, useCORS: !1 }, this.opt.html2canvas); if (delete i.onrendered, e.context2d.autoPaging = void 0 === this.opt.autoPaging || this.opt.autoPaging, e.context2d.posX = this.opt.x, e.context2d.posY = this.opt.y, e.context2d.margin = this.opt.margin, e.context2d.fontFaces = r, r) for (var a = 0; a < r.length; ++a) { var o = r[a], s = o.src.find((function (t) { return "truetype" === t.format })); s && e.addFont(s.url, o.ref.name, o.ref.style) } return i.windowHeight = i.windowHeight || 0, i.windowHeight = 0 == i.windowHeight ? Math.max(this.prop.container.clientHeight, this.prop.container.scrollHeight, this.prop.container.offsetHeight) : i.windowHeight, e.context2d.save(!0), t(this.prop.container, i) })).then((function (t) { this.opt.jsPDF.context2d.restore(!0), (this.opt.html2canvas.onrendered || function () { })(t), this.prop.canvas = t, document.body.removeChild(this.prop.overlay) })) }, c.prototype.toImg = function () { return this.thenList([function () { return this.prop.canvas || this.toCanvas() }]).then((function () { var t = this.prop.canvas.toDataURL("image/" + this.opt.image.type, this.opt.image.quality); this.prop.img = document.createElement("img"), this.prop.img.src = t })) }, c.prototype.toPdf = function () { return this.thenList([function () { return this.toContext2d() }]).then((function () { this.prop.pdf = this.prop.pdf || this.opt.jsPDF })) }, c.prototype.output = function (t, e, r) { return "img" === (r = r || "pdf").toLowerCase() || "image" === r.toLowerCase() ? this.outputImg(t, e) : this.outputPdf(t, e) }, c.prototype.outputPdf = function (t, e) { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).then((function () { return this.prop.pdf.output(t, e) })) }, c.prototype.outputImg = function (t) { return this.thenList([function () { return this.prop.img || this.toImg() }]).then((function () { switch (t) { case void 0: case "img": return this.prop.img; case "datauristring": case "dataurlstring": return this.prop.img.src; case "datauri": case "dataurl": return document.location.href = this.prop.img.src; default: throw 'Image output type "' + t + '" is not supported.' } })) }, c.prototype.save = function (t) { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).set(t ? { filename: t } : null).then((function () { this.prop.pdf.save(this.opt.filename) })) }, c.prototype.doCallback = function () { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).then((function () { this.prop.callback(this.prop.pdf) })) }, c.prototype.set = function (t) { if ("object" !== o(t)) return this; var e = Object.keys(t || {}).map((function (e) { if (e in c.template.prop) return function () { this.prop[e] = t[e] }; switch (e) { case "margin": return this.setMargin.bind(this, t.margin); case "jsPDF": return function () { return this.opt.jsPDF = t.jsPDF, this.setPageSize() }; case "pageSize": return this.setPageSize.bind(this, t.pageSize); default: return function () { this.opt[e] = t[e] } } }), this); return this.then((function () { return this.thenList(e) })) }, c.prototype.get = function (t, e) { return this.then((function () { var r = t in c.template.prop ? this.prop[t] : this.opt[t]; return e ? e(r) : r })) }, c.prototype.setMargin = function (t) { return this.then((function () { switch (o(t)) { case "number": t = [t, t, t, t]; case "array": if (2 === t.length && (t = [t[0], t[1], t[0], t[1]]), 4 === t.length) break; default: return this.error("Invalid margin array.") }this.opt.margin = t })).then(this.setPageSize) }, c.prototype.setPageSize = function (t) { function e(t, e) { return Math.floor(t * e / 72 * 96) } return this.then((function () { (t = t || M.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner") || (t.inner = { width: t.width - this.opt.margin[1] - this.opt.margin[3], height: t.height - this.opt.margin[0] - this.opt.margin[2] }, t.inner.px = { width: e(t.inner.width, t.k), height: e(t.inner.height, t.k) }, t.inner.ratio = t.inner.height / t.inner.width), this.prop.pageSize = t })) }, c.prototype.setProgress = function (t, e, r, n) { return null != t && (this.progress.val = t), null != e && (this.progress.state = e), null != r && (this.progress.n = r), null != n && (this.progress.stack = n), this.progress.ratio = this.progress.val / this.progress.state, this }, c.prototype.updateProgress = function (t, e, r, n) { return this.setProgress(t ? this.progress.val + t : null, e || null, r ? this.progress.n + r : null, n ? this.progress.stack.concat(n) : null) }, c.prototype.then = function (t, e) { var r = this; return this.thenCore(t, e, (function (t, e) { return r.updateProgress(null, null, 1, [t]), Promise.prototype.then.call(this, (function (e) { return r.updateProgress(null, t), e })).then(t, e).then((function (t) { return r.updateProgress(1), t })) })) }, c.prototype.thenCore = function (t, e, r) { r = r || Promise.prototype.then; t && (t = t.bind(this)), e && (e = e.bind(this)); var n = -1 !== Promise.toString().indexOf("[native code]") && "Promise" === Promise.name ? this : c.convert(Object.assign({}, this), Promise.prototype), i = r.call(n, t, e); return c.convert(i, this.__proto__) }, c.prototype.thenExternal = function (t, e) { return Promise.prototype.then.call(this, t, e) }, c.prototype.thenList = function (t) { var e = this; return t.forEach((function (t) { e = e.thenCore(t) })), e }, c.prototype.catch = function (t) { t && (t = t.bind(this)); var e = Promise.prototype.catch.call(this, t); return c.convert(e, this) }, c.prototype.catchExternal = function (t) { return Promise.prototype.catch.call(this, t) }, c.prototype.error = function (t) { return this.then((function () { throw new Error(t) })) }, c.prototype.using = c.prototype.set, c.prototype.saveAs = c.prototype.save, c.prototype.export = c.prototype.output, c.prototype.run = c.prototype.then, M.getPageSize = function (t, r, n) { if ("object" === e(t)) { var i = t; t = i.orientation, r = i.unit || r, n = i.format || n } r = r || "mm", n = n || "a4", t = ("" + (t || "P")).toLowerCase(); var a, o = ("" + n).toLowerCase(), s = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; switch (r) { case "pt": a = 1; break; case "mm": a = 72 / 25.4; break; case "cm": a = 72 / 2.54; break; case "in": a = 72; break; case "px": a = .75; break; case "pc": case "em": a = 12; break; case "ex": a = 6; break; default: throw "Invalid unit: " + r }var c, u = 0, l = 0; if (s.hasOwnProperty(o)) u = s[o][1] / a, l = s[o][0] / a; else try { u = n[1], l = n[0] } catch (t) { throw new Error("Invalid format: " + n) } if ("p" === t || "portrait" === t) t = "p", l > u && (c = l, l = u, u = c); else { if ("l" !== t && "landscape" !== t) throw "Invalid orientation: " + t; t = "l", u > l && (c = l, l = u, u = c) } return { width: l, height: u, unit: r, k: a, orientation: t } }, n.html = function (t, e) { (e = e || {}).callback = e.callback || function () { }, e.html2canvas = e.html2canvas || {}, e.html2canvas.canvas = e.html2canvas.canvas || this.canvas, e.jsPDF = e.jsPDF || this, e.fontFaces = e.fontFaces ? e.fontFaces.map(Ct) : null; var r = new c(e); return e.worker ? r : r.from(t).doCallback() } }(M.API),
        /**
           * @license
           * ====================================================================
           * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
           *
           * Permission is hereby granted, free of charge, to any person obtaining
           * a copy of this software and associated documentation files (the
           * "Software"), to deal in the Software without restriction, including
           * without limitation the rights to use, copy, modify, merge, publish,
           * distribute, sublicense, and/or sell copies of the Software, and to
           * permit persons to whom the Software is furnished to do so, subject to
           * the following conditions:
           *
           * The above copyright notice and this permission notice shall be
           * included in all copies or substantial portions of the Software.
           *
           * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
           * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
           * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
           * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
           * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
           * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
           * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
           * ====================================================================
           */
        function (t) { var e, r, n; t.addJS = function (t) { return n = t, this.internal.events.subscribe("postPutResources", (function () { e = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/Names [(EmbeddedJS) " + (e + 1) + " 0 R]"), this.internal.out(">>"), this.internal.out("endobj"), r = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /JavaScript"), this.internal.out("/JS (" + n + ")"), this.internal.out(">>"), this.internal.out("endobj") })), this.internal.events.subscribe("putCatalog", (function () { void 0 !== e && void 0 !== r && this.internal.out("/Names <</JavaScript " + e + " 0 R>>") })), this } }(M.API),
        /**
           * @license
           * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { var e; t.events.push(["postPutResources", function () { var t = this, r = /^(\d+) 0 obj$/; if (this.outline.root.children.length > 0) for (var n = t.outline.render().split(/\r\n/), i = 0; i < n.length; i++) { var a = n[i], o = r.exec(a); if (null != o) { var s = o[1]; t.internal.newObjectDeferredBegin(s, !1) } t.internal.write(a) } if (this.outline.createNamedDestinations) { var c = this.internal.pages.length, u = []; for (i = 0; i < c; i++) { var l = t.internal.newObject(); u.push(l); var h = t.internal.getPageInfo(i + 1); t.internal.write("<< /D[" + h.objId + " 0 R /XYZ null null null]>> endobj") } var f = t.internal.newObject(); t.internal.write("<< /Names [ "); for (i = 0; i < u.length; i++)t.internal.write("(page_" + (i + 1) + ")" + u[i] + " 0 R"); t.internal.write(" ] >>", "endobj"), e = t.internal.newObject(), t.internal.write("<< /Dests " + f + " 0 R"), t.internal.write(">>", "endobj") } }]), t.events.push(["putCatalog", function () { this.outline.root.children.length > 0 && (this.internal.write("/Outlines", this.outline.makeRef(this.outline.root)), this.outline.createNamedDestinations && this.internal.write("/Names " + e + " 0 R")) }]), t.events.push(["initialized", function () { var t = this; t.outline = { createNamedDestinations: !1, root: { children: [] } }, t.outline.add = function (t, e, r) { var n = { title: e, options: r, children: [] }; return null == t && (t = this.root), t.children.push(n), n }, t.outline.render = function () { return this.ctx = {}, this.ctx.val = "", this.ctx.pdf = t, this.genIds_r(this.root), this.renderRoot(this.root), this.renderItems(this.root), this.ctx.val }, t.outline.genIds_r = function (e) { e.id = t.internal.newObjectDeferred(); for (var r = 0; r < e.children.length; r++)this.genIds_r(e.children[r]) }, t.outline.renderRoot = function (t) { this.objStart(t), this.line("/Type /Outlines"), t.children.length > 0 && (this.line("/First " + this.makeRef(t.children[0])), this.line("/Last " + this.makeRef(t.children[t.children.length - 1]))), this.line("/Count " + this.count_r({ count: 0 }, t)), this.objEnd() }, t.outline.renderItems = function (e) { for (var r = this.ctx.pdf.internal.getVerticalCoordinateString, n = 0; n < e.children.length; n++) { var i = e.children[n]; this.objStart(i), this.line("/Title " + this.makeString(i.title)), this.line("/Parent " + this.makeRef(e)), n > 0 && this.line("/Prev " + this.makeRef(e.children[n - 1])), n < e.children.length - 1 && this.line("/Next " + this.makeRef(e.children[n + 1])), i.children.length > 0 && (this.line("/First " + this.makeRef(i.children[0])), this.line("/Last " + this.makeRef(i.children[i.children.length - 1]))); var a = this.count = this.count_r({ count: 0 }, i); if (a > 0 && this.line("/Count " + a), i.options && i.options.pageNumber) { var o = t.internal.getPageInfo(i.options.pageNumber); this.line("/Dest [" + o.objId + " 0 R /XYZ 0 " + r(0) + " 0]") } this.objEnd() } for (var s = 0; s < e.children.length; s++)this.renderItems(e.children[s]) }, t.outline.line = function (t) { this.ctx.val += t + "\r\n" }, t.outline.makeRef = function (t) { return t.id + " 0 R" }, t.outline.makeString = function (e) { return "(" + t.internal.pdfEscape(e) + ")" }, t.outline.objStart = function (t) { this.ctx.val += "\r\n" + t.id + " 0 obj\r\n<<\r\n" }, t.outline.objEnd = function () { this.ctx.val += ">> \r\nendobj\r\n" }, t.outline.count_r = function (t, e) { for (var r = 0; r < e.children.length; r++)t.count++, this.count_r(t, e.children[r]); return t.count } }]) }(M.API),
        /**
           * @license
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { var e = [192, 193, 194, 195, 196, 197, 198, 199]; t.processJPEG = function (t, r, n, i, a, o) { var s, c = this.decode.DCT_DECODE, u = null; if ("string" == typeof t || this.__addimage__.isArrayBuffer(t) || this.__addimage__.isArrayBufferView(t)) { switch (t = a || t, t = this.__addimage__.isArrayBuffer(t) ? new Uint8Array(t) : t, (s = function (t) { for (var r, n = 256 * t.charCodeAt(4) + t.charCodeAt(5), i = t.length, a = { width: 0, height: 0, numcomponents: 1 }, o = 4; o < i; o += 2) { if (o += n, -1 !== e.indexOf(t.charCodeAt(o + 1))) { r = 256 * t.charCodeAt(o + 5) + t.charCodeAt(o + 6), a = { width: 256 * t.charCodeAt(o + 7) + t.charCodeAt(o + 8), height: r, numcomponents: t.charCodeAt(o + 9) }; break } n = 256 * t.charCodeAt(o + 2) + t.charCodeAt(o + 3) } return a }(t = this.__addimage__.isArrayBufferView(t) ? this.__addimage__.arrayBufferToBinaryString(t) : t)).numcomponents) { case 1: o = this.color_spaces.DEVICE_GRAY; break; case 4: o = this.color_spaces.DEVICE_CMYK; break; case 3: o = this.color_spaces.DEVICE_RGB }u = { data: t, width: s.width, height: s.height, colorSpace: o, bitsPerComponent: 8, filter: c, index: r, alias: n } } return u } }(M.API); var ke, Fe, Ie, Ce, je, Oe = function () { var t, e, n; function i(t) { var e, r, n, i, a, o, s, c, u, l, h, f, d, p; for (this.data = t, this.pos = 8, this.palette = [], this.imgData = [], this.transparency = {}, this.animation = null, this.text = {}, o = null; ;) { switch (e = this.readUInt32(), u = function () { var t, e; for (e = [], t = 0; t < 4; ++t)e.push(String.fromCharCode(this.data[this.pos++])); return e }.call(this).join("")) { case "IHDR": this.width = this.readUInt32(), this.height = this.readUInt32(), this.bits = this.data[this.pos++], this.colorType = this.data[this.pos++], this.compressionMethod = this.data[this.pos++], this.filterMethod = this.data[this.pos++], this.interlaceMethod = this.data[this.pos++]; break; case "acTL": this.animation = { numFrames: this.readUInt32(), numPlays: this.readUInt32() || 1 / 0, frames: [] }; break; case "PLTE": this.palette = this.read(e); break; case "fcTL": o && this.animation.frames.push(o), this.pos += 4, o = { width: this.readUInt32(), height: this.readUInt32(), xOffset: this.readUInt32(), yOffset: this.readUInt32() }, a = this.readUInt16(), i = this.readUInt16() || 100, o.delay = 1e3 * a / i, o.disposeOp = this.data[this.pos++], o.blendOp = this.data[this.pos++], o.data = []; break; case "IDAT": case "fdAT": for ("fdAT" === u && (this.pos += 4, e -= 4), t = (null != o ? o.data : void 0) || this.imgData, f = 0; 0 <= e ? f < e : f > e; 0 <= e ? ++f : --f)t.push(this.data[this.pos++]); break; case "tRNS": switch (this.transparency = {}, this.colorType) { case 3: if (n = this.palette.length / 3, this.transparency.indexed = this.read(e), this.transparency.indexed.length > n) throw new Error("More transparent colors than palette size"); if ((l = n - this.transparency.indexed.length) > 0) for (d = 0; 0 <= l ? d < l : d > l; 0 <= l ? ++d : --d)this.transparency.indexed.push(255); break; case 0: this.transparency.grayscale = this.read(e)[0]; break; case 2: this.transparency.rgb = this.read(e) }break; case "tEXt": s = (h = this.read(e)).indexOf(0), c = String.fromCharCode.apply(String, h.slice(0, s)), this.text[c] = String.fromCharCode.apply(String, h.slice(s + 1)); break; case "IEND": return o && this.animation.frames.push(o), this.colors = function () { switch (this.colorType) { case 0: case 3: case 4: return 1; case 2: case 6: return 3 } }.call(this), this.hasAlphaChannel = 4 === (p = this.colorType) || 6 === p, r = this.colors + (this.hasAlphaChannel ? 1 : 0), this.pixelBitlength = this.bits * r, this.colorSpace = function () { switch (this.colors) { case 1: return "DeviceGray"; case 3: return "DeviceRGB" } }.call(this), void (this.imgData = new Uint8Array(this.imgData)); default: this.pos += e }if (this.pos += 4, this.pos > this.data.length) throw new Error("Incomplete or corrupt PNG file") } } i.prototype.read = function (t) { var e, r; for (r = [], e = 0; 0 <= t ? e < t : e > t; 0 <= t ? ++e : --e)r.push(this.data[this.pos++]); return r }, i.prototype.readUInt32 = function () { return this.data[this.pos++] << 24 | this.data[this.pos++] << 16 | this.data[this.pos++] << 8 | this.data[this.pos++] }, i.prototype.readUInt16 = function () { return this.data[this.pos++] << 8 | this.data[this.pos++] }, i.prototype.decodePixels = function (t) { var e = this.pixelBitlength / 8, r = new Uint8Array(this.width * this.height * e), n = 0, i = this; if (null == t && (t = this.imgData), 0 === t.length) return new Uint8Array(0); function a(a, o, s, c) { var u, l, h, f, d, p, g, m, v, b, y, w, N, L, A, x, S, _, P, k, F, I = Math.ceil((i.width - a) / s), C = Math.ceil((i.height - o) / c), j = i.width == I && i.height == C; for (L = e * I, w = j ? r : new Uint8Array(L * C), p = t.length, N = 0, l = 0; N < C && n < p;) { switch (t[n++]) { case 0: for (f = S = 0; S < L; f = S += 1)w[l++] = t[n++]; break; case 1: for (f = _ = 0; _ < L; f = _ += 1)u = t[n++], d = f < e ? 0 : w[l - e], w[l++] = (u + d) % 256; break; case 2: for (f = P = 0; P < L; f = P += 1)u = t[n++], h = (f - f % e) / e, A = N && w[(N - 1) * L + h * e + f % e], w[l++] = (A + u) % 256; break; case 3: for (f = k = 0; k < L; f = k += 1)u = t[n++], h = (f - f % e) / e, d = f < e ? 0 : w[l - e], A = N && w[(N - 1) * L + h * e + f % e], w[l++] = (u + Math.floor((d + A) / 2)) % 256; break; case 4: for (f = F = 0; F < L; f = F += 1)u = t[n++], h = (f - f % e) / e, d = f < e ? 0 : w[l - e], 0 === N ? A = x = 0 : (A = w[(N - 1) * L + h * e + f % e], x = h && w[(N - 1) * L + (h - 1) * e + f % e]), g = d + A - x, m = Math.abs(g - d), b = Math.abs(g - A), y = Math.abs(g - x), v = m <= b && m <= y ? d : b <= y ? A : x, w[l++] = (u + v) % 256; break; default: throw new Error("Invalid filter algorithm: " + t[n - 1]) }if (!j) { var O = ((o + N * c) * i.width + a) * e, B = N * L; for (f = 0; f < I; f += 1) { for (var M = 0; M < e; M += 1)r[O++] = w[B++]; O += (s - 1) * e } } N++ } } return t = Pe(t), 1 == i.interlaceMethod ? (a(0, 0, 8, 8), a(4, 0, 8, 8), a(0, 4, 4, 8), a(2, 0, 4, 4), a(0, 2, 2, 4), a(1, 0, 2, 2), a(0, 1, 1, 2)) : a(0, 0, 1, 1), r }, i.prototype.decodePalette = function () { var t, e, r, n, i, a, o, s, c; for (r = this.palette, a = this.transparency.indexed || [], i = new Uint8Array((a.length || 0) + r.length), n = 0, t = 0, e = o = 0, s = r.length; o < s; e = o += 3)i[n++] = r[e], i[n++] = r[e + 1], i[n++] = r[e + 2], i[n++] = null != (c = a[t++]) ? c : 255; return i }, i.prototype.copyToImageData = function (t, e) { var r, n, i, a, o, s, c, u, l, h, f; if (n = this.colors, l = null, r = this.hasAlphaChannel, this.palette.length && (l = null != (f = this._decodedPalette) ? f : this._decodedPalette = this.decodePalette(), n = 4, r = !0), u = (i = t.data || t).length, o = l || e, a = s = 0, 1 === n) for (; a < u;)c = l ? 4 * e[a / 4] : s, h = o[c++], i[a++] = h, i[a++] = h, i[a++] = h, i[a++] = r ? o[c++] : 255, s = c; else for (; a < u;)c = l ? 4 * e[a / 4] : s, i[a++] = o[c++], i[a++] = o[c++], i[a++] = o[c++], i[a++] = r ? o[c++] : 255, s = c }, i.prototype.decode = function () { var t; return t = new Uint8Array(this.width * this.height * 4), this.copyToImageData(t, this.decodePixels()), t }; var a = function () { if ("[object Window]" === Object.prototype.toString.call(r)) { try { e = r.document.createElement("canvas"), n = e.getContext("2d") } catch (t) { return !1 } return !0 } return !1 }; return a(), t = function (t) { var r; if (!0 === a()) return n.width = t.width, n.height = t.height, n.clearRect(0, 0, t.width, t.height), n.putImageData(t, 0, 0), (r = new Image).src = e.toDataURL(), r; throw new Error("This method requires a Browser with Canvas-capability.") }, i.prototype.decodeFrames = function (e) { var r, n, i, a, o, s, c, u; if (this.animation) { for (u = [], n = o = 0, s = (c = this.animation.frames).length; o < s; n = ++o)r = c[n], i = e.createImageData(r.width, r.height), a = this.decodePixels(new Uint8Array(r.data)), this.copyToImageData(i, a), r.imageData = i, u.push(r.image = t(i)); return u } }, i.prototype.renderFrame = function (t, e) { var r, n, i; return r = (n = this.animation.frames)[e], i = n[e - 1], 0 === e && t.clearRect(0, 0, this.width, this.height), 1 === (null != i ? i.disposeOp : void 0) ? t.clearRect(i.xOffset, i.yOffset, i.width, i.height) : 2 === (null != i ? i.disposeOp : void 0) && t.putImageData(i.imageData, i.xOffset, i.yOffset), 0 === r.blendOp && t.clearRect(r.xOffset, r.yOffset, r.width, r.height), t.drawImage(r.image, r.xOffset, r.yOffset) }, i.prototype.animate = function (t) { var e, r, n, i, a, o, s = this; return r = 0, o = this.animation, i = o.numFrames, n = o.frames, a = o.numPlays, (e = function () { var o, c; if (o = r++ % i, c = n[o], s.renderFrame(t, o), i > 1 && r / i < a) return s.animation._timeout = setTimeout(e, c.delay) })() }, i.prototype.stopAnimation = function () { var t; return clearTimeout(null != (t = this.animation) ? t._timeout : void 0) }, i.prototype.render = function (t) { var e, r; return t._png && t._png.stopAnimation(), t._png = this, t.width = this.width, t.height = this.height, e = t.getContext("2d"), this.animation ? (this.decodeFrames(e), this.animate(e)) : (r = e.createImageData(this.width, this.height), this.copyToImageData(r, this.decodePixels()), e.putImageData(r, 0, 0)) }, i }();
    /**
       * @license
       *
       * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
       *
       * Permission is hereby granted, free of charge, to any person obtaining
       * a copy of this software and associated documentation files (the
       * "Software"), to deal in the Software without restriction, including
       * without limitation the rights to use, copy, modify, merge, publish,
       * distribute, sublicense, and/or sell copies of the Software, and to
       * permit persons to whom the Software is furnished to do so, subject to
       * the following conditions:
       *
       * The above copyright notice and this permission notice shall be
       * included in all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
       * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
       * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
       * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
       * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
       * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
       * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       * ====================================================================
       */
    /**
       * @license
       * (c) Dean McNamee <dean@gmail.com>, 2013.
       *
       * https://github.com/deanm/omggif
       *
       * Permission is hereby granted, free of charge, to any person obtaining a copy
       * of this software and associated documentation files (the "Software"), to
       * deal in the Software without restriction, including without limitation the
       * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
       * sell copies of the Software, and to permit persons to whom the Software is
       * furnished to do so, subject to the following conditions:
       *
       * The above copyright notice and this permission notice shall be included in
       * all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
       * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
       * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
       * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
       * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
       * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
       * IN THE SOFTWARE.
       *
       * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
       * including animation and compression.  It does not rely on any specific
       * underlying system, so should run in the browser, Node, or Plask.
       */
    function Be(t) { var e = 0; if (71 !== t[e++] || 73 !== t[e++] || 70 !== t[e++] || 56 !== t[e++] || 56 != (t[e++] + 1 & 253) || 97 !== t[e++]) throw new Error("Invalid GIF 87a/89a header."); var r = t[e++] | t[e++] << 8, n = t[e++] | t[e++] << 8, i = t[e++], a = i >> 7, o = 1 << (7 & i) + 1; t[e++]; t[e++]; var s = null, c = null; a && (s = e, c = o, e += 3 * o); var u = !0, l = [], h = 0, f = null, d = 0, p = null; for (this.width = r, this.height = n; u && e < t.length;)switch (t[e++]) { case 33: switch (t[e++]) { case 255: if (11 !== t[e] || 78 == t[e + 1] && 69 == t[e + 2] && 84 == t[e + 3] && 83 == t[e + 4] && 67 == t[e + 5] && 65 == t[e + 6] && 80 == t[e + 7] && 69 == t[e + 8] && 50 == t[e + 9] && 46 == t[e + 10] && 48 == t[e + 11] && 3 == t[e + 12] && 1 == t[e + 13] && 0 == t[e + 16]) e += 14, p = t[e++] | t[e++] << 8, e++; else for (e += 12; ;) { if (!((P = t[e++]) >= 0)) throw Error("Invalid block size"); if (0 === P) break; e += P } break; case 249: if (4 !== t[e++] || 0 !== t[e + 4]) throw new Error("Invalid graphics extension block."); var g = t[e++]; h = t[e++] | t[e++] << 8, f = t[e++], 0 == (1 & g) && (f = null), d = g >> 2 & 7, e++; break; case 254: for (; ;) { if (!((P = t[e++]) >= 0)) throw Error("Invalid block size"); if (0 === P) break; e += P } break; default: throw new Error("Unknown graphic control label: 0x" + t[e - 1].toString(16)) }break; case 44: var m = t[e++] | t[e++] << 8, v = t[e++] | t[e++] << 8, b = t[e++] | t[e++] << 8, y = t[e++] | t[e++] << 8, w = t[e++], N = w >> 6 & 1, L = 1 << (7 & w) + 1, A = s, x = c, S = !1; if (w >> 7) { S = !0; A = e, x = L, e += 3 * L } var _ = e; for (e++; ;) { var P; if (!((P = t[e++]) >= 0)) throw Error("Invalid block size"); if (0 === P) break; e += P } l.push({ x: m, y: v, width: b, height: y, has_local_palette: S, palette_offset: A, palette_size: x, data_offset: _, data_length: e - _, transparent_index: f, interlaced: !!N, delay: h, disposal: d }); break; case 59: u = !1; break; default: throw new Error("Unknown gif block: 0x" + t[e - 1].toString(16)) }this.numFrames = function () { return l.length }, this.loopCount = function () { return p }, this.frameInfo = function (t) { if (t < 0 || t >= l.length) throw new Error("Frame index out of range."); return l[t] }, this.decodeAndBlitFrameBGRA = function (e, n) { var i = this.frameInfo(e), a = i.width * i.height, o = new Uint8Array(a); Me(t, i.data_offset, o, a); var s = i.palette_offset, c = i.transparent_index; null === c && (c = 256); var u = i.width, l = r - u, h = u, f = 4 * (i.y * r + i.x), d = 4 * ((i.y + i.height) * r + i.x), p = f, g = 4 * l; !0 === i.interlaced && (g += 4 * r * 7); for (var m = 8, v = 0, b = o.length; v < b; ++v) { var y = o[v]; if (0 === h && (h = u, (p += g) >= d && (g = 4 * l + 4 * r * (m - 1), p = f + (u + l) * (m << 1), m >>= 1)), y === c) p += 4; else { var w = t[s + 3 * y], N = t[s + 3 * y + 1], L = t[s + 3 * y + 2]; n[p++] = L, n[p++] = N, n[p++] = w, n[p++] = 255 } --h } }, this.decodeAndBlitFrameRGBA = function (e, n) { var i = this.frameInfo(e), a = i.width * i.height, o = new Uint8Array(a); Me(t, i.data_offset, o, a); var s = i.palette_offset, c = i.transparent_index; null === c && (c = 256); var u = i.width, l = r - u, h = u, f = 4 * (i.y * r + i.x), d = 4 * ((i.y + i.height) * r + i.x), p = f, g = 4 * l; !0 === i.interlaced && (g += 4 * r * 7); for (var m = 8, v = 0, b = o.length; v < b; ++v) { var y = o[v]; if (0 === h && (h = u, (p += g) >= d && (g = 4 * l + 4 * r * (m - 1), p = f + (u + l) * (m << 1), m >>= 1)), y === c) p += 4; else { var w = t[s + 3 * y], N = t[s + 3 * y + 1], L = t[s + 3 * y + 2]; n[p++] = w, n[p++] = N, n[p++] = L, n[p++] = 255 } --h } } } function Me(t, e, r, n) { for (var a = t[e++], o = 1 << a, s = o + 1, c = s + 1, u = a + 1, l = (1 << u) - 1, h = 0, f = 0, d = 0, p = t[e++], g = new Int32Array(4096), m = null; ;) { for (; h < 16 && 0 !== p;)f |= t[e++] << h, h += 8, 1 === p ? p = t[e++] : --p; if (h < u) break; var v = f & l; if (f >>= u, h -= u, v !== o) { if (v === s) break; for (var b = v < c ? v : m, y = 0, w = b; w > o;)w = g[w] >> 8, ++y; var N = w; if (d + y + (b !== v ? 1 : 0) > n) return void i.log("Warning, gif stream longer than expected."); r[d++] = N; var L = d += y; for (b !== v && (r[d++] = N), w = b; y--;)w = g[w], r[--L] = 255 & w, w >>= 8; null !== m && c < 4096 && (g[c++] = m << 8 | N, c >= l + 1 && u < 12 && (++u, l = l << 1 | 1)), m = v } else c = s + 1, l = (1 << (u = a + 1)) - 1, m = null } return d !== n && i.log("Warning, gif stream shorter than expected."), r }
/**
   * @license
    Copyright (c) 2008, Adobe Systems Incorporated
    All rights reserved.

    Redistribution and use in source and binary forms, with or without 
    modification, are permitted provided that the following conditions are
    met:

    * Redistributions of source code must retain the above copyright notice, 
      this list of conditions and the following disclaimer.
    
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the distribution.
    
    * Neither the name of Adobe Systems Incorporated nor the names of its 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
    IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */function Ee(t) { var e, r, n, i, a, o = Math.floor, s = new Array(64), c = new Array(64), u = new Array(64), l = new Array(64), h = new Array(65535), f = new Array(65535), d = new Array(64), p = new Array(64), g = [], m = 0, v = 7, b = new Array(64), y = new Array(64), w = new Array(64), N = new Array(256), L = new Array(2048), A = [0, 1, 5, 6, 14, 15, 27, 28, 2, 4, 7, 13, 16, 26, 29, 42, 3, 8, 12, 17, 25, 30, 41, 43, 9, 11, 18, 24, 31, 40, 44, 53, 10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, 21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63], x = [0, 0, 1, 5, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0], S = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], _ = [0, 0, 2, 1, 3, 3, 2, 4, 3, 5, 5, 4, 4, 0, 0, 1, 125], P = [1, 2, 3, 0, 4, 17, 5, 18, 33, 49, 65, 6, 19, 81, 97, 7, 34, 113, 20, 50, 129, 145, 161, 8, 35, 66, 177, 193, 21, 82, 209, 240, 36, 51, 98, 114, 130, 9, 10, 22, 23, 24, 25, 26, 37, 38, 39, 40, 41, 42, 52, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250], k = [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], F = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], I = [0, 0, 2, 1, 2, 4, 4, 3, 4, 7, 5, 4, 4, 0, 1, 2, 119], C = [0, 1, 2, 3, 17, 4, 5, 33, 49, 6, 18, 65, 81, 7, 97, 113, 19, 34, 50, 129, 8, 20, 66, 145, 161, 177, 193, 9, 35, 51, 82, 240, 21, 98, 114, 209, 10, 22, 36, 52, 225, 37, 241, 23, 24, 25, 26, 38, 39, 40, 41, 42, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 130, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 226, 227, 228, 229, 230, 231, 232, 233, 234, 242, 243, 244, 245, 246, 247, 248, 249, 250]; function j(t, e) { for (var r = 0, n = 0, i = new Array, a = 1; a <= 16; a++) { for (var o = 1; o <= t[a]; o++)i[e[n]] = [], i[e[n]][0] = r, i[e[n]][1] = a, n++, r++; r *= 2 } return i } function O(t) { for (var e = t[0], r = t[1] - 1; r >= 0;)e & 1 << r && (m |= 1 << v), r--, --v < 0 && (255 == m ? (B(255), B(0)) : B(m), v = 7, m = 0) } function B(t) { g.push(t) } function M(t) { B(t >> 8 & 255), B(255 & t) } function E(t, e, r, n, i) { for (var a, o = i[0], s = i[240], c = function (t, e) { var r, n, i, a, o, s, c, u, l, h, f = 0; for (l = 0; l < 8; ++l) { r = t[f], n = t[f + 1], i = t[f + 2], a = t[f + 3], o = t[f + 4], s = t[f + 5], c = t[f + 6]; var p = r + (u = t[f + 7]), g = r - u, m = n + c, v = n - c, b = i + s, y = i - s, w = a + o, N = a - o, L = p + w, A = p - w, x = m + b, S = m - b; t[f] = L + x, t[f + 4] = L - x; var _ = .707106781 * (S + A); t[f + 2] = A + _, t[f + 6] = A - _; var P = .382683433 * ((L = N + y) - (S = v + g)), k = .5411961 * L + P, F = 1.306562965 * S + P, I = .707106781 * (x = y + v), C = g + I, j = g - I; t[f + 5] = j + k, t[f + 3] = j - k, t[f + 1] = C + F, t[f + 7] = C - F, f += 8 } for (f = 0, l = 0; l < 8; ++l) { r = t[f], n = t[f + 8], i = t[f + 16], a = t[f + 24], o = t[f + 32], s = t[f + 40], c = t[f + 48]; var O = r + (u = t[f + 56]), B = r - u, M = n + c, E = n - c, q = i + s, D = i - s, R = a + o, T = a - o, U = O + R, z = O - R, H = M + q, W = M - q; t[f] = U + H, t[f + 32] = U - H; var V = .707106781 * (W + z); t[f + 16] = z + V, t[f + 48] = z - V; var G = .382683433 * ((U = T + D) - (W = E + B)), Y = .5411961 * U + G, J = 1.306562965 * W + G, X = .707106781 * (H = D + E), K = B + X, Z = B - X; t[f + 40] = Z + Y, t[f + 24] = Z - Y, t[f + 8] = K + J, t[f + 56] = K - J, f++ } for (l = 0; l < 64; ++l)h = t[l] * e[l], d[l] = h > 0 ? h + .5 | 0 : h - .5 | 0; return d }(t, e), u = 0; u < 64; ++u)p[A[u]] = c[u]; var l = p[0] - r; r = p[0], 0 == l ? O(n[0]) : (O(n[f[a = 32767 + l]]), O(h[a])); for (var g = 63; g > 0 && 0 == p[g];)g--; if (0 == g) return O(o), r; for (var m, v = 1; v <= g;) { for (var b = v; 0 == p[v] && v <= g;)++v; var y = v - b; if (y >= 16) { m = y >> 4; for (var w = 1; w <= m; ++w)O(s); y &= 15 } a = 32767 + p[v], O(i[(y << 4) + f[a]]), O(h[a]), v++ } return 63 != g && O(o), r } function q(t) { (t = Math.min(Math.max(t, 1), 100), a != t) && (!function (t) { for (var e = [16, 11, 10, 16, 24, 40, 51, 61, 12, 12, 14, 19, 26, 58, 60, 55, 14, 13, 16, 24, 40, 57, 69, 56, 14, 17, 22, 29, 51, 87, 80, 62, 18, 22, 37, 56, 68, 109, 103, 77, 24, 35, 55, 64, 81, 104, 113, 92, 49, 64, 78, 87, 103, 121, 120, 101, 72, 92, 95, 98, 112, 100, 103, 99], r = 0; r < 64; r++) { var n = o((e[r] * t + 50) / 100); n = Math.min(Math.max(n, 1), 255), s[A[r]] = n } for (var i = [17, 18, 24, 47, 99, 99, 99, 99, 18, 21, 26, 66, 99, 99, 99, 99, 24, 26, 56, 99, 99, 99, 99, 99, 47, 66, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99], a = 0; a < 64; a++) { var h = o((i[a] * t + 50) / 100); h = Math.min(Math.max(h, 1), 255), c[A[a]] = h } for (var f = [1, 1.387039845, 1.306562965, 1.175875602, 1, .785694958, .5411961, .275899379], d = 0, p = 0; p < 8; p++)for (var g = 0; g < 8; g++)u[d] = 1 / (s[A[d]] * f[p] * f[g] * 8), l[d] = 1 / (c[A[d]] * f[p] * f[g] * 8), d++ }(t < 50 ? Math.floor(5e3 / t) : Math.floor(200 - 2 * t)), a = t) } this.encode = function (t, a) { a && q(a), g = new Array, m = 0, v = 7, M(65496), M(65504), M(16), B(74), B(70), B(73), B(70), B(0), B(1), B(1), B(0), M(1), M(1), B(0), B(0), function () { M(65499), M(132), B(0); for (var t = 0; t < 64; t++)B(s[t]); B(1); for (var e = 0; e < 64; e++)B(c[e]) }(), function (t, e) { M(65472), M(17), B(8), M(e), M(t), B(3), B(1), B(17), B(0), B(2), B(17), B(1), B(3), B(17), B(1) }(t.width, t.height), function () { M(65476), M(418), B(0); for (var t = 0; t < 16; t++)B(x[t + 1]); for (var e = 0; e <= 11; e++)B(S[e]); B(16); for (var r = 0; r < 16; r++)B(_[r + 1]); for (var n = 0; n <= 161; n++)B(P[n]); B(1); for (var i = 0; i < 16; i++)B(k[i + 1]); for (var a = 0; a <= 11; a++)B(F[a]); B(17); for (var o = 0; o < 16; o++)B(I[o + 1]); for (var s = 0; s <= 161; s++)B(C[s]) }(), M(65498), M(12), B(3), B(1), B(0), B(2), B(17), B(3), B(17), B(0), B(63), B(0); var o = 0, h = 0, f = 0; m = 0, v = 7, this.encode.displayName = "_encode_"; for (var d, p, N, A, j, D, R, T, U, z = t.data, H = t.width, W = t.height, V = 4 * H, G = 0; G < W;) { for (d = 0; d < V;) { for (j = V * G + d, R = -1, T = 0, U = 0; U < 64; U++)D = j + (T = U >> 3) * V + (R = 4 * (7 & U)), G + T >= W && (D -= V * (G + 1 + T - W)), d + R >= V && (D -= d + R - V + 4), p = z[D++], N = z[D++], A = z[D++], b[U] = (L[p] + L[N + 256 >> 0] + L[A + 512 >> 0] >> 16) - 128, y[U] = (L[p + 768 >> 0] + L[N + 1024 >> 0] + L[A + 1280 >> 0] >> 16) - 128, w[U] = (L[p + 1280 >> 0] + L[N + 1536 >> 0] + L[A + 1792 >> 0] >> 16) - 128; o = E(b, u, o, e, n), h = E(y, l, h, r, i), f = E(w, l, f, r, i), d += 32 } G += 8 } if (v >= 0) { var Y = []; Y[1] = v + 1, Y[0] = (1 << v + 1) - 1, O(Y) } return M(65497), new Uint8Array(g) }, t = t || 50, function () { for (var t = String.fromCharCode, e = 0; e < 256; e++)N[e] = t(e) }(), e = j(x, S), r = j(k, F), n = j(_, P), i = j(I, C), function () { for (var t = 1, e = 2, r = 1; r <= 15; r++) { for (var n = t; n < e; n++)f[32767 + n] = r, h[32767 + n] = [], h[32767 + n][1] = r, h[32767 + n][0] = n; for (var i = -(e - 1); i <= -t; i++)f[32767 + i] = r, h[32767 + i] = [], h[32767 + i][1] = r, h[32767 + i][0] = e - 1 + i; t <<= 1, e <<= 1 } }(), function () { for (var t = 0; t < 256; t++)L[t] = 19595 * t, L[t + 256 >> 0] = 38470 * t, L[t + 512 >> 0] = 7471 * t + 32768, L[t + 768 >> 0] = -11059 * t, L[t + 1024 >> 0] = -21709 * t, L[t + 1280 >> 0] = 32768 * t + 8421375, L[t + 1536 >> 0] = -27439 * t, L[t + 1792 >> 0] = -5329 * t }(), q(t) }
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */function qe(t, e) { if (this.pos = 0, this.buffer = t, this.datav = new DataView(t.buffer), this.is_with_alpha = !!e, this.bottom_up = !0, this.flag = String.fromCharCode(this.buffer[0]) + String.fromCharCode(this.buffer[1]), this.pos += 2, -1 === ["BM", "BA", "CI", "CP", "IC", "PT"].indexOf(this.flag)) throw new Error("Invalid BMP File"); this.parseHeader(), this.parseBGR() } function De(t) {
        function e(t) { if (!t) throw Error("assert :P") } function r(t, e, r) { for (var n = 0; 4 > n; n++)if (t[e + n] != r.charCodeAt(n)) return !0; return !1 } function n(t, e, r, n, i) { for (var a = 0; a < i; a++)t[e + a] = r[n + a] } function i(t, e, r, n) { for (var i = 0; i < n; i++)t[e + i] = r } function a(t) { return new Int32Array(t) } function o(t, e) { for (var r = [], n = 0; n < t; n++)r.push(new e); return r } function s(t, e) { var r = []; return function t(r, n, i) { for (var a = i[n], o = 0; o < a && (r.push(i.length > n + 1 ? [] : new e), !(i.length < n + 1)); o++)t(r[o], n + 1, i) }(r, 0, t), r } var c = function () { var t = this; function c(t, e) { for (var r = 1 << e - 1 >>> 0; t & r;)r >>>= 1; return r ? (t & r - 1) + r : t } function u(t, r, n, i, a) { e(!(i % n)); do { t[r + (i -= n)] = a } while (0 < i) } function l(t, r, n, i, o) { if (e(2328 >= o), 512 >= o) var s = a(512); else if (null == (s = a(o))) return 0; return function (t, r, n, i, o, s) { var l, f, d = r, p = 1 << n, g = a(16), m = a(16); for (e(0 != o), e(null != i), e(null != t), e(0 < n), f = 0; f < o; ++f) { if (15 < i[f]) return 0; ++g[i[f]] } if (g[0] == o) return 0; for (m[1] = 0, l = 1; 15 > l; ++l) { if (g[l] > 1 << l) return 0; m[l + 1] = m[l] + g[l] } for (f = 0; f < o; ++f)l = i[f], 0 < i[f] && (s[m[l]++] = f); if (1 == m[15]) return (i = new h).g = 0, i.value = s[0], u(t, d, 1, p, i), p; var v, b = -1, y = p - 1, w = 0, N = 1, L = 1, A = 1 << n; for (f = 0, l = 1, o = 2; l <= n; ++l, o <<= 1) { if (N += L <<= 1, 0 > (L -= g[l])) return 0; for (; 0 < g[l]; --g[l])(i = new h).g = l, i.value = s[f++], u(t, d + w, o, A, i), w = c(w, l) } for (l = n + 1, o = 2; 15 >= l; ++l, o <<= 1) { if (N += L <<= 1, 0 > (L -= g[l])) return 0; for (; 0 < g[l]; --g[l]) { if (i = new h, (w & y) != b) { for (d += A, v = 1 << (b = l) - n; 15 > b && !(0 >= (v -= g[b]));)++b, v <<= 1; p += A = 1 << (v = b - n), t[r + (b = w & y)].g = v + n, t[r + b].value = d - r - b } i.g = l - n, i.value = s[f++], u(t, d + (w >> n), o, A, i), w = c(w, l) } } return N != 2 * m[15] - 1 ? 0 : p }(t, r, n, i, o, s) } function h() { this.value = this.g = 0 } function f() { this.value = this.g = 0 } function d() { this.G = o(5, h), this.H = a(5), this.jc = this.Qb = this.qb = this.nd = 0, this.pd = o(Dr, f) } function p(t, r, n, i) { e(null != t), e(null != r), e(2147483648 > i), t.Ca = 254, t.I = 0, t.b = -8, t.Ka = 0, t.oa = r, t.pa = n, t.Jd = r, t.Yc = n + i, t.Zc = 4 <= i ? n + i - 4 + 1 : n, _(t) } function g(t, e) { for (var r = 0; 0 < e--;)r |= k(t, 128) << e; return r } function m(t, e) { var r = g(t, e); return P(t) ? -r : r } function v(t, r, n, i) { var a, o = 0; for (e(null != t), e(null != r), e(4294967288 > i), t.Sb = i, t.Ra = 0, t.u = 0, t.h = 0, 4 < i && (i = 4), a = 0; a < i; ++a)o += r[n + a] << 8 * a; t.Ra = o, t.bb = i, t.oa = r, t.pa = n } function b(t) { for (; 8 <= t.u && t.bb < t.Sb;)t.Ra >>>= 8, t.Ra += t.oa[t.pa + t.bb] << Ur - 8 >>> 0, ++t.bb, t.u -= 8; A(t) && (t.h = 1, t.u = 0) } function y(t, r) { if (e(0 <= r), !t.h && r <= Tr) { var n = L(t) & Rr[r]; return t.u += r, b(t), n } return t.h = 1, t.u = 0 } function w() { this.b = this.Ca = this.I = 0, this.oa = [], this.pa = 0, this.Jd = [], this.Yc = 0, this.Zc = [], this.Ka = 0 } function N() { this.Ra = 0, this.oa = [], this.h = this.u = this.bb = this.Sb = this.pa = 0 } function L(t) { return t.Ra >>> (t.u & Ur - 1) >>> 0 } function A(t) { return e(t.bb <= t.Sb), t.h || t.bb == t.Sb && t.u > Ur } function x(t, e) { t.u = e, t.h = A(t) } function S(t) { t.u >= zr && (e(t.u >= zr), b(t)) } function _(t) { e(null != t && null != t.oa), t.pa < t.Zc ? (t.I = (t.oa[t.pa++] | t.I << 8) >>> 0, t.b += 8) : (e(null != t && null != t.oa), t.pa < t.Yc ? (t.b += 8, t.I = t.oa[t.pa++] | t.I << 8) : t.Ka ? t.b = 0 : (t.I <<= 8, t.b += 8, t.Ka = 1)) } function P(t) { return g(t, 1) } function k(t, e) { var r = t.Ca; 0 > t.b && _(t); var n = t.b, i = r * e >>> 8, a = (t.I >>> n > i) + 0; for (a ? (r -= i, t.I -= i + 1 << n >>> 0) : r = i + 1, n = r, i = 0; 256 <= n;)i += 8, n >>= 8; return n = 7 ^ i + Hr[n], t.b -= n, t.Ca = (r << n) - 1, a } function F(t, e, r) { t[e + 0] = r >> 24 & 255, t[e + 1] = r >> 16 & 255, t[e + 2] = r >> 8 & 255, t[e + 3] = r >> 0 & 255 } function I(t, e) { return t[e + 0] << 0 | t[e + 1] << 8 } function C(t, e) { return I(t, e) | t[e + 2] << 16 } function j(t, e) { return I(t, e) | I(t, e + 2) << 16 } function O(t, r) { var n = 1 << r; return e(null != t), e(0 < r), t.X = a(n), null == t.X ? 0 : (t.Mb = 32 - r, t.Xa = r, 1) } function B(t, r) { e(null != t), e(null != r), e(t.Xa == r.Xa), n(r.X, 0, t.X, 0, 1 << r.Xa) } function M() { this.X = [], this.Xa = this.Mb = 0 } function E(t, r, n, i) { e(null != n), e(null != i); var a = n[0], o = i[0]; return 0 == a && (a = (t * o + r / 2) / r), 0 == o && (o = (r * a + t / 2) / t), 0 >= a || 0 >= o ? 0 : (n[0] = a, i[0] = o, 1) } function q(t, e) { return t + (1 << e) - 1 >>> e } function D(t, e) { return ((4278255360 & t) + (4278255360 & e) >>> 0 & 4278255360) + ((16711935 & t) + (16711935 & e) >>> 0 & 16711935) >>> 0 } function R(e, r) { t[r] = function (r, n, i, a, o, s, c) { var u; for (u = 0; u < o; ++u) { var l = t[e](s[c + u - 1], i, a + u); s[c + u] = D(r[n + u], l) } } } function T() { this.ud = this.hd = this.jd = 0 } function U(t, e) { return ((4278124286 & (t ^ e)) >>> 1) + (t & e) >>> 0 } function z(t) { return 0 <= t && 256 > t ? t : 0 > t ? 0 : 255 < t ? 255 : void 0 } function H(t, e) { return z(t + (t - e + .5 >> 1)) } function W(t, e, r) { return Math.abs(e - r) - Math.abs(t - r) } function V(t, e, r, n, i, a, o) { for (n = a[o - 1], r = 0; r < i; ++r)a[o + r] = n = D(t[e + r], n) } function G(t, e, r, n, i) { var a; for (a = 0; a < r; ++a) { var o = t[e + a], s = o >> 8 & 255, c = 16711935 & (c = (c = 16711935 & o) + ((s << 16) + s)); n[i + a] = (4278255360 & o) + c >>> 0 } } function Y(t, e) { e.jd = t >> 0 & 255, e.hd = t >> 8 & 255, e.ud = t >> 16 & 255 } function J(t, e, r, n, i, a) { var o; for (o = 0; o < n; ++o) { var s = e[r + o], c = s >>> 8, u = s, l = 255 & (l = (l = s >>> 16) + ((t.jd << 24 >> 24) * (c << 24 >> 24) >>> 5)); u = 255 & (u = (u = u + ((t.hd << 24 >> 24) * (c << 24 >> 24) >>> 5)) + ((t.ud << 24 >> 24) * (l << 24 >> 24) >>> 5)); i[a + o] = (4278255360 & s) + (l << 16) + u } } function X(e, r, n, i, a) { t[r] = function (t, e, r, n, o, s, c, u, l) { for (n = c; n < u; ++n)for (c = 0; c < l; ++c)o[s++] = a(r[i(t[e++])]) }, t[e] = function (e, r, o, s, c, u, l) { var h = 8 >> e.b, f = e.Ea, d = e.K[0], p = e.w; if (8 > h) for (e = (1 << e.b) - 1, p = (1 << h) - 1; r < o; ++r) { var g, m = 0; for (g = 0; g < f; ++g)g & e || (m = i(s[c++])), u[l++] = a(d[m & p]), m >>= h } else t["VP8LMapColor" + n](s, c, d, p, u, l, r, o, f) } } function K(t, e, r, n, i) { for (r = e + r; e < r;) { var a = t[e++]; n[i++] = a >> 16 & 255, n[i++] = a >> 8 & 255, n[i++] = a >> 0 & 255 } } function Z(t, e, r, n, i) { for (r = e + r; e < r;) { var a = t[e++]; n[i++] = a >> 16 & 255, n[i++] = a >> 8 & 255, n[i++] = a >> 0 & 255, n[i++] = a >> 24 & 255 } } function $(t, e, r, n, i) { for (r = e + r; e < r;) { var a = (o = t[e++]) >> 16 & 240 | o >> 12 & 15, o = o >> 0 & 240 | o >> 28 & 15; n[i++] = a, n[i++] = o } } function Q(t, e, r, n, i) { for (r = e + r; e < r;) { var a = (o = t[e++]) >> 16 & 248 | o >> 13 & 7, o = o >> 5 & 224 | o >> 3 & 31; n[i++] = a, n[i++] = o } } function tt(t, e, r, n, i) { for (r = e + r; e < r;) { var a = t[e++]; n[i++] = a >> 0 & 255, n[i++] = a >> 8 & 255, n[i++] = a >> 16 & 255 } } function et(t, e, r, i, a, o) { if (0 == o) for (r = e + r; e < r;)F(i, ((o = t[e++])[0] >> 24 | o[1] >> 8 & 65280 | o[2] << 8 & 16711680 | o[3] << 24) >>> 0), a += 32; else n(i, a, t, e, r) } function rt(e, r) { t[r][0] = t[e + "0"], t[r][1] = t[e + "1"], t[r][2] = t[e + "2"], t[r][3] = t[e + "3"], t[r][4] = t[e + "4"], t[r][5] = t[e + "5"], t[r][6] = t[e + "6"], t[r][7] = t[e + "7"], t[r][8] = t[e + "8"], t[r][9] = t[e + "9"], t[r][10] = t[e + "10"], t[r][11] = t[e + "11"], t[r][12] = t[e + "12"], t[r][13] = t[e + "13"], t[r][14] = t[e + "0"], t[r][15] = t[e + "0"] } function nt(t) { return t == Hn || t == Wn || t == Vn || t == Gn } function it() { this.eb = [], this.size = this.A = this.fb = 0 } function at() { this.y = [], this.f = [], this.ea = [], this.F = [], this.Tc = this.Ed = this.Cd = this.Fd = this.lb = this.Db = this.Ab = this.fa = this.J = this.W = this.N = this.O = 0 } function ot() { this.Rd = this.height = this.width = this.S = 0, this.f = {}, this.f.RGBA = new it, this.f.kb = new at, this.sd = null } function st() { this.width = [0], this.height = [0], this.Pd = [0], this.Qd = [0], this.format = [0] } function ct() { this.Id = this.fd = this.Md = this.hb = this.ib = this.da = this.bd = this.cd = this.j = this.v = this.Da = this.Sd = this.ob = 0 } function ut(t) { return alert("todo:WebPSamplerProcessPlane"), t.T } function lt(t, e) { var r = t.T, i = e.ba.f.RGBA, a = i.eb, o = i.fb + t.ka * i.A, s = vi[e.ba.S], c = t.y, u = t.O, l = t.f, h = t.N, f = t.ea, d = t.W, p = e.cc, g = e.dc, m = e.Mc, v = e.Nc, b = t.ka, y = t.ka + t.T, w = t.U, N = w + 1 >> 1; for (0 == b ? s(c, u, null, null, l, h, f, d, l, h, f, d, a, o, null, null, w) : (s(e.ec, e.fc, c, u, p, g, m, v, l, h, f, d, a, o - i.A, a, o, w), ++r); b + 2 < y; b += 2)p = l, g = h, m = f, v = d, h += t.Rc, d += t.Rc, o += 2 * i.A, s(c, (u += 2 * t.fa) - t.fa, c, u, p, g, m, v, l, h, f, d, a, o - i.A, a, o, w); return u += t.fa, t.j + y < t.o ? (n(e.ec, e.fc, c, u, w), n(e.cc, e.dc, l, h, N), n(e.Mc, e.Nc, f, d, N), r--) : 1 & y || s(c, u, null, null, l, h, f, d, l, h, f, d, a, o + i.A, null, null, w), r } function ht(t, r, n) { var i = t.F, a = [t.J]; if (null != i) { var o = t.U, s = r.ba.S, c = s == Tn || s == Vn; r = r.ba.f.RGBA; var u = [0], l = t.ka; u[0] = t.T, t.Kb && (0 == l ? --u[0] : (--l, a[0] -= t.width), t.j + t.ka + t.T == t.o && (u[0] = t.o - t.j - l)); var h = r.eb; l = r.fb + l * r.A; t = Sn(i, a[0], t.width, o, u, h, l + (c ? 0 : 3), r.A), e(n == u), t && nt(s) && An(h, l, c, o, u, r.A) } return 0 } function ft(t) { var e = t.ma, r = e.ba.S, n = 11 > r, i = r == qn || r == Rn || r == Tn || r == Un || 12 == r || nt(r); if (e.memory = null, e.Ib = null, e.Jb = null, e.Nd = null, !Mr(e.Oa, t, i ? 11 : 12)) return 0; if (i && nt(r) && br(), t.da) alert("todo:use_scaling"); else { if (n) { if (e.Ib = ut, t.Kb) { if (r = t.U + 1 >> 1, e.memory = a(t.U + 2 * r), null == e.memory) return 0; e.ec = e.memory, e.fc = 0, e.cc = e.ec, e.dc = e.fc + t.U, e.Mc = e.cc, e.Nc = e.dc + r, e.Ib = lt, br() } } else alert("todo:EmitYUV"); i && (e.Jb = ht, n && mr()) } if (n && !Ci) { for (t = 0; 256 > t; ++t)ji[t] = 89858 * (t - 128) + _i >> Si, Mi[t] = -22014 * (t - 128) + _i, Bi[t] = -45773 * (t - 128), Oi[t] = 113618 * (t - 128) + _i >> Si; for (t = Pi; t < ki; ++t)e = 76283 * (t - 16) + _i >> Si, Ei[t - Pi] = Vt(e, 255), qi[t - Pi] = Vt(e + 8 >> 4, 15); Ci = 1 } return 1 } function dt(t) { var r = t.ma, n = t.U, i = t.T; return e(!(1 & t.ka)), 0 >= n || 0 >= i ? 0 : (n = r.Ib(t, r), null != r.Jb && r.Jb(t, r, n), r.Dc += n, 1) } function pt(t) { t.ma.memory = null } function gt(t, e, r, n) { return 47 != y(t, 8) ? 0 : (e[0] = y(t, 14) + 1, r[0] = y(t, 14) + 1, n[0] = y(t, 1), 0 != y(t, 3) ? 0 : !t.h) } function mt(t, e) { if (4 > t) return t + 1; var r = t - 2 >> 1; return (2 + (1 & t) << r) + y(e, r) + 1 } function vt(t, e) { return 120 < e ? e - 120 : 1 <= (r = ((r = $n[e - 1]) >> 4) * t + (8 - (15 & r))) ? r : 1; var r } function bt(t, e, r) { var n = L(r), i = t[e += 255 & n].g - 8; return 0 < i && (x(r, r.u + 8), n = L(r), e += t[e].value, e += n & (1 << i) - 1), x(r, r.u + t[e].g), t[e].value } function yt(t, r, n) { return n.g += t.g, n.value += t.value << r >>> 0, e(8 >= n.g), t.g } function wt(t, r, n) { var i = t.xc; return e((r = 0 == i ? 0 : t.vc[t.md * (n >> i) + (r >> i)]) < t.Wb), t.Ya[r] } function Nt(t, r, i, a) { var o = t.ab, s = t.c * r, c = t.C; r = c + r; var u = i, l = a; for (a = t.Ta, i = t.Ua; 0 < o--;) { var h = t.gc[o], f = c, d = r, p = u, g = l, m = (l = a, u = i, h.Ea); switch (e(f < d), e(d <= h.nc), h.hc) { case 2: Gr(p, g, (d - f) * m, l, u); break; case 0: var v = f, b = d, y = l, w = u, N = (_ = h).Ea; 0 == v && (Wr(p, g, null, null, 1, y, w), V(p, g + 1, 0, 0, N - 1, y, w + 1), g += N, w += N, ++v); for (var L = 1 << _.b, A = L - 1, x = q(N, _.b), S = _.K, _ = _.w + (v >> _.b) * x; v < b;) { var P = S, k = _, F = 1; for (Vr(p, g, y, w - N, 1, y, w); F < N;) { var I = (F & ~A) + L; I > N && (I = N), (0, Zr[P[k++] >> 8 & 15])(p, g + +F, y, w + F - N, I - F, y, w + F), F = I } g += N, w += N, ++v & A || (_ += x) } d != h.nc && n(l, u - m, l, u + (d - f - 1) * m, m); break; case 1: for (m = p, b = g, N = (p = h.Ea) - (w = p & ~(y = (g = 1 << h.b) - 1)), v = q(p, h.b), L = h.K, h = h.w + (f >> h.b) * v; f < d;) { for (A = L, x = h, S = new T, _ = b + w, P = b + p; b < _;)Y(A[x++], S), $r(S, m, b, g, l, u), b += g, u += g; b < P && (Y(A[x++], S), $r(S, m, b, N, l, u), b += N, u += N), ++f & y || (h += v) } break; case 3: if (p == l && g == u && 0 < h.b) { for (b = l, p = m = u + (d - f) * m - (w = (d - f) * q(h.Ea, h.b)), g = l, y = u, v = [], w = (N = w) - 1; 0 <= w; --w)v[w] = g[y + w]; for (w = N - 1; 0 <= w; --w)b[p + w] = v[w]; Yr(h, f, d, l, m, l, u) } else Yr(h, f, d, p, g, l, u) }u = a, l = i } l != i && n(a, i, u, l, s) } function Lt(t, r) { var n = t.V, i = t.Ba + t.c * t.C, a = r - t.C; if (e(r <= t.l.o), e(16 >= a), 0 < a) { var o = t.l, s = t.Ta, c = t.Ua, u = o.width; if (Nt(t, a, n, i), a = c = [c], e((n = t.C) < (i = r)), e(o.v < o.va), i > o.o && (i = o.o), n < o.j) { var l = o.j - n; n = o.j; a[0] += l * u } if (n >= i ? n = 0 : (a[0] += 4 * o.v, o.ka = n - o.j, o.U = o.va - o.v, o.T = i - n, n = 1), n) { if (c = c[0], 11 > (n = t.ca).S) { var h = n.f.RGBA, f = (i = n.S, a = o.U, o = o.T, l = h.eb, h.A), d = o; for (h = h.fb + t.Ma * h.A; 0 < d--;) { var p = s, g = c, m = a, v = l, b = h; switch (i) { case En: Qr(p, g, m, v, b); break; case qn: tn(p, g, m, v, b); break; case Hn: tn(p, g, m, v, b), An(v, b, 0, m, 1, 0); break; case Dn: nn(p, g, m, v, b); break; case Rn: et(p, g, m, v, b, 1); break; case Wn: et(p, g, m, v, b, 1), An(v, b, 0, m, 1, 0); break; case Tn: et(p, g, m, v, b, 0); break; case Vn: et(p, g, m, v, b, 0), An(v, b, 1, m, 1, 0); break; case Un: en(p, g, m, v, b); break; case Gn: en(p, g, m, v, b), xn(v, b, m, 1, 0); break; case zn: rn(p, g, m, v, b); break; default: e(0) }c += u, h += f } t.Ma += o } else alert("todo:EmitRescaledRowsYUVA"); e(t.Ma <= n.height) } } t.C = r, e(t.C <= t.i) } function At(t) { var e; if (0 < t.ua) return 0; for (e = 0; e < t.Wb; ++e) { var r = t.Ya[e].G, n = t.Ya[e].H; if (0 < r[1][n[1] + 0].g || 0 < r[2][n[2] + 0].g || 0 < r[3][n[3] + 0].g) return 0 } return 1 } function xt(t, r, n, i, a, o) { if (0 != t.Z) { var s = t.qd, c = t.rd; for (e(null != mi[t.Z]); r < n; ++r)mi[t.Z](s, c, i, a, i, a, o), s = i, c = a, a += o; t.qd = s, t.rd = c } } function St(t, r) { var n = t.l.ma, i = 0 == n.Z || 1 == n.Z ? t.l.j : t.C; i = t.C < i ? i : t.C; if (e(r <= t.l.o), r > i) { var a = t.l.width, o = n.ca, s = n.tb + a * i, c = t.V, u = t.Ba + t.c * i, l = t.gc; e(1 == t.ab), e(3 == l[0].hc), Xr(l[0], i, r, c, u, o, s), xt(n, i, r, o, s, a) } t.C = t.Ma = r } function _t(t, r, n, i, a, o, s) { var c = t.$ / i, u = t.$ % i, l = t.m, h = t.s, f = n + t.$, d = f; a = n + i * a; var p = n + i * o, g = 280 + h.ua, m = t.Pb ? c : 16777216, v = 0 < h.ua ? h.Wa : null, b = h.wc, y = f < p ? wt(h, u, c) : null; e(t.C < o), e(p <= a); var w = !1; t: for (; ;) { for (; w || f < p;) { var N = 0; if (c >= m) { var _ = f - n; e((m = t).Pb), m.wd = m.m, m.xd = _, 0 < m.s.ua && B(m.s.Wa, m.s.vb), m = c + ti } if (u & b || (y = wt(h, u, c)), e(null != y), y.Qb && (r[f] = y.qb, w = !0), !w) if (S(l), y.jc) { N = l, _ = r; var P = f, k = y.pd[L(N) & Dr - 1]; e(y.jc), 256 > k.g ? (x(N, N.u + k.g), _[P] = k.value, N = 0) : (x(N, N.u + k.g - 256), e(256 <= k.value), N = k.value), 0 == N && (w = !0) } else N = bt(y.G[0], y.H[0], l); if (l.h) break; if (w || 256 > N) { if (!w) if (y.nd) r[f] = (y.qb | N << 8) >>> 0; else { if (S(l), w = bt(y.G[1], y.H[1], l), S(l), _ = bt(y.G[2], y.H[2], l), P = bt(y.G[3], y.H[3], l), l.h) break; r[f] = (P << 24 | w << 16 | N << 8 | _) >>> 0 } if (w = !1, ++f, ++u >= i && (u = 0, ++c, null != s && c <= o && !(c % 16) && s(t, c), null != v)) for (; d < f;)N = r[d++], v.X[(506832829 * N & 4294967295) >>> v.Mb] = N } else if (280 > N) { if (N = mt(N - 256, l), _ = bt(y.G[4], y.H[4], l), S(l), _ = vt(i, _ = mt(_, l)), l.h) break; if (f - n < _ || a - f < N) break t; for (P = 0; P < N; ++P)r[f + P] = r[f + P - _]; for (f += N, u += N; u >= i;)u -= i, ++c, null != s && c <= o && !(c % 16) && s(t, c); if (e(f <= a), u & b && (y = wt(h, u, c)), null != v) for (; d < f;)N = r[d++], v.X[(506832829 * N & 4294967295) >>> v.Mb] = N } else { if (!(N < g)) break t; for (w = N - 280, e(null != v); d < f;)N = r[d++], v.X[(506832829 * N & 4294967295) >>> v.Mb] = N; N = f, e(!(w >>> (_ = v).Xa)), r[N] = _.X[w], w = !0 } w || e(l.h == A(l)) } if (t.Pb && l.h && f < a) e(t.m.h), t.a = 5, t.m = t.wd, t.$ = t.xd, 0 < t.s.ua && B(t.s.vb, t.s.Wa); else { if (l.h) break t; null != s && s(t, c > o ? o : c), t.a = 0, t.$ = f - n } return 1 } return t.a = 3, 0 } function Pt(t) { e(null != t), t.vc = null, t.yc = null, t.Ya = null; var r = t.Wa; null != r && (r.X = null), t.vb = null, e(null != t) } function kt() { var e = new or; return null == e ? null : (e.a = 0, e.xb = gi, rt("Predictor", "VP8LPredictors"), rt("Predictor", "VP8LPredictors_C"), rt("PredictorAdd", "VP8LPredictorsAdd"), rt("PredictorAdd", "VP8LPredictorsAdd_C"), Gr = G, $r = J, Qr = K, tn = Z, en = $, rn = Q, nn = tt, t.VP8LMapColor32b = Jr, t.VP8LMapColor8b = Kr, e) } function Ft(t, r, n, s, c) { var u = 1, f = [t], p = [r], g = s.m, m = s.s, v = null, b = 0; t: for (; ;) { if (n) for (; u && y(g, 1);) { var w = f, N = p, A = s, _ = 1, P = A.m, k = A.gc[A.ab], F = y(P, 2); if (A.Oc & 1 << F) u = 0; else { switch (A.Oc |= 1 << F, k.hc = F, k.Ea = w[0], k.nc = N[0], k.K = [null], ++A.ab, e(4 >= A.ab), F) { case 0: case 1: k.b = y(P, 3) + 2, _ = Ft(q(k.Ea, k.b), q(k.nc, k.b), 0, A, k.K), k.K = k.K[0]; break; case 3: var I, C = y(P, 8) + 1, j = 16 < C ? 0 : 4 < C ? 1 : 2 < C ? 2 : 3; if (w[0] = q(k.Ea, j), k.b = j, I = _ = Ft(C, 1, 0, A, k.K)) { var B, M = C, E = k, R = 1 << (8 >> E.b), T = a(R); if (null == T) I = 0; else { var U = E.K[0], z = E.w; for (T[0] = E.K[0][0], B = 1; B < 1 * M; ++B)T[B] = D(U[z + B], T[B - 1]); for (; B < 4 * R; ++B)T[B] = 0; E.K[0] = null, E.K[0] = T, I = 1 } } _ = I; break; case 2: break; default: e(0) }u = _ } } if (f = f[0], p = p[0], u && y(g, 1) && !(u = 1 <= (b = y(g, 4)) && 11 >= b)) { s.a = 3; break t } var H; if (H = u) e: { var W, V, G, Y = s, J = f, X = p, K = b, Z = n, $ = Y.m, Q = Y.s, tt = [null], et = 1, rt = 0, nt = Qn[K]; r: for (; ;) { if (Z && y($, 1)) { var it = y($, 3) + 2, at = q(J, it), ot = q(X, it), st = at * ot; if (!Ft(at, ot, 0, Y, tt)) break r; for (tt = tt[0], Q.xc = it, W = 0; W < st; ++W) { var ct = tt[W] >> 8 & 65535; tt[W] = ct, ct >= et && (et = ct + 1) } } if ($.h) break r; for (V = 0; 5 > V; ++V) { var ut = Xn[V]; !V && 0 < K && (ut += 1 << K), rt < ut && (rt = ut) } var lt = o(et * nt, h), ht = et, ft = o(ht, d); if (null == ft) var dt = null; else e(65536 >= ht), dt = ft; var pt = a(rt); if (null == dt || null == pt || null == lt) { Y.a = 1; break r } var gt = lt; for (W = G = 0; W < et; ++W) { var mt = dt[W], vt = mt.G, bt = mt.H, wt = 0, Nt = 1, Lt = 0; for (V = 0; 5 > V; ++V) { ut = Xn[V], vt[V] = gt, bt[V] = G, !V && 0 < K && (ut += 1 << K); n: { var At, xt = ut, St = Y, kt = pt, It = gt, Ct = G, jt = 0, Ot = St.m, Bt = y(Ot, 1); if (i(kt, 0, 0, xt), Bt) { var Mt = y(Ot, 1) + 1, Et = y(Ot, 1), qt = y(Ot, 0 == Et ? 1 : 8); kt[qt] = 1, 2 == Mt && (kt[qt = y(Ot, 8)] = 1); var Dt = 1 } else { var Rt = a(19), Tt = y(Ot, 4) + 4; if (19 < Tt) { St.a = 3; var Ut = 0; break n } for (At = 0; At < Tt; ++At)Rt[Zn[At]] = y(Ot, 3); var zt = void 0, Ht = void 0, Wt = St, Vt = Rt, Gt = xt, Yt = kt, Jt = 0, Xt = Wt.m, Kt = 8, Zt = o(128, h); i: for (; l(Zt, 0, 7, Vt, 19);) { if (y(Xt, 1)) { var $t = 2 + 2 * y(Xt, 3); if ((zt = 2 + y(Xt, $t)) > Gt) break i } else zt = Gt; for (Ht = 0; Ht < Gt && zt--;) { S(Xt); var Qt = Zt[0 + (127 & L(Xt))]; x(Xt, Xt.u + Qt.g); var te = Qt.value; if (16 > te) Yt[Ht++] = te, 0 != te && (Kt = te); else { var ee = 16 == te, re = te - 16, ne = Jn[re], ie = y(Xt, Yn[re]) + ne; if (Ht + ie > Gt) break i; for (var ae = ee ? Kt : 0; 0 < ie--;)Yt[Ht++] = ae } } Jt = 1; break i } Jt || (Wt.a = 3), Dt = Jt } (Dt = Dt && !Ot.h) && (jt = l(It, Ct, 8, kt, xt)), Dt && 0 != jt ? Ut = jt : (St.a = 3, Ut = 0) } if (0 == Ut) break r; if (Nt && 1 == Kn[V] && (Nt = 0 == gt[G].g), wt += gt[G].g, G += Ut, 3 >= V) { var oe, se = pt[0]; for (oe = 1; oe < ut; ++oe)pt[oe] > se && (se = pt[oe]); Lt += se } } if (mt.nd = Nt, mt.Qb = 0, Nt && (mt.qb = (vt[3][bt[3] + 0].value << 24 | vt[1][bt[1] + 0].value << 16 | vt[2][bt[2] + 0].value) >>> 0, 0 == wt && 256 > vt[0][bt[0] + 0].value && (mt.Qb = 1, mt.qb += vt[0][bt[0] + 0].value << 8)), mt.jc = !mt.Qb && 6 > Lt, mt.jc) { var ce, ue = mt; for (ce = 0; ce < Dr; ++ce) { var le = ce, he = ue.pd[le], fe = ue.G[0][ue.H[0] + le]; 256 <= fe.value ? (he.g = fe.g + 256, he.value = fe.value) : (he.g = 0, he.value = 0, le >>= yt(fe, 8, he), le >>= yt(ue.G[1][ue.H[1] + le], 16, he), le >>= yt(ue.G[2][ue.H[2] + le], 0, he), yt(ue.G[3][ue.H[3] + le], 24, he)) } } } Q.vc = tt, Q.Wb = et, Q.Ya = dt, Q.yc = lt, H = 1; break e } H = 0 } if (!(u = H)) { s.a = 3; break t } if (0 < b) { if (m.ua = 1 << b, !O(m.Wa, b)) { s.a = 1, u = 0; break t } } else m.ua = 0; var de = s, pe = f, ge = p, me = de.s, ve = me.xc; if (de.c = pe, de.i = ge, me.md = q(pe, ve), me.wc = 0 == ve ? -1 : (1 << ve) - 1, n) { s.xb = pi; break t } if (null == (v = a(f * p))) { s.a = 1, u = 0; break t } u = (u = _t(s, v, 0, f, p, p, null)) && !g.h; break t } return u ? (null != c ? c[0] = v : (e(null == v), e(n)), s.$ = 0, n || Pt(m)) : Pt(m), u } function It(t, r) { var n = t.c * t.i, i = n + r + 16 * r; return e(t.c <= r), t.V = a(i), null == t.V ? (t.Ta = null, t.Ua = 0, t.a = 1, 0) : (t.Ta = t.V, t.Ua = t.Ba + n + r, 1) } function Ct(t, r) { var n = t.C, i = r - n, a = t.V, o = t.Ba + t.c * n; for (e(r <= t.l.o); 0 < i;) { var s = 16 < i ? 16 : i, c = t.l.ma, u = t.l.width, l = u * s, h = c.ca, f = c.tb + u * n, d = t.Ta, p = t.Ua; Nt(t, s, a, o), _n(d, p, h, f, l), xt(c, n, n + s, h, f, u), i -= s, a += s * t.c, n += s } e(n == r), t.C = t.Ma = r } function jt() { this.ub = this.yd = this.td = this.Rb = 0 } function Ot() { this.Kd = this.Ld = this.Ud = this.Td = this.i = this.c = 0 } function Bt() { this.Fb = this.Bb = this.Cb = 0, this.Zb = a(4), this.Lb = a(4) } function Mt() { this.Yb = function () { var t = []; return function t(e, r, n) { for (var i = n[r], a = 0; a < i && (e.push(n.length > r + 1 ? [] : 0), !(n.length < r + 1)); a++)t(e[a], r + 1, n) }(t, 0, [3, 11]), t }() } function Et() { this.jb = a(3), this.Wc = s([4, 8], Mt), this.Xc = s([4, 17], Mt) } function qt() { this.Pc = this.wb = this.Tb = this.zd = 0, this.vd = new a(4), this.od = new a(4) } function Dt() { this.ld = this.La = this.dd = this.tc = 0 } function Rt() { this.Na = this.la = 0 } function Tt() { this.Sc = [0, 0], this.Eb = [0, 0], this.Qc = [0, 0], this.ia = this.lc = 0 } function Ut() { this.ad = a(384), this.Za = 0, this.Ob = a(16), this.$b = this.Ad = this.ia = this.Gc = this.Hc = this.Dd = 0 } function zt() { this.uc = this.M = this.Nb = 0, this.wa = Array(new Dt), this.Y = 0, this.ya = Array(new Ut), this.aa = 0, this.l = new Gt } function Ht() { this.y = a(16), this.f = a(8), this.ea = a(8) } function Wt() { this.cb = this.a = 0, this.sc = "", this.m = new w, this.Od = new jt, this.Kc = new Ot, this.ed = new qt, this.Qa = new Bt, this.Ic = this.$c = this.Aa = 0, this.D = new zt, this.Xb = this.Va = this.Hb = this.zb = this.yb = this.Ub = this.za = 0, this.Jc = o(8, w), this.ia = 0, this.pb = o(4, Tt), this.Pa = new Et, this.Bd = this.kc = 0, this.Ac = [], this.Bc = 0, this.zc = [0, 0, 0, 0], this.Gd = Array(new Ht), this.Hd = 0, this.rb = Array(new Rt), this.sb = 0, this.wa = Array(new Dt), this.Y = 0, this.oc = [], this.pc = 0, this.sa = [], this.ta = 0, this.qa = [], this.ra = 0, this.Ha = [], this.B = this.R = this.Ia = 0, this.Ec = [], this.M = this.ja = this.Vb = this.Fc = 0, this.ya = Array(new Ut), this.L = this.aa = 0, this.gd = s([4, 2], Dt), this.ga = null, this.Fa = [], this.Cc = this.qc = this.P = 0, this.Gb = [], this.Uc = 0, this.mb = [], this.nb = 0, this.rc = [], this.Ga = this.Vc = 0 } function Vt(t, e) { return 0 > t ? 0 : t > e ? e : t } function Gt() { this.T = this.U = this.ka = this.height = this.width = 0, this.y = [], this.f = [], this.ea = [], this.Rc = this.fa = this.W = this.N = this.O = 0, this.ma = "void", this.put = "VP8IoPutHook", this.ac = "VP8IoSetupHook", this.bc = "VP8IoTeardownHook", this.ha = this.Kb = 0, this.data = [], this.hb = this.ib = this.da = this.o = this.j = this.va = this.v = this.Da = this.ob = this.w = 0, this.F = [], this.J = 0 } function Yt() { var t = new Wt; return null != t && (t.a = 0, t.sc = "OK", t.cb = 0, t.Xb = 0, ni || (ni = Zt)), t } function Jt(t, e, r) { return 0 == t.a && (t.a = e, t.sc = r, t.cb = 0), 0 } function Xt(t, e, r) { return 3 <= r && 157 == t[e + 0] && 1 == t[e + 1] && 42 == t[e + 2] } function Kt(t, r) { if (null == t) return 0; if (t.a = 0, t.sc = "OK", null == r) return Jt(t, 2, "null VP8Io passed to VP8GetHeaders()"); var n = r.data, a = r.w, o = r.ha; if (4 > o) return Jt(t, 7, "Truncated header."); var s = n[a + 0] | n[a + 1] << 8 | n[a + 2] << 16, c = t.Od; if (c.Rb = !(1 & s), c.td = s >> 1 & 7, c.yd = s >> 4 & 1, c.ub = s >> 5, 3 < c.td) return Jt(t, 3, "Incorrect keyframe parameters."); if (!c.yd) return Jt(t, 4, "Frame not displayable."); a += 3, o -= 3; var u = t.Kc; if (c.Rb) { if (7 > o) return Jt(t, 7, "cannot parse picture header"); if (!Xt(n, a, o)) return Jt(t, 3, "Bad code word"); u.c = 16383 & (n[a + 4] << 8 | n[a + 3]), u.Td = n[a + 4] >> 6, u.i = 16383 & (n[a + 6] << 8 | n[a + 5]), u.Ud = n[a + 6] >> 6, a += 7, o -= 7, t.za = u.c + 15 >> 4, t.Ub = u.i + 15 >> 4, r.width = u.c, r.height = u.i, r.Da = 0, r.j = 0, r.v = 0, r.va = r.width, r.o = r.height, r.da = 0, r.ib = r.width, r.hb = r.height, r.U = r.width, r.T = r.height, i((s = t.Pa).jb, 0, 255, s.jb.length), e(null != (s = t.Qa)), s.Cb = 0, s.Bb = 0, s.Fb = 1, i(s.Zb, 0, 0, s.Zb.length), i(s.Lb, 0, 0, s.Lb) } if (c.ub > o) return Jt(t, 7, "bad partition length"); p(s = t.m, n, a, c.ub), a += c.ub, o -= c.ub, c.Rb && (u.Ld = P(s), u.Kd = P(s)), u = t.Qa; var l, h = t.Pa; if (e(null != s), e(null != u), u.Cb = P(s), u.Cb) { if (u.Bb = P(s), P(s)) { for (u.Fb = P(s), l = 0; 4 > l; ++l)u.Zb[l] = P(s) ? m(s, 7) : 0; for (l = 0; 4 > l; ++l)u.Lb[l] = P(s) ? m(s, 6) : 0 } if (u.Bb) for (l = 0; 3 > l; ++l)h.jb[l] = P(s) ? g(s, 8) : 255 } else u.Bb = 0; if (s.Ka) return Jt(t, 3, "cannot parse segment header"); if ((u = t.ed).zd = P(s), u.Tb = g(s, 6), u.wb = g(s, 3), u.Pc = P(s), u.Pc && P(s)) { for (h = 0; 4 > h; ++h)P(s) && (u.vd[h] = m(s, 6)); for (h = 0; 4 > h; ++h)P(s) && (u.od[h] = m(s, 6)) } if (t.L = 0 == u.Tb ? 0 : u.zd ? 1 : 2, s.Ka) return Jt(t, 3, "cannot parse filter header"); var f = o; if (o = l = a, a = l + f, u = f, t.Xb = (1 << g(t.m, 2)) - 1, f < 3 * (h = t.Xb)) n = 7; else { for (l += 3 * h, u -= 3 * h, f = 0; f < h; ++f) { var d = n[o + 0] | n[o + 1] << 8 | n[o + 2] << 16; d > u && (d = u), p(t.Jc[+f], n, l, d), l += d, u -= d, o += 3 } p(t.Jc[+h], n, l, u), n = l < a ? 0 : 5 } if (0 != n) return Jt(t, n, "cannot parse partitions"); for (n = g(l = t.m, 7), o = P(l) ? m(l, 4) : 0, a = P(l) ? m(l, 4) : 0, u = P(l) ? m(l, 4) : 0, h = P(l) ? m(l, 4) : 0, l = P(l) ? m(l, 4) : 0, f = t.Qa, d = 0; 4 > d; ++d) { if (f.Cb) { var v = f.Zb[d]; f.Fb || (v += n) } else { if (0 < d) { t.pb[d] = t.pb[0]; continue } v = n } var b = t.pb[d]; b.Sc[0] = ei[Vt(v + o, 127)], b.Sc[1] = ri[Vt(v + 0, 127)], b.Eb[0] = 2 * ei[Vt(v + a, 127)], b.Eb[1] = 101581 * ri[Vt(v + u, 127)] >> 16, 8 > b.Eb[1] && (b.Eb[1] = 8), b.Qc[0] = ei[Vt(v + h, 117)], b.Qc[1] = ri[Vt(v + l, 127)], b.lc = v + l } if (!c.Rb) return Jt(t, 4, "Not a key frame."); for (P(s), c = t.Pa, n = 0; 4 > n; ++n) { for (o = 0; 8 > o; ++o)for (a = 0; 3 > a; ++a)for (u = 0; 11 > u; ++u)h = k(s, ui[n][o][a][u]) ? g(s, 8) : si[n][o][a][u], c.Wc[n][o].Yb[a][u] = h; for (o = 0; 17 > o; ++o)c.Xc[n][o] = c.Wc[n][li[o]] } return t.kc = P(s), t.kc && (t.Bd = g(s, 8)), t.cb = 1 } function Zt(t, e, r, n, i, a, o) { var s = e[i].Yb[r]; for (r = 0; 16 > i; ++i) { if (!k(t, s[r + 0])) return i; for (; !k(t, s[r + 1]);)if (s = e[++i].Yb[0], r = 0, 16 == i) return 16; var c = e[i + 1].Yb; if (k(t, s[r + 2])) { var u = t, l = 0; if (k(u, (f = s)[(h = r) + 3])) if (k(u, f[h + 6])) { for (s = 0, h = 2 * (l = k(u, f[h + 8])) + (f = k(u, f[h + 9 + l])), l = 0, f = ii[h]; f[s]; ++s)l += l + k(u, f[s]); l += 3 + (8 << h) } else k(u, f[h + 7]) ? (l = 7 + 2 * k(u, 165), l += k(u, 145)) : l = 5 + k(u, 159); else l = k(u, f[h + 4]) ? 3 + k(u, f[h + 5]) : 2; s = c[2] } else l = 1, s = c[1]; c = o + ai[i], 0 > (u = t).b && _(u); var h, f = u.b, d = (h = u.Ca >> 1) - (u.I >> f) >> 31; --u.b, u.Ca += d, u.Ca |= 1, u.I -= (h + 1 & d) << f, a[c] = ((l ^ d) - d) * n[(0 < i) + 0] } return 16 } function $t(t) { var e = t.rb[t.sb - 1]; e.la = 0, e.Na = 0, i(t.zc, 0, 0, t.zc.length), t.ja = 0 } function Qt(t, r) { if (null == t) return 0; if (null == r) return Jt(t, 2, "NULL VP8Io parameter in VP8Decode()."); if (!t.cb && !Kt(t, r)) return 0; if (e(t.cb), null == r.ac || r.ac(r)) { r.ob && (t.L = 0); var s = Ri[t.L]; if (2 == t.L ? (t.yb = 0, t.zb = 0) : (t.yb = r.v - s >> 4, t.zb = r.j - s >> 4, 0 > t.yb && (t.yb = 0), 0 > t.zb && (t.zb = 0)), t.Va = r.o + 15 + s >> 4, t.Hb = r.va + 15 + s >> 4, t.Hb > t.za && (t.Hb = t.za), t.Va > t.Ub && (t.Va = t.Ub), 0 < t.L) { var c = t.ed; for (s = 0; 4 > s; ++s) { var u; if (t.Qa.Cb) { var l = t.Qa.Lb[s]; t.Qa.Fb || (l += c.Tb) } else l = c.Tb; for (u = 0; 1 >= u; ++u) { var h = t.gd[s][u], f = l; if (c.Pc && (f += c.vd[0], u && (f += c.od[0])), 0 < (f = 0 > f ? 0 : 63 < f ? 63 : f)) { var d = f; 0 < c.wb && ((d = 4 < c.wb ? d >> 2 : d >> 1) > 9 - c.wb && (d = 9 - c.wb)), 1 > d && (d = 1), h.dd = d, h.tc = 2 * f + d, h.ld = 40 <= f ? 2 : 15 <= f ? 1 : 0 } else h.tc = 0; h.La = u } } } s = 0 } else Jt(t, 6, "Frame setup failed"), s = t.a; if (s = 0 == s) { if (s) { t.$c = 0, 0 < t.Aa || (t.Ic = Ui); t: { s = t.Ic; c = 4 * (d = t.za); var p = 32 * d, g = d + 1, m = 0 < t.L ? d * (0 < t.Aa ? 2 : 1) : 0, v = (2 == t.Aa ? 2 : 1) * d; if ((h = c + 832 + (u = 3 * (16 * s + Ri[t.L]) / 2 * p) + (l = null != t.Fa && 0 < t.Fa.length ? t.Kc.c * t.Kc.i : 0)) != h) s = 0; else { if (h > t.Vb) { if (t.Vb = 0, t.Ec = a(h), t.Fc = 0, null == t.Ec) { s = Jt(t, 1, "no memory during frame initialization."); break t } t.Vb = h } h = t.Ec, f = t.Fc, t.Ac = h, t.Bc = f, f += c, t.Gd = o(p, Ht), t.Hd = 0, t.rb = o(g + 1, Rt), t.sb = 1, t.wa = m ? o(m, Dt) : null, t.Y = 0, t.D.Nb = 0, t.D.wa = t.wa, t.D.Y = t.Y, 0 < t.Aa && (t.D.Y += d), e(!0), t.oc = h, t.pc = f, f += 832, t.ya = o(v, Ut), t.aa = 0, t.D.ya = t.ya, t.D.aa = t.aa, 2 == t.Aa && (t.D.aa += d), t.R = 16 * d, t.B = 8 * d, d = (p = Ri[t.L]) * t.R, p = p / 2 * t.B, t.sa = h, t.ta = f + d, t.qa = t.sa, t.ra = t.ta + 16 * s * t.R + p, t.Ha = t.qa, t.Ia = t.ra + 8 * s * t.B + p, t.$c = 0, f += u, t.mb = l ? h : null, t.nb = l ? f : null, e(f + l <= t.Fc + t.Vb), $t(t), i(t.Ac, t.Bc, 0, c), s = 1 } } if (s) { if (r.ka = 0, r.y = t.sa, r.O = t.ta, r.f = t.qa, r.N = t.ra, r.ea = t.Ha, r.Vd = t.Ia, r.fa = t.R, r.Rc = t.B, r.F = null, r.J = 0, !Cn) { for (s = -255; 255 >= s; ++s)Pn[255 + s] = 0 > s ? -s : s; for (s = -1020; 1020 >= s; ++s)kn[1020 + s] = -128 > s ? -128 : 127 < s ? 127 : s; for (s = -112; 112 >= s; ++s)Fn[112 + s] = -16 > s ? -16 : 15 < s ? 15 : s; for (s = -255; 510 >= s; ++s)In[255 + s] = 0 > s ? 0 : 255 < s ? 255 : s; Cn = 1 } an = ue, on = ae, cn = oe, un = se, ln = ce, sn = ie, hn = Je, fn = Xe, dn = $e, pn = Qe, gn = Ke, mn = Ze, vn = tr, bn = er, yn = ze, wn = He, Nn = We, Ln = Ve, fi[0] = xe, fi[1] = he, fi[2] = Le, fi[3] = Ae, fi[4] = Se, fi[5] = Pe, fi[6] = _e, fi[7] = ke, fi[8] = Ie, fi[9] = Fe, hi[0] = ve, hi[1] = de, hi[2] = pe, hi[3] = ge, hi[4] = be, hi[5] = ye, hi[6] = we, di[0] = Be, di[1] = fe, di[2] = Ce, di[3] = je, di[4] = Ee, di[5] = Me, di[6] = qe, s = 1 } else s = 0 } s && (s = function (t, r) { for (t.M = 0; t.M < t.Va; ++t.M) { var o, s = t.Jc[t.M & t.Xb], c = t.m, u = t; for (o = 0; o < u.za; ++o) { var l = c, h = u, f = h.Ac, d = h.Bc + 4 * o, p = h.zc, g = h.ya[h.aa + o]; if (h.Qa.Bb ? g.$b = k(l, h.Pa.jb[0]) ? 2 + k(l, h.Pa.jb[2]) : k(l, h.Pa.jb[1]) : g.$b = 0, h.kc && (g.Ad = k(l, h.Bd)), g.Za = !k(l, 145) + 0, g.Za) { var m = g.Ob, v = 0; for (h = 0; 4 > h; ++h) { var b, y = p[0 + h]; for (b = 0; 4 > b; ++b) { y = ci[f[d + b]][y]; for (var w = oi[k(l, y[0])]; 0 < w;)w = oi[2 * w + k(l, y[w])]; y = -w, f[d + b] = y } n(m, v, f, d, 4), v += 4, p[0 + h] = y } } else y = k(l, 156) ? k(l, 128) ? 1 : 3 : k(l, 163) ? 2 : 0, g.Ob[0] = y, i(f, d, y, 4), i(p, 0, y, 4); g.Dd = k(l, 142) ? k(l, 114) ? k(l, 183) ? 1 : 3 : 2 : 0 } if (u.m.Ka) return Jt(t, 7, "Premature end-of-partition0 encountered."); for (; t.ja < t.za; ++t.ja) { if (u = s, l = (c = t).rb[c.sb - 1], f = c.rb[c.sb + c.ja], o = c.ya[c.aa + c.ja], d = c.kc ? o.Ad : 0) l.la = f.la = 0, o.Za || (l.Na = f.Na = 0), o.Hc = 0, o.Gc = 0, o.ia = 0; else { var N, L; l = f, f = u, d = c.Pa.Xc, p = c.ya[c.aa + c.ja], g = c.pb[p.$b]; if (h = p.ad, m = 0, v = c.rb[c.sb - 1], y = b = 0, i(h, m, 0, 384), p.Za) var A = 0, x = d[3]; else { w = a(16); var S = l.Na + v.Na; if (S = ni(f, d[1], S, g.Eb, 0, w, 0), l.Na = v.Na = (0 < S) + 0, 1 < S) an(w, 0, h, m); else { var _ = w[0] + 3 >> 3; for (w = 0; 256 > w; w += 16)h[m + w] = _ } A = 1, x = d[0] } var P = 15 & l.la, F = 15 & v.la; for (w = 0; 4 > w; ++w) { var I = 1 & F; for (_ = L = 0; 4 > _; ++_)P = P >> 1 | (I = (S = ni(f, x, S = I + (1 & P), g.Sc, A, h, m)) > A) << 7, L = L << 2 | (3 < S ? 3 : 1 < S ? 2 : 0 != h[m + 0]), m += 16; P >>= 4, F = F >> 1 | I << 7, b = (b << 8 | L) >>> 0 } for (x = P, A = F >> 4, N = 0; 4 > N; N += 2) { for (L = 0, P = l.la >> 4 + N, F = v.la >> 4 + N, w = 0; 2 > w; ++w) { for (I = 1 & F, _ = 0; 2 > _; ++_)S = I + (1 & P), P = P >> 1 | (I = 0 < (S = ni(f, d[2], S, g.Qc, 0, h, m))) << 3, L = L << 2 | (3 < S ? 3 : 1 < S ? 2 : 0 != h[m + 0]), m += 16; P >>= 2, F = F >> 1 | I << 5 } y |= L << 4 * N, x |= P << 4 << N, A |= (240 & F) << N } l.la = x, v.la = A, p.Hc = b, p.Gc = y, p.ia = 43690 & y ? 0 : g.ia, d = !(b | y) } if (0 < c.L && (c.wa[c.Y + c.ja] = c.gd[o.$b][o.Za], c.wa[c.Y + c.ja].La |= !d), u.Ka) return Jt(t, 7, "Premature end-of-file encountered.") } if ($t(t), c = r, u = 1, o = (s = t).D, l = 0 < s.L && s.M >= s.zb && s.M <= s.Va, 0 == s.Aa) t: { if (o.M = s.M, o.uc = l, Or(s, o), u = 1, o = (L = s.D).Nb, l = (y = Ri[s.L]) * s.R, f = y / 2 * s.B, w = 16 * o * s.R, _ = 8 * o * s.B, d = s.sa, p = s.ta - l + w, g = s.qa, h = s.ra - f + _, m = s.Ha, v = s.Ia - f + _, F = 0 == (P = L.M), b = P >= s.Va - 1, 2 == s.Aa && Or(s, L), L.uc) for (I = (S = s).D.M, e(S.D.uc), L = S.yb; L < S.Hb; ++L) { A = L, x = I; var C = (j = (U = S).D).Nb; N = U.R; var j = j.wa[j.Y + A], O = U.sa, B = U.ta + 16 * C * N + 16 * A, M = j.dd, E = j.tc; if (0 != E) if (e(3 <= E), 1 == U.L) 0 < A && wn(O, B, N, E + 4), j.La && Ln(O, B, N, E), 0 < x && yn(O, B, N, E + 4), j.La && Nn(O, B, N, E); else { var q = U.B, D = U.qa, R = U.ra + 8 * C * q + 8 * A, T = U.Ha, U = U.Ia + 8 * C * q + 8 * A; C = j.ld; 0 < A && (fn(O, B, N, E + 4, M, C), pn(D, R, T, U, q, E + 4, M, C)), j.La && (mn(O, B, N, E, M, C), bn(D, R, T, U, q, E, M, C)), 0 < x && (hn(O, B, N, E + 4, M, C), dn(D, R, T, U, q, E + 4, M, C)), j.La && (gn(O, B, N, E, M, C), vn(D, R, T, U, q, E, M, C)) } } if (s.ia && alert("todo:DitherRow"), null != c.put) { if (L = 16 * P, P = 16 * (P + 1), F ? (c.y = s.sa, c.O = s.ta + w, c.f = s.qa, c.N = s.ra + _, c.ea = s.Ha, c.W = s.Ia + _) : (L -= y, c.y = d, c.O = p, c.f = g, c.N = h, c.ea = m, c.W = v), b || (P -= y), P > c.o && (P = c.o), c.F = null, c.J = null, null != s.Fa && 0 < s.Fa.length && L < P && (c.J = hr(s, c, L, P - L), c.F = s.mb, null == c.F && 0 == c.F.length)) { u = Jt(s, 3, "Could not decode alpha data."); break t } L < c.j && (y = c.j - L, L = c.j, e(!(1 & y)), c.O += s.R * y, c.N += s.B * (y >> 1), c.W += s.B * (y >> 1), null != c.F && (c.J += c.width * y)), L < P && (c.O += c.v, c.N += c.v >> 1, c.W += c.v >> 1, null != c.F && (c.J += c.v), c.ka = L - c.j, c.U = c.va - c.v, c.T = P - L, u = c.put(c)) } o + 1 != s.Ic || b || (n(s.sa, s.ta - l, d, p + 16 * s.R, l), n(s.qa, s.ra - f, g, h + 8 * s.B, f), n(s.Ha, s.Ia - f, m, v + 8 * s.B, f)) } if (!u) return Jt(t, 6, "Output aborted.") } return 1 }(t, r)), null != r.bc && r.bc(r), s &= 1 } return s ? (t.cb = 0, s) : 0 } function te(t, e, r, n, i) { i = t[e + r + 32 * n] + (i >> 3), t[e + r + 32 * n] = -256 & i ? 0 > i ? 0 : 255 : i } function ee(t, e, r, n, i, a) { te(t, e, 0, r, n + i), te(t, e, 1, r, n + a), te(t, e, 2, r, n - a), te(t, e, 3, r, n - i) } function re(t) { return (20091 * t >> 16) + t } function ne(t, e, r, n) { var i, o = 0, s = a(16); for (i = 0; 4 > i; ++i) { var c = t[e + 0] + t[e + 8], u = t[e + 0] - t[e + 8], l = (35468 * t[e + 4] >> 16) - re(t[e + 12]), h = re(t[e + 4]) + (35468 * t[e + 12] >> 16); s[o + 0] = c + h, s[o + 1] = u + l, s[o + 2] = u - l, s[o + 3] = c - h, o += 4, e++ } for (i = o = 0; 4 > i; ++i)c = (t = s[o + 0] + 4) + s[o + 8], u = t - s[o + 8], l = (35468 * s[o + 4] >> 16) - re(s[o + 12]), te(r, n, 0, 0, c + (h = re(s[o + 4]) + (35468 * s[o + 12] >> 16))), te(r, n, 1, 0, u + l), te(r, n, 2, 0, u - l), te(r, n, 3, 0, c - h), o++, n += 32 } function ie(t, e, r, n) { var i = t[e + 0] + 4, a = 35468 * t[e + 4] >> 16, o = re(t[e + 4]), s = 35468 * t[e + 1] >> 16; ee(r, n, 0, i + o, t = re(t[e + 1]), s), ee(r, n, 1, i + a, t, s), ee(r, n, 2, i - a, t, s), ee(r, n, 3, i - o, t, s) } function ae(t, e, r, n, i) { ne(t, e, r, n), i && ne(t, e + 16, r, n + 4) } function oe(t, e, r, n) { on(t, e + 0, r, n, 1), on(t, e + 32, r, n + 128, 1) } function se(t, e, r, n) { var i; for (t = t[e + 0] + 4, i = 0; 4 > i; ++i)for (e = 0; 4 > e; ++e)te(r, n, e, i, t) } function ce(t, e, r, n) { t[e + 0] && un(t, e + 0, r, n), t[e + 16] && un(t, e + 16, r, n + 4), t[e + 32] && un(t, e + 32, r, n + 128), t[e + 48] && un(t, e + 48, r, n + 128 + 4) } function ue(t, e, r, n) { var i, o = a(16); for (i = 0; 4 > i; ++i) { var s = t[e + 0 + i] + t[e + 12 + i], c = t[e + 4 + i] + t[e + 8 + i], u = t[e + 4 + i] - t[e + 8 + i], l = t[e + 0 + i] - t[e + 12 + i]; o[0 + i] = s + c, o[8 + i] = s - c, o[4 + i] = l + u, o[12 + i] = l - u } for (i = 0; 4 > i; ++i)s = (t = o[0 + 4 * i] + 3) + o[3 + 4 * i], c = o[1 + 4 * i] + o[2 + 4 * i], u = o[1 + 4 * i] - o[2 + 4 * i], l = t - o[3 + 4 * i], r[n + 0] = s + c >> 3, r[n + 16] = l + u >> 3, r[n + 32] = s - c >> 3, r[n + 48] = l - u >> 3, n += 64 } function le(t, e, r) { var n, i = e - 32, a = Bn, o = 255 - t[i - 1]; for (n = 0; n < r; ++n) { var s, c = a, u = o + t[e - 1]; for (s = 0; s < r; ++s)t[e + s] = c[u + t[i + s]]; e += 32 } } function he(t, e) { le(t, e, 4) } function fe(t, e) { le(t, e, 8) } function de(t, e) { le(t, e, 16) } function pe(t, e) { var r; for (r = 0; 16 > r; ++r)n(t, e + 32 * r, t, e - 32, 16) } function ge(t, e) { var r; for (r = 16; 0 < r; --r)i(t, e, t[e - 1], 16), e += 32 } function me(t, e, r) { var n; for (n = 0; 16 > n; ++n)i(e, r + 32 * n, t, 16) } function ve(t, e) { var r, n = 16; for (r = 0; 16 > r; ++r)n += t[e - 1 + 32 * r] + t[e + r - 32]; me(n >> 5, t, e) } function be(t, e) { var r, n = 8; for (r = 0; 16 > r; ++r)n += t[e - 1 + 32 * r]; me(n >> 4, t, e) } function ye(t, e) { var r, n = 8; for (r = 0; 16 > r; ++r)n += t[e + r - 32]; me(n >> 4, t, e) } function we(t, e) { me(128, t, e) } function Ne(t, e, r) { return t + 2 * e + r + 2 >> 2 } function Le(t, e) { var r, i = e - 32; i = new Uint8Array([Ne(t[i - 1], t[i + 0], t[i + 1]), Ne(t[i + 0], t[i + 1], t[i + 2]), Ne(t[i + 1], t[i + 2], t[i + 3]), Ne(t[i + 2], t[i + 3], t[i + 4])]); for (r = 0; 4 > r; ++r)n(t, e + 32 * r, i, 0, i.length) } function Ae(t, e) { var r = t[e - 1], n = t[e - 1 + 32], i = t[e - 1 + 64], a = t[e - 1 + 96]; F(t, e + 0, 16843009 * Ne(t[e - 1 - 32], r, n)), F(t, e + 32, 16843009 * Ne(r, n, i)), F(t, e + 64, 16843009 * Ne(n, i, a)), F(t, e + 96, 16843009 * Ne(i, a, a)) } function xe(t, e) { var r, n = 4; for (r = 0; 4 > r; ++r)n += t[e + r - 32] + t[e - 1 + 32 * r]; for (n >>= 3, r = 0; 4 > r; ++r)i(t, e + 32 * r, n, 4) } function Se(t, e) { var r = t[e - 1 + 0], n = t[e - 1 + 32], i = t[e - 1 + 64], a = t[e - 1 - 32], o = t[e + 0 - 32], s = t[e + 1 - 32], c = t[e + 2 - 32], u = t[e + 3 - 32]; t[e + 0 + 96] = Ne(n, i, t[e - 1 + 96]), t[e + 1 + 96] = t[e + 0 + 64] = Ne(r, n, i), t[e + 2 + 96] = t[e + 1 + 64] = t[e + 0 + 32] = Ne(a, r, n), t[e + 3 + 96] = t[e + 2 + 64] = t[e + 1 + 32] = t[e + 0 + 0] = Ne(o, a, r), t[e + 3 + 64] = t[e + 2 + 32] = t[e + 1 + 0] = Ne(s, o, a), t[e + 3 + 32] = t[e + 2 + 0] = Ne(c, s, o), t[e + 3 + 0] = Ne(u, c, s) } function _e(t, e) { var r = t[e + 1 - 32], n = t[e + 2 - 32], i = t[e + 3 - 32], a = t[e + 4 - 32], o = t[e + 5 - 32], s = t[e + 6 - 32], c = t[e + 7 - 32]; t[e + 0 + 0] = Ne(t[e + 0 - 32], r, n), t[e + 1 + 0] = t[e + 0 + 32] = Ne(r, n, i), t[e + 2 + 0] = t[e + 1 + 32] = t[e + 0 + 64] = Ne(n, i, a), t[e + 3 + 0] = t[e + 2 + 32] = t[e + 1 + 64] = t[e + 0 + 96] = Ne(i, a, o), t[e + 3 + 32] = t[e + 2 + 64] = t[e + 1 + 96] = Ne(a, o, s), t[e + 3 + 64] = t[e + 2 + 96] = Ne(o, s, c), t[e + 3 + 96] = Ne(s, c, c) } function Pe(t, e) { var r = t[e - 1 + 0], n = t[e - 1 + 32], i = t[e - 1 + 64], a = t[e - 1 - 32], o = t[e + 0 - 32], s = t[e + 1 - 32], c = t[e + 2 - 32], u = t[e + 3 - 32]; t[e + 0 + 0] = t[e + 1 + 64] = a + o + 1 >> 1, t[e + 1 + 0] = t[e + 2 + 64] = o + s + 1 >> 1, t[e + 2 + 0] = t[e + 3 + 64] = s + c + 1 >> 1, t[e + 3 + 0] = c + u + 1 >> 1, t[e + 0 + 96] = Ne(i, n, r), t[e + 0 + 64] = Ne(n, r, a), t[e + 0 + 32] = t[e + 1 + 96] = Ne(r, a, o), t[e + 1 + 32] = t[e + 2 + 96] = Ne(a, o, s), t[e + 2 + 32] = t[e + 3 + 96] = Ne(o, s, c), t[e + 3 + 32] = Ne(s, c, u) } function ke(t, e) { var r = t[e + 0 - 32], n = t[e + 1 - 32], i = t[e + 2 - 32], a = t[e + 3 - 32], o = t[e + 4 - 32], s = t[e + 5 - 32], c = t[e + 6 - 32], u = t[e + 7 - 32]; t[e + 0 + 0] = r + n + 1 >> 1, t[e + 1 + 0] = t[e + 0 + 64] = n + i + 1 >> 1, t[e + 2 + 0] = t[e + 1 + 64] = i + a + 1 >> 1, t[e + 3 + 0] = t[e + 2 + 64] = a + o + 1 >> 1, t[e + 0 + 32] = Ne(r, n, i), t[e + 1 + 32] = t[e + 0 + 96] = Ne(n, i, a), t[e + 2 + 32] = t[e + 1 + 96] = Ne(i, a, o), t[e + 3 + 32] = t[e + 2 + 96] = Ne(a, o, s), t[e + 3 + 64] = Ne(o, s, c), t[e + 3 + 96] = Ne(s, c, u) } function Fe(t, e) { var r = t[e - 1 + 0], n = t[e - 1 + 32], i = t[e - 1 + 64], a = t[e - 1 + 96]; t[e + 0 + 0] = r + n + 1 >> 1, t[e + 2 + 0] = t[e + 0 + 32] = n + i + 1 >> 1, t[e + 2 + 32] = t[e + 0 + 64] = i + a + 1 >> 1, t[e + 1 + 0] = Ne(r, n, i), t[e + 3 + 0] = t[e + 1 + 32] = Ne(n, i, a), t[e + 3 + 32] = t[e + 1 + 64] = Ne(i, a, a), t[e + 3 + 64] = t[e + 2 + 64] = t[e + 0 + 96] = t[e + 1 + 96] = t[e + 2 + 96] = t[e + 3 + 96] = a } function Ie(t, e) { var r = t[e - 1 + 0], n = t[e - 1 + 32], i = t[e - 1 + 64], a = t[e - 1 + 96], o = t[e - 1 - 32], s = t[e + 0 - 32], c = t[e + 1 - 32], u = t[e + 2 - 32]; t[e + 0 + 0] = t[e + 2 + 32] = r + o + 1 >> 1, t[e + 0 + 32] = t[e + 2 + 64] = n + r + 1 >> 1, t[e + 0 + 64] = t[e + 2 + 96] = i + n + 1 >> 1, t[e + 0 + 96] = a + i + 1 >> 1, t[e + 3 + 0] = Ne(s, c, u), t[e + 2 + 0] = Ne(o, s, c), t[e + 1 + 0] = t[e + 3 + 32] = Ne(r, o, s), t[e + 1 + 32] = t[e + 3 + 64] = Ne(n, r, o), t[e + 1 + 64] = t[e + 3 + 96] = Ne(i, n, r), t[e + 1 + 96] = Ne(a, i, n) } function Ce(t, e) { var r; for (r = 0; 8 > r; ++r)n(t, e + 32 * r, t, e - 32, 8) } function je(t, e) { var r; for (r = 0; 8 > r; ++r)i(t, e, t[e - 1], 8), e += 32 } function Oe(t, e, r) { var n; for (n = 0; 8 > n; ++n)i(e, r + 32 * n, t, 8) } function Be(t, e) { var r, n = 8; for (r = 0; 8 > r; ++r)n += t[e + r - 32] + t[e - 1 + 32 * r]; Oe(n >> 4, t, e) } function Me(t, e) { var r, n = 4; for (r = 0; 8 > r; ++r)n += t[e + r - 32]; Oe(n >> 3, t, e) } function Ee(t, e) { var r, n = 4; for (r = 0; 8 > r; ++r)n += t[e - 1 + 32 * r]; Oe(n >> 3, t, e) } function qe(t, e) { Oe(128, t, e) } function De(t, e, r) { var n = t[e - r], i = t[e + 0], a = 3 * (i - n) + jn[1020 + t[e - 2 * r] - t[e + r]], o = On[112 + (a + 4 >> 3)]; t[e - r] = Bn[255 + n + On[112 + (a + 3 >> 3)]], t[e + 0] = Bn[255 + i - o] } function Re(t, e, r, n) { var i = t[e + 0], a = t[e + r]; return Mn[255 + t[e - 2 * r] - t[e - r]] > n || Mn[255 + a - i] > n } function Te(t, e, r, n) { return 4 * Mn[255 + t[e - r] - t[e + 0]] + Mn[255 + t[e - 2 * r] - t[e + r]] <= n } function Ue(t, e, r, n, i) { var a = t[e - 3 * r], o = t[e - 2 * r], s = t[e - r], c = t[e + 0], u = t[e + r], l = t[e + 2 * r], h = t[e + 3 * r]; return 4 * Mn[255 + s - c] + Mn[255 + o - u] > n ? 0 : Mn[255 + t[e - 4 * r] - a] <= i && Mn[255 + a - o] <= i && Mn[255 + o - s] <= i && Mn[255 + h - l] <= i && Mn[255 + l - u] <= i && Mn[255 + u - c] <= i } function ze(t, e, r, n) { var i = 2 * n + 1; for (n = 0; 16 > n; ++n)Te(t, e + n, r, i) && De(t, e + n, r) } function He(t, e, r, n) { var i = 2 * n + 1; for (n = 0; 16 > n; ++n)Te(t, e + n * r, 1, i) && De(t, e + n * r, 1) } function We(t, e, r, n) { var i; for (i = 3; 0 < i; --i)ze(t, e += 4 * r, r, n) } function Ve(t, e, r, n) { var i; for (i = 3; 0 < i; --i)He(t, e += 4, r, n) } function Ge(t, e, r, n, i, a, o, s) { for (a = 2 * a + 1; 0 < i--;) { if (Ue(t, e, r, a, o)) if (Re(t, e, r, s)) De(t, e, r); else { var c = t, u = e, l = r, h = c[u - 2 * l], f = c[u - l], d = c[u + 0], p = c[u + l], g = c[u + 2 * l], m = 27 * (b = jn[1020 + 3 * (d - f) + jn[1020 + h - p]]) + 63 >> 7, v = 18 * b + 63 >> 7, b = 9 * b + 63 >> 7; c[u - 3 * l] = Bn[255 + c[u - 3 * l] + b], c[u - 2 * l] = Bn[255 + h + v], c[u - l] = Bn[255 + f + m], c[u + 0] = Bn[255 + d - m], c[u + l] = Bn[255 + p - v], c[u + 2 * l] = Bn[255 + g - b] } e += n } } function Ye(t, e, r, n, i, a, o, s) { for (a = 2 * a + 1; 0 < i--;) { if (Ue(t, e, r, a, o)) if (Re(t, e, r, s)) De(t, e, r); else { var c = t, u = e, l = r, h = c[u - l], f = c[u + 0], d = c[u + l], p = On[112 + ((g = 3 * (f - h)) + 4 >> 3)], g = On[112 + (g + 3 >> 3)], m = p + 1 >> 1; c[u - 2 * l] = Bn[255 + c[u - 2 * l] + m], c[u - l] = Bn[255 + h + g], c[u + 0] = Bn[255 + f - p], c[u + l] = Bn[255 + d - m] } e += n } } function Je(t, e, r, n, i, a) { Ge(t, e, r, 1, 16, n, i, a) } function Xe(t, e, r, n, i, a) { Ge(t, e, 1, r, 16, n, i, a) } function Ke(t, e, r, n, i, a) { var o; for (o = 3; 0 < o; --o)Ye(t, e += 4 * r, r, 1, 16, n, i, a) } function Ze(t, e, r, n, i, a) { var o; for (o = 3; 0 < o; --o)Ye(t, e += 4, 1, r, 16, n, i, a) } function $e(t, e, r, n, i, a, o, s) { Ge(t, e, i, 1, 8, a, o, s), Ge(r, n, i, 1, 8, a, o, s) } function Qe(t, e, r, n, i, a, o, s) { Ge(t, e, 1, i, 8, a, o, s), Ge(r, n, 1, i, 8, a, o, s) } function tr(t, e, r, n, i, a, o, s) { Ye(t, e + 4 * i, i, 1, 8, a, o, s), Ye(r, n + 4 * i, i, 1, 8, a, o, s) } function er(t, e, r, n, i, a, o, s) { Ye(t, e + 4, 1, i, 8, a, o, s), Ye(r, n + 4, 1, i, 8, a, o, s) } function rr() { this.ba = new ot, this.ec = [], this.cc = [], this.Mc = [], this.Dc = this.Nc = this.dc = this.fc = 0, this.Oa = new ct, this.memory = 0, this.Ib = "OutputFunc", this.Jb = "OutputAlphaFunc", this.Nd = "OutputRowFunc" } function nr() { this.data = [], this.offset = this.kd = this.ha = this.w = 0, this.na = [], this.xa = this.gb = this.Ja = this.Sa = this.P = 0 } function ir() { this.nc = this.Ea = this.b = this.hc = 0, this.K = [], this.w = 0 } function ar() { this.ua = 0, this.Wa = new M, this.vb = new M, this.md = this.xc = this.wc = 0, this.vc = [], this.Wb = 0, this.Ya = new d, this.yc = new h } function or() { this.xb = this.a = 0, this.l = new Gt, this.ca = new ot, this.V = [], this.Ba = 0, this.Ta = [], this.Ua = 0, this.m = new N, this.Pb = 0, this.wd = new N, this.Ma = this.$ = this.C = this.i = this.c = this.xd = 0, this.s = new ar, this.ab = 0, this.gc = o(4, ir), this.Oc = 0 } function sr() { this.Lc = this.Z = this.$a = this.i = this.c = 0, this.l = new Gt, this.ic = 0, this.ca = [], this.tb = 0, this.qd = null, this.rd = 0 } function cr(t, e, r, n, i, a, o) { for (t = null == t ? 0 : t[e + 0], e = 0; e < o; ++e)i[a + e] = t + r[n + e] & 255, t = i[a + e] } function ur(t, e, r, n, i, a, o) { var s; if (null == t) cr(null, null, r, n, i, a, o); else for (s = 0; s < o; ++s)i[a + s] = t[e + s] + r[n + s] & 255 } function lr(t, e, r, n, i, a, o) { if (null == t) cr(null, null, r, n, i, a, o); else { var s, c = t[e + 0], u = c, l = c; for (s = 0; s < o; ++s)u = l + (c = t[e + s]) - u, l = r[n + s] + (-256 & u ? 0 > u ? 0 : 255 : u) & 255, u = c, i[a + s] = l } } function hr(t, r, i, o) { var s = r.width, c = r.o; if (e(null != t && null != r), 0 > i || 0 >= o || i + o > c) return null; if (!t.Cc) { if (null == t.ga) { var u; if (t.ga = new sr, (u = null == t.ga) || (u = r.width * r.o, e(0 == t.Gb.length), t.Gb = a(u), t.Uc = 0, null == t.Gb ? u = 0 : (t.mb = t.Gb, t.nb = t.Uc, t.rc = null, u = 1), u = !u), !u) { u = t.ga; var l = t.Fa, h = t.P, f = t.qc, d = t.mb, p = t.nb, g = h + 1, m = f - 1, b = u.l; if (e(null != l && null != d && null != r), mi[0] = null, mi[1] = cr, mi[2] = ur, mi[3] = lr, u.ca = d, u.tb = p, u.c = r.width, u.i = r.height, e(0 < u.c && 0 < u.i), 1 >= f) r = 0; else if (u.$a = l[h + 0] >> 0 & 3, u.Z = l[h + 0] >> 2 & 3, u.Lc = l[h + 0] >> 4 & 3, h = l[h + 0] >> 6 & 3, 0 > u.$a || 1 < u.$a || 4 <= u.Z || 1 < u.Lc || h) r = 0; else if (b.put = dt, b.ac = ft, b.bc = pt, b.ma = u, b.width = r.width, b.height = r.height, b.Da = r.Da, b.v = r.v, b.va = r.va, b.j = r.j, b.o = r.o, u.$a) t: { e(1 == u.$a), r = kt(); e: for (; ;) { if (null == r) { r = 0; break t } if (e(null != u), u.mc = r, r.c = u.c, r.i = u.i, r.l = u.l, r.l.ma = u, r.l.width = u.c, r.l.height = u.i, r.a = 0, v(r.m, l, g, m), !Ft(u.c, u.i, 1, r, null)) break e; if (1 == r.ab && 3 == r.gc[0].hc && At(r.s) ? (u.ic = 1, l = r.c * r.i, r.Ta = null, r.Ua = 0, r.V = a(l), r.Ba = 0, null == r.V ? (r.a = 1, r = 0) : r = 1) : (u.ic = 0, r = It(r, u.c)), !r) break e; r = 1; break t } u.mc = null, r = 0 } else r = m >= u.c * u.i; u = !r } if (u) return null; 1 != t.ga.Lc ? t.Ga = 0 : o = c - i } e(null != t.ga), e(i + o <= c); t: { if (r = (l = t.ga).c, c = l.l.o, 0 == l.$a) { if (g = t.rc, m = t.Vc, b = t.Fa, h = t.P + 1 + i * r, f = t.mb, d = t.nb + i * r, e(h <= t.P + t.qc), 0 != l.Z) for (e(null != mi[l.Z]), u = 0; u < o; ++u)mi[l.Z](g, m, b, h, f, d, r), g = f, m = d, d += r, h += r; else for (u = 0; u < o; ++u)n(f, d, b, h, r), g = f, m = d, d += r, h += r; t.rc = g, t.Vc = m } else { if (e(null != l.mc), r = i + o, e(null != (u = l.mc)), e(r <= u.i), u.C >= r) r = 1; else if (l.ic || mr(), l.ic) { l = u.V, g = u.Ba, m = u.c; var y = u.i, w = (b = 1, h = u.$ / m, f = u.$ % m, d = u.m, p = u.s, u.$), N = m * y, L = m * r, x = p.wc, _ = w < L ? wt(p, f, h) : null; e(w <= N), e(r <= y), e(At(p)); e: for (; ;) { for (; !d.h && w < L;) { if (f & x || (_ = wt(p, f, h)), e(null != _), S(d), 256 > (y = bt(_.G[0], _.H[0], d))) l[g + w] = y, ++w, ++f >= m && (f = 0, ++h <= r && !(h % 16) && St(u, h)); else { if (!(280 > y)) { b = 0; break e } y = mt(y - 256, d); var P, k = bt(_.G[4], _.H[4], d); if (S(d), !(w >= (k = vt(m, k = mt(k, d))) && N - w >= y)) { b = 0; break e } for (P = 0; P < y; ++P)l[g + w + P] = l[g + w + P - k]; for (w += y, f += y; f >= m;)f -= m, ++h <= r && !(h % 16) && St(u, h); w < L && f & x && (_ = wt(p, f, h)) } e(d.h == A(d)) } St(u, h > r ? r : h); break e } !b || d.h && w < N ? (b = 0, u.a = d.h ? 5 : 3) : u.$ = w, r = b } else r = _t(u, u.V, u.Ba, u.c, u.i, r, Ct); if (!r) { o = 0; break t } } i + o >= c && (t.Cc = 1), o = 1 } if (!o) return null; if (t.Cc && (null != (o = t.ga) && (o.mc = null), t.ga = null, 0 < t.Ga)) return alert("todo:WebPDequantizeLevels"), null } return t.nb + i * s } function fr(t, e, r, n, i, a) { for (; 0 < i--;) { var o, s = t, c = e + (r ? 1 : 0), u = t, l = e + (r ? 0 : 3); for (o = 0; o < n; ++o) { var h = u[l + 4 * o]; 255 != h && (h *= 32897, s[c + 4 * o + 0] = s[c + 4 * o + 0] * h >> 23, s[c + 4 * o + 1] = s[c + 4 * o + 1] * h >> 23, s[c + 4 * o + 2] = s[c + 4 * o + 2] * h >> 23) } e += a } } function dr(t, e, r, n, i) { for (; 0 < n--;) { var a; for (a = 0; a < r; ++a) { var o = t[e + 2 * a + 0], s = 15 & (u = t[e + 2 * a + 1]), c = 4369 * s, u = (240 & u | u >> 4) * c >> 16; t[e + 2 * a + 0] = (240 & o | o >> 4) * c >> 16 & 240 | (15 & o | o << 4) * c >> 16 >> 4 & 15, t[e + 2 * a + 1] = 240 & u | s } e += i } } function pr(t, e, r, n, i, a, o, s) { var c, u, l = 255; for (u = 0; u < i; ++u) { for (c = 0; c < n; ++c) { var h = t[e + c]; a[o + 4 * c] = h, l &= h } e += r, o += s } return 255 != l } function gr(t, e, r, n, i) { var a; for (a = 0; a < i; ++a)r[n + a] = t[e + a] >> 8 } function mr() { An = fr, xn = dr, Sn = pr, _n = gr } function vr(r, n, i) { t[r] = function (t, r, a, o, s, c, u, l, h, f, d, p, g, m, v, b, y) { var w, N = y - 1 >> 1, L = s[c + 0] | u[l + 0] << 16, A = h[f + 0] | d[p + 0] << 16; e(null != t); var x = 3 * L + A + 131074 >> 2; for (n(t[r + 0], 255 & x, x >> 16, g, m), null != a && (x = 3 * A + L + 131074 >> 2, n(a[o + 0], 255 & x, x >> 16, v, b)), w = 1; w <= N; ++w) { var S = s[c + w] | u[l + w] << 16, _ = h[f + w] | d[p + w] << 16, P = L + S + A + _ + 524296, k = P + 2 * (S + A) >> 3; x = k + L >> 1, L = (P = P + 2 * (L + _) >> 3) + S >> 1, n(t[r + 2 * w - 1], 255 & x, x >> 16, g, m + (2 * w - 1) * i), n(t[r + 2 * w - 0], 255 & L, L >> 16, g, m + (2 * w - 0) * i), null != a && (x = P + A >> 1, L = k + _ >> 1, n(a[o + 2 * w - 1], 255 & x, x >> 16, v, b + (2 * w - 1) * i), n(a[o + 2 * w + 0], 255 & L, L >> 16, v, b + (2 * w + 0) * i)), L = S, A = _ } 1 & y || (x = 3 * L + A + 131074 >> 2, n(t[r + y - 1], 255 & x, x >> 16, g, m + (y - 1) * i), null != a && (x = 3 * A + L + 131074 >> 2, n(a[o + y - 1], 255 & x, x >> 16, v, b + (y - 1) * i))) } } function br() { vi[En] = bi, vi[qn] = wi, vi[Dn] = yi, vi[Rn] = Ni, vi[Tn] = Li, vi[Un] = Ai, vi[zn] = xi, vi[Hn] = wi, vi[Wn] = Ni, vi[Vn] = Li, vi[Gn] = Ai } function yr(t) { return t & ~Ii ? 0 > t ? 0 : 255 : t >> Fi } function wr(t, e) { return yr((19077 * t >> 8) + (26149 * e >> 8) - 14234) } function Nr(t, e, r) { return yr((19077 * t >> 8) - (6419 * e >> 8) - (13320 * r >> 8) + 8708) } function Lr(t, e) { return yr((19077 * t >> 8) + (33050 * e >> 8) - 17685) } function Ar(t, e, r, n, i) { n[i + 0] = wr(t, r), n[i + 1] = Nr(t, e, r), n[i + 2] = Lr(t, e) } function xr(t, e, r, n, i) { n[i + 0] = Lr(t, e), n[i + 1] = Nr(t, e, r), n[i + 2] = wr(t, r) } function Sr(t, e, r, n, i) { var a = Nr(t, e, r); e = a << 3 & 224 | Lr(t, e) >> 3, n[i + 0] = 248 & wr(t, r) | a >> 5, n[i + 1] = e } function _r(t, e, r, n, i) { var a = 240 & Lr(t, e) | 15; n[i + 0] = 240 & wr(t, r) | Nr(t, e, r) >> 4, n[i + 1] = a } function Pr(t, e, r, n, i) { n[i + 0] = 255, Ar(t, e, r, n, i + 1) } function kr(t, e, r, n, i) { xr(t, e, r, n, i), n[i + 3] = 255 } function Fr(t, e, r, n, i) { Ar(t, e, r, n, i), n[i + 3] = 255 } function Vt(t, e) { return 0 > t ? 0 : t > e ? e : t } function Ir(e, r, n) { t[e] = function (t, e, i, a, o, s, c, u, l) { for (var h = u + (-2 & l) * n; u != h;)r(t[e + 0], i[a + 0], o[s + 0], c, u), r(t[e + 1], i[a + 0], o[s + 0], c, u + n), e += 2, ++a, ++s, u += 2 * n; 1 & l && r(t[e + 0], i[a + 0], o[s + 0], c, u) } } function Cr(t, e, r) { return 0 == r ? 0 == t ? 0 == e ? 6 : 5 : 0 == e ? 4 : 0 : r } function jr(t, e, r, n, i) { switch (t >>> 30) { case 3: on(e, r, n, i, 0); break; case 2: sn(e, r, n, i); break; case 1: un(e, r, n, i) } } function Or(t, e) { var r, a, o = e.M, s = e.Nb, c = t.oc, u = t.pc + 40, l = t.oc, h = t.pc + 584, f = t.oc, d = t.pc + 600; for (r = 0; 16 > r; ++r)c[u + 32 * r - 1] = 129; for (r = 0; 8 > r; ++r)l[h + 32 * r - 1] = 129, f[d + 32 * r - 1] = 129; for (0 < o ? c[u - 1 - 32] = l[h - 1 - 32] = f[d - 1 - 32] = 129 : (i(c, u - 32 - 1, 127, 21), i(l, h - 32 - 1, 127, 9), i(f, d - 32 - 1, 127, 9)), a = 0; a < t.za; ++a) { var p = e.ya[e.aa + a]; if (0 < a) { for (r = -1; 16 > r; ++r)n(c, u + 32 * r - 4, c, u + 32 * r + 12, 4); for (r = -1; 8 > r; ++r)n(l, h + 32 * r - 4, l, h + 32 * r + 4, 4), n(f, d + 32 * r - 4, f, d + 32 * r + 4, 4) } var g = t.Gd, m = t.Hd + a, v = p.ad, b = p.Hc; if (0 < o && (n(c, u - 32, g[m].y, 0, 16), n(l, h - 32, g[m].f, 0, 8), n(f, d - 32, g[m].ea, 0, 8)), p.Za) { var y = c, w = u - 32 + 16; for (0 < o && (a >= t.za - 1 ? i(y, w, g[m].y[15], 4) : n(y, w, g[m + 1].y, 0, 4)), r = 0; 4 > r; r++)y[w + 128 + r] = y[w + 256 + r] = y[w + 384 + r] = y[w + 0 + r]; for (r = 0; 16 > r; ++r, b <<= 2)y = c, w = u + Di[r], fi[p.Ob[r]](y, w), jr(b, v, 16 * +r, y, w) } else if (y = Cr(a, o, p.Ob[0]), hi[y](c, u), 0 != b) for (r = 0; 16 > r; ++r, b <<= 2)jr(b, v, 16 * +r, c, u + Di[r]); for (r = p.Gc, y = Cr(a, o, p.Dd), di[y](l, h), di[y](f, d), b = v, y = l, w = h, 255 & (p = r >> 0) && (170 & p ? cn(b, 256, y, w) : ln(b, 256, y, w)), p = f, b = d, 255 & (r >>= 8) && (170 & r ? cn(v, 320, p, b) : ln(v, 320, p, b)), o < t.Ub - 1 && (n(g[m].y, 0, c, u + 480, 16), n(g[m].f, 0, l, h + 224, 8), n(g[m].ea, 0, f, d + 224, 8)), r = 8 * s * t.B, g = t.sa, m = t.ta + 16 * a + 16 * s * t.R, v = t.qa, p = t.ra + 8 * a + r, b = t.Ha, y = t.Ia + 8 * a + r, r = 0; 16 > r; ++r)n(g, m + r * t.R, c, u + 32 * r, 16); for (r = 0; 8 > r; ++r)n(v, p + r * t.B, l, h + 32 * r, 8), n(b, y + r * t.B, f, d + 32 * r, 8) } } function Br(t, n, i, a, o, s, c, u, l) { var h = [0], f = [0], d = 0, p = null != l ? l.kd : 0, g = null != l ? l : new nr; if (null == t || 12 > i) return 7; g.data = t, g.w = n, g.ha = i, n = [n], i = [i], g.gb = [g.gb]; t: { var m = n, b = i, y = g.gb; if (e(null != t), e(null != b), e(null != y), y[0] = 0, 12 <= b[0] && !r(t, m[0], "RIFF")) { if (r(t, m[0] + 8, "WEBP")) { y = 3; break t } var w = j(t, m[0] + 4); if (12 > w || 4294967286 < w) { y = 3; break t } if (p && w > b[0] - 8) { y = 7; break t } y[0] = w, m[0] += 12, b[0] -= 12 } y = 0 } if (0 != y) return y; for (w = 0 < g.gb[0], i = i[0]; ;) { t: { var L = t; b = n, y = i; var A = h, x = f, S = m = [0]; if ((k = d = [d])[0] = 0, 8 > y[0]) y = 7; else { if (!r(L, b[0], "VP8X")) { if (10 != j(L, b[0] + 4)) { y = 3; break t } if (18 > y[0]) { y = 7; break t } var _ = j(L, b[0] + 8), P = 1 + C(L, b[0] + 12); if (2147483648 <= P * (L = 1 + C(L, b[0] + 15))) { y = 3; break t } null != S && (S[0] = _), null != A && (A[0] = P), null != x && (x[0] = L), b[0] += 18, y[0] -= 18, k[0] = 1 } y = 0 } } if (d = d[0], m = m[0], 0 != y) return y; if (b = !!(2 & m), !w && d) return 3; if (null != s && (s[0] = !!(16 & m)), null != c && (c[0] = b), null != u && (u[0] = 0), c = h[0], m = f[0], d && b && null == l) { y = 0; break } if (4 > i) { y = 7; break } if (w && d || !w && !d && !r(t, n[0], "ALPH")) { i = [i], g.na = [g.na], g.P = [g.P], g.Sa = [g.Sa]; t: { _ = t, y = n, w = i; var k = g.gb; A = g.na, x = g.P, S = g.Sa; P = 22, e(null != _), e(null != w), L = y[0]; var F = w[0]; for (e(null != A), e(null != S), A[0] = null, x[0] = null, S[0] = 0; ;) { if (y[0] = L, w[0] = F, 8 > F) { y = 7; break t } var I = j(_, L + 4); if (4294967286 < I) { y = 3; break t } var O = 8 + I + 1 & -2; if (P += O, 0 < k && P > k) { y = 3; break t } if (!r(_, L, "VP8 ") || !r(_, L, "VP8L")) { y = 0; break t } if (F[0] < O) { y = 7; break t } r(_, L, "ALPH") || (A[0] = _, x[0] = L + 8, S[0] = I), L += O, F -= O } } if (i = i[0], g.na = g.na[0], g.P = g.P[0], g.Sa = g.Sa[0], 0 != y) break } i = [i], g.Ja = [g.Ja], g.xa = [g.xa]; t: if (k = t, y = n, w = i, A = g.gb[0], x = g.Ja, S = g.xa, _ = y[0], L = !r(k, _, "VP8 "), P = !r(k, _, "VP8L"), e(null != k), e(null != w), e(null != x), e(null != S), 8 > w[0]) y = 7; else { if (L || P) { if (k = j(k, _ + 4), 12 <= A && k > A - 12) { y = 3; break t } if (p && k > w[0] - 8) { y = 7; break t } x[0] = k, y[0] += 8, w[0] -= 8, S[0] = P } else S[0] = 5 <= w[0] && 47 == k[_ + 0] && !(k[_ + 4] >> 5), x[0] = w[0]; y = 0 } if (i = i[0], g.Ja = g.Ja[0], g.xa = g.xa[0], n = n[0], 0 != y) break; if (4294967286 < g.Ja) return 3; if (null == u || b || (u[0] = g.xa ? 2 : 1), c = [c], m = [m], g.xa) { if (5 > i) { y = 7; break } u = c, p = m, b = s, null == t || 5 > i ? t = 0 : 5 <= i && 47 == t[n + 0] && !(t[n + 4] >> 5) ? (w = [0], k = [0], A = [0], v(x = new N, t, n, i), gt(x, w, k, A) ? (null != u && (u[0] = w[0]), null != p && (p[0] = k[0]), null != b && (b[0] = A[0]), t = 1) : t = 0) : t = 0 } else { if (10 > i) { y = 7; break } u = m, null == t || 10 > i || !Xt(t, n + 3, i - 3) ? t = 0 : (p = t[n + 0] | t[n + 1] << 8 | t[n + 2] << 16, b = 16383 & (t[n + 7] << 8 | t[n + 6]), t = 16383 & (t[n + 9] << 8 | t[n + 8]), 1 & p || 3 < (p >> 1 & 7) || !(p >> 4 & 1) || p >> 5 >= g.Ja || !b || !t ? t = 0 : (c && (c[0] = b), u && (u[0] = t), t = 1)) } if (!t) return 3; if (c = c[0], m = m[0], d && (h[0] != c || f[0] != m)) return 3; null != l && (l[0] = g, l.offset = n - l.w, e(4294967286 > n - l.w), e(l.offset == l.ha - i)); break } return 0 == y || 7 == y && d && null == l ? (null != s && (s[0] |= null != g.na && 0 < g.na.length), null != a && (a[0] = c), null != o && (o[0] = m), 0) : y } function Mr(t, e, r) { var n = e.width, i = e.height, a = 0, o = 0, s = n, c = i; if (e.Da = null != t && 0 < t.Da, e.Da && (s = t.cd, c = t.bd, a = t.v, o = t.j, 11 > r || (a &= -2, o &= -2), 0 > a || 0 > o || 0 >= s || 0 >= c || a + s > n || o + c > i)) return 0; if (e.v = a, e.j = o, e.va = a + s, e.o = o + c, e.U = s, e.T = c, e.da = null != t && 0 < t.da, e.da) { if (!E(s, c, r = [t.ib], a = [t.hb])) return 0; e.ib = r[0], e.hb = a[0] } return e.ob = null != t && t.ob, e.Kb = null == t || !t.Sd, e.da && (e.ob = e.ib < 3 * n / 4 && e.hb < 3 * i / 4, e.Kb = 0), 1 } function Er(t) { if (null == t) return 2; if (11 > t.S) { var e = t.f.RGBA; e.fb += (t.height - 1) * e.A, e.A = -e.A } else e = t.f.kb, t = t.height, e.O += (t - 1) * e.fa, e.fa = -e.fa, e.N += (t - 1 >> 1) * e.Ab, e.Ab = -e.Ab, e.W += (t - 1 >> 1) * e.Db, e.Db = -e.Db, null != e.F && (e.J += (t - 1) * e.lb, e.lb = -e.lb); return 0 } function qr(t, e, r, n) { if (null == n || 0 >= t || 0 >= e) return 2; if (null != r) { if (r.Da) { var i = r.cd, o = r.bd, s = -2 & r.v, c = -2 & r.j; if (0 > s || 0 > c || 0 >= i || 0 >= o || s + i > t || c + o > e) return 2; t = i, e = o } if (r.da) { if (!E(t, e, i = [r.ib], o = [r.hb])) return 2; t = i[0], e = o[0] } } n.width = t, n.height = e; t: { var u = n.width, l = n.height; if (t = n.S, 0 >= u || 0 >= l || !(t >= En && 13 > t)) t = 2; else { if (0 >= n.Rd && null == n.sd) { s = o = i = e = 0; var h = (c = u * zi[t]) * l; if (11 > t || (o = (l + 1) / 2 * (e = (u + 1) / 2), 12 == t && (s = (i = u) * l)), null == (l = a(h + 2 * o + s))) { t = 1; break t } n.sd = l, 11 > t ? ((u = n.f.RGBA).eb = l, u.fb = 0, u.A = c, u.size = h) : ((u = n.f.kb).y = l, u.O = 0, u.fa = c, u.Fd = h, u.f = l, u.N = 0 + h, u.Ab = e, u.Cd = o, u.ea = l, u.W = 0 + h + o, u.Db = e, u.Ed = o, 12 == t && (u.F = l, u.J = 0 + h + 2 * o), u.Tc = s, u.lb = i) } if (e = 1, i = n.S, o = n.width, s = n.height, i >= En && 13 > i) if (11 > i) t = n.f.RGBA, e &= (c = Math.abs(t.A)) * (s - 1) + o <= t.size, e &= c >= o * zi[i], e &= null != t.eb; else { t = n.f.kb, c = (o + 1) / 2, h = (s + 1) / 2, u = Math.abs(t.fa); l = Math.abs(t.Ab); var f = Math.abs(t.Db), d = Math.abs(t.lb), p = d * (s - 1) + o; e &= u * (s - 1) + o <= t.Fd, e &= l * (h - 1) + c <= t.Cd, e = (e &= f * (h - 1) + c <= t.Ed) & u >= o & l >= c & f >= c, e &= null != t.y, e &= null != t.f, e &= null != t.ea, 12 == i && (e &= d >= o, e &= p <= t.Tc, e &= null != t.F) } else e = 0; t = e ? 0 : 2 } } return 0 != t || null != r && r.fd && (t = Er(n)), t } var Dr = 64, Rr = [0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535, 131071, 262143, 524287, 1048575, 2097151, 4194303, 8388607, 16777215], Tr = 24, Ur = 32, zr = 8, Hr = [0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7]; R("Predictor0", "PredictorAdd0"), t.Predictor0 = function () { return 4278190080 }, t.Predictor1 = function (t) { return t }, t.Predictor2 = function (t, e, r) { return e[r + 0] }, t.Predictor3 = function (t, e, r) { return e[r + 1] }, t.Predictor4 = function (t, e, r) { return e[r - 1] }, t.Predictor5 = function (t, e, r) { return U(U(t, e[r + 1]), e[r + 0]) }, t.Predictor6 = function (t, e, r) { return U(t, e[r - 1]) }, t.Predictor7 = function (t, e, r) { return U(t, e[r + 0]) }, t.Predictor8 = function (t, e, r) { return U(e[r - 1], e[r + 0]) }, t.Predictor9 = function (t, e, r) { return U(e[r + 0], e[r + 1]) }, t.Predictor10 = function (t, e, r) { return U(U(t, e[r - 1]), U(e[r + 0], e[r + 1])) }, t.Predictor11 = function (t, e, r) { var n = e[r + 0]; return 0 >= W(n >> 24 & 255, t >> 24 & 255, (e = e[r - 1]) >> 24 & 255) + W(n >> 16 & 255, t >> 16 & 255, e >> 16 & 255) + W(n >> 8 & 255, t >> 8 & 255, e >> 8 & 255) + W(255 & n, 255 & t, 255 & e) ? n : t }, t.Predictor12 = function (t, e, r) { var n = e[r + 0]; return (z((t >> 24 & 255) + (n >> 24 & 255) - ((e = e[r - 1]) >> 24 & 255)) << 24 | z((t >> 16 & 255) + (n >> 16 & 255) - (e >> 16 & 255)) << 16 | z((t >> 8 & 255) + (n >> 8 & 255) - (e >> 8 & 255)) << 8 | z((255 & t) + (255 & n) - (255 & e))) >>> 0 }, t.Predictor13 = function (t, e, r) { var n = e[r - 1]; return (H((t = U(t, e[r + 0])) >> 24 & 255, n >> 24 & 255) << 24 | H(t >> 16 & 255, n >> 16 & 255) << 16 | H(t >> 8 & 255, n >> 8 & 255) << 8 | H(t >> 0 & 255, n >> 0 & 255)) >>> 0 }; var Wr = t.PredictorAdd0; t.PredictorAdd1 = V, R("Predictor2", "PredictorAdd2"), R("Predictor3", "PredictorAdd3"), R("Predictor4", "PredictorAdd4"), R("Predictor5", "PredictorAdd5"), R("Predictor6", "PredictorAdd6"), R("Predictor7", "PredictorAdd7"), R("Predictor8", "PredictorAdd8"), R("Predictor9", "PredictorAdd9"), R("Predictor10", "PredictorAdd10"), R("Predictor11", "PredictorAdd11"), R("Predictor12", "PredictorAdd12"), R("Predictor13", "PredictorAdd13"); var Vr = t.PredictorAdd2; X("ColorIndexInverseTransform", "MapARGB", "32b", (function (t) { return t >> 8 & 255 }), (function (t) { return t })), X("VP8LColorIndexInverseTransformAlpha", "MapAlpha", "8b", (function (t) { return t }), (function (t) { return t >> 8 & 255 })); var Gr, Yr = t.ColorIndexInverseTransform, Jr = t.MapARGB, Xr = t.VP8LColorIndexInverseTransformAlpha, Kr = t.MapAlpha, Zr = t.VP8LPredictorsAdd = []; Zr.length = 16, (t.VP8LPredictors = []).length = 16, (t.VP8LPredictorsAdd_C = []).length = 16, (t.VP8LPredictors_C = []).length = 16; var $r, Qr, tn, en, rn, nn, an, on, sn, cn, un, ln, hn, fn, dn, pn, gn, mn, vn, bn, yn, wn, Nn, Ln, An, xn, Sn, _n, Pn = a(511), kn = a(2041), Fn = a(225), In = a(767), Cn = 0, jn = kn, On = Fn, Bn = In, Mn = Pn, En = 0, qn = 1, Dn = 2, Rn = 3, Tn = 4, Un = 5, zn = 6, Hn = 7, Wn = 8, Vn = 9, Gn = 10, Yn = [2, 3, 7], Jn = [3, 3, 11], Xn = [280, 256, 256, 256, 40], Kn = [0, 1, 1, 1, 0], Zn = [17, 18, 0, 1, 2, 3, 4, 5, 16, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], $n = [24, 7, 23, 25, 40, 6, 39, 41, 22, 26, 38, 42, 56, 5, 55, 57, 21, 27, 54, 58, 37, 43, 72, 4, 71, 73, 20, 28, 53, 59, 70, 74, 36, 44, 88, 69, 75, 52, 60, 3, 87, 89, 19, 29, 86, 90, 35, 45, 68, 76, 85, 91, 51, 61, 104, 2, 103, 105, 18, 30, 102, 106, 34, 46, 84, 92, 67, 77, 101, 107, 50, 62, 120, 1, 119, 121, 83, 93, 17, 31, 100, 108, 66, 78, 118, 122, 33, 47, 117, 123, 49, 63, 99, 109, 82, 94, 0, 116, 124, 65, 79, 16, 32, 98, 110, 48, 115, 125, 81, 95, 64, 114, 126, 97, 111, 80, 113, 127, 96, 112], Qn = [2954, 2956, 2958, 2962, 2970, 2986, 3018, 3082, 3212, 3468, 3980, 5004], ti = 8, ei = [4, 5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 16, 17, 17, 18, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 25, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 93, 95, 96, 98, 100, 101, 102, 104, 106, 108, 110, 112, 114, 116, 118, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 143, 145, 148, 151, 154, 157], ri = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167, 170, 173, 177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 217, 221, 225, 229, 234, 239, 245, 249, 254, 259, 264, 269, 274, 279, 284], ni = null, ii = [[173, 148, 140, 0], [176, 155, 140, 135, 0], [180, 157, 141, 134, 130, 0], [254, 254, 243, 230, 196, 177, 153, 140, 133, 130, 129, 0]], ai = [0, 1, 4, 8, 5, 2, 3, 6, 9, 12, 13, 10, 7, 11, 14, 15], oi = [-0, 1, -1, 2, -2, 3, 4, 6, -3, 5, -4, -5, -6, 7, -7, 8, -8, -9], si = [[[[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]], [[253, 136, 254, 255, 228, 219, 128, 128, 128, 128, 128], [189, 129, 242, 255, 227, 213, 255, 219, 128, 128, 128], [106, 126, 227, 252, 214, 209, 255, 255, 128, 128, 128]], [[1, 98, 248, 255, 236, 226, 255, 255, 128, 128, 128], [181, 133, 238, 254, 221, 234, 255, 154, 128, 128, 128], [78, 134, 202, 247, 198, 180, 255, 219, 128, 128, 128]], [[1, 185, 249, 255, 243, 255, 128, 128, 128, 128, 128], [184, 150, 247, 255, 236, 224, 128, 128, 128, 128, 128], [77, 110, 216, 255, 236, 230, 128, 128, 128, 128, 128]], [[1, 101, 251, 255, 241, 255, 128, 128, 128, 128, 128], [170, 139, 241, 252, 236, 209, 255, 255, 128, 128, 128], [37, 116, 196, 243, 228, 255, 255, 255, 128, 128, 128]], [[1, 204, 254, 255, 245, 255, 128, 128, 128, 128, 128], [207, 160, 250, 255, 238, 128, 128, 128, 128, 128, 128], [102, 103, 231, 255, 211, 171, 128, 128, 128, 128, 128]], [[1, 152, 252, 255, 240, 255, 128, 128, 128, 128, 128], [177, 135, 243, 255, 234, 225, 128, 128, 128, 128, 128], [80, 129, 211, 255, 194, 224, 128, 128, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [246, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [255, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[198, 35, 237, 223, 193, 187, 162, 160, 145, 155, 62], [131, 45, 198, 221, 172, 176, 220, 157, 252, 221, 1], [68, 47, 146, 208, 149, 167, 221, 162, 255, 223, 128]], [[1, 149, 241, 255, 221, 224, 255, 255, 128, 128, 128], [184, 141, 234, 253, 222, 220, 255, 199, 128, 128, 128], [81, 99, 181, 242, 176, 190, 249, 202, 255, 255, 128]], [[1, 129, 232, 253, 214, 197, 242, 196, 255, 255, 128], [99, 121, 210, 250, 201, 198, 255, 202, 128, 128, 128], [23, 91, 163, 242, 170, 187, 247, 210, 255, 255, 128]], [[1, 200, 246, 255, 234, 255, 128, 128, 128, 128, 128], [109, 178, 241, 255, 231, 245, 255, 255, 128, 128, 128], [44, 130, 201, 253, 205, 192, 255, 255, 128, 128, 128]], [[1, 132, 239, 251, 219, 209, 255, 165, 128, 128, 128], [94, 136, 225, 251, 218, 190, 255, 255, 128, 128, 128], [22, 100, 174, 245, 186, 161, 255, 199, 128, 128, 128]], [[1, 182, 249, 255, 232, 235, 128, 128, 128, 128, 128], [124, 143, 241, 255, 227, 234, 128, 128, 128, 128, 128], [35, 77, 181, 251, 193, 211, 255, 205, 128, 128, 128]], [[1, 157, 247, 255, 236, 231, 255, 255, 128, 128, 128], [121, 141, 235, 255, 225, 227, 255, 255, 128, 128, 128], [45, 99, 188, 251, 195, 217, 255, 224, 128, 128, 128]], [[1, 1, 251, 255, 213, 255, 128, 128, 128, 128, 128], [203, 1, 248, 255, 255, 128, 128, 128, 128, 128, 128], [137, 1, 177, 255, 224, 255, 128, 128, 128, 128, 128]]], [[[253, 9, 248, 251, 207, 208, 255, 192, 128, 128, 128], [175, 13, 224, 243, 193, 185, 249, 198, 255, 255, 128], [73, 17, 171, 221, 161, 179, 236, 167, 255, 234, 128]], [[1, 95, 247, 253, 212, 183, 255, 255, 128, 128, 128], [239, 90, 244, 250, 211, 209, 255, 255, 128, 128, 128], [155, 77, 195, 248, 188, 195, 255, 255, 128, 128, 128]], [[1, 24, 239, 251, 218, 219, 255, 205, 128, 128, 128], [201, 51, 219, 255, 196, 186, 128, 128, 128, 128, 128], [69, 46, 190, 239, 201, 218, 255, 228, 128, 128, 128]], [[1, 191, 251, 255, 255, 128, 128, 128, 128, 128, 128], [223, 165, 249, 255, 213, 255, 128, 128, 128, 128, 128], [141, 124, 248, 255, 255, 128, 128, 128, 128, 128, 128]], [[1, 16, 248, 255, 255, 128, 128, 128, 128, 128, 128], [190, 36, 230, 255, 236, 255, 128, 128, 128, 128, 128], [149, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 226, 255, 128, 128, 128, 128, 128, 128, 128, 128], [247, 192, 255, 128, 128, 128, 128, 128, 128, 128, 128], [240, 128, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 134, 252, 255, 255, 128, 128, 128, 128, 128, 128], [213, 62, 250, 255, 255, 128, 128, 128, 128, 128, 128], [55, 93, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[202, 24, 213, 235, 186, 191, 220, 160, 240, 175, 255], [126, 38, 182, 232, 169, 184, 228, 174, 255, 187, 128], [61, 46, 138, 219, 151, 178, 240, 170, 255, 216, 128]], [[1, 112, 230, 250, 199, 191, 247, 159, 255, 255, 128], [166, 109, 228, 252, 211, 215, 255, 174, 128, 128, 128], [39, 77, 162, 232, 172, 180, 245, 178, 255, 255, 128]], [[1, 52, 220, 246, 198, 199, 249, 220, 255, 255, 128], [124, 74, 191, 243, 183, 193, 250, 221, 255, 255, 128], [24, 71, 130, 219, 154, 170, 243, 182, 255, 255, 128]], [[1, 182, 225, 249, 219, 240, 255, 224, 128, 128, 128], [149, 150, 226, 252, 216, 205, 255, 171, 128, 128, 128], [28, 108, 170, 242, 183, 194, 254, 223, 255, 255, 128]], [[1, 81, 230, 252, 204, 203, 255, 192, 128, 128, 128], [123, 102, 209, 247, 188, 196, 255, 233, 128, 128, 128], [20, 95, 153, 243, 164, 173, 255, 203, 128, 128, 128]], [[1, 222, 248, 255, 216, 213, 128, 128, 128, 128, 128], [168, 175, 246, 252, 235, 205, 255, 255, 128, 128, 128], [47, 116, 215, 255, 211, 212, 255, 255, 128, 128, 128]], [[1, 121, 236, 253, 212, 214, 255, 255, 128, 128, 128], [141, 84, 213, 252, 201, 202, 255, 219, 128, 128, 128], [42, 80, 160, 240, 162, 185, 255, 205, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [244, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [238, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]]]], ci = [[[231, 120, 48, 89, 115, 113, 120, 152, 112], [152, 179, 64, 126, 170, 118, 46, 70, 95], [175, 69, 143, 80, 85, 82, 72, 155, 103], [56, 58, 10, 171, 218, 189, 17, 13, 152], [114, 26, 17, 163, 44, 195, 21, 10, 173], [121, 24, 80, 195, 26, 62, 44, 64, 85], [144, 71, 10, 38, 171, 213, 144, 34, 26], [170, 46, 55, 19, 136, 160, 33, 206, 71], [63, 20, 8, 114, 114, 208, 12, 9, 226], [81, 40, 11, 96, 182, 84, 29, 16, 36]], [[134, 183, 89, 137, 98, 101, 106, 165, 148], [72, 187, 100, 130, 157, 111, 32, 75, 80], [66, 102, 167, 99, 74, 62, 40, 234, 128], [41, 53, 9, 178, 241, 141, 26, 8, 107], [74, 43, 26, 146, 73, 166, 49, 23, 157], [65, 38, 105, 160, 51, 52, 31, 115, 128], [104, 79, 12, 27, 217, 255, 87, 17, 7], [87, 68, 71, 44, 114, 51, 15, 186, 23], [47, 41, 14, 110, 182, 183, 21, 17, 194], [66, 45, 25, 102, 197, 189, 23, 18, 22]], [[88, 88, 147, 150, 42, 46, 45, 196, 205], [43, 97, 183, 117, 85, 38, 35, 179, 61], [39, 53, 200, 87, 26, 21, 43, 232, 171], [56, 34, 51, 104, 114, 102, 29, 93, 77], [39, 28, 85, 171, 58, 165, 90, 98, 64], [34, 22, 116, 206, 23, 34, 43, 166, 73], [107, 54, 32, 26, 51, 1, 81, 43, 31], [68, 25, 106, 22, 64, 171, 36, 225, 114], [34, 19, 21, 102, 132, 188, 16, 76, 124], [62, 18, 78, 95, 85, 57, 50, 48, 51]], [[193, 101, 35, 159, 215, 111, 89, 46, 111], [60, 148, 31, 172, 219, 228, 21, 18, 111], [112, 113, 77, 85, 179, 255, 38, 120, 114], [40, 42, 1, 196, 245, 209, 10, 25, 109], [88, 43, 29, 140, 166, 213, 37, 43, 154], [61, 63, 30, 155, 67, 45, 68, 1, 209], [100, 80, 8, 43, 154, 1, 51, 26, 71], [142, 78, 78, 16, 255, 128, 34, 197, 171], [41, 40, 5, 102, 211, 183, 4, 1, 221], [51, 50, 17, 168, 209, 192, 23, 25, 82]], [[138, 31, 36, 171, 27, 166, 38, 44, 229], [67, 87, 58, 169, 82, 115, 26, 59, 179], [63, 59, 90, 180, 59, 166, 93, 73, 154], [40, 40, 21, 116, 143, 209, 34, 39, 175], [47, 15, 16, 183, 34, 223, 49, 45, 183], [46, 17, 33, 183, 6, 98, 15, 32, 183], [57, 46, 22, 24, 128, 1, 54, 17, 37], [65, 32, 73, 115, 28, 128, 23, 128, 205], [40, 3, 9, 115, 51, 192, 18, 6, 223], [87, 37, 9, 115, 59, 77, 64, 21, 47]], [[104, 55, 44, 218, 9, 54, 53, 130, 226], [64, 90, 70, 205, 40, 41, 23, 26, 57], [54, 57, 112, 184, 5, 41, 38, 166, 213], [30, 34, 26, 133, 152, 116, 10, 32, 134], [39, 19, 53, 221, 26, 114, 32, 73, 255], [31, 9, 65, 234, 2, 15, 1, 118, 73], [75, 32, 12, 51, 192, 255, 160, 43, 51], [88, 31, 35, 67, 102, 85, 55, 186, 85], [56, 21, 23, 111, 59, 205, 45, 37, 192], [55, 38, 70, 124, 73, 102, 1, 34, 98]], [[125, 98, 42, 88, 104, 85, 117, 175, 82], [95, 84, 53, 89, 128, 100, 113, 101, 45], [75, 79, 123, 47, 51, 128, 81, 171, 1], [57, 17, 5, 71, 102, 57, 53, 41, 49], [38, 33, 13, 121, 57, 73, 26, 1, 85], [41, 10, 67, 138, 77, 110, 90, 47, 114], [115, 21, 2, 10, 102, 255, 166, 23, 6], [101, 29, 16, 10, 85, 128, 101, 196, 26], [57, 18, 10, 102, 102, 213, 34, 20, 43], [117, 20, 15, 36, 163, 128, 68, 1, 26]], [[102, 61, 71, 37, 34, 53, 31, 243, 192], [69, 60, 71, 38, 73, 119, 28, 222, 37], [68, 45, 128, 34, 1, 47, 11, 245, 171], [62, 17, 19, 70, 146, 85, 55, 62, 70], [37, 43, 37, 154, 100, 163, 85, 160, 1], [63, 9, 92, 136, 28, 64, 32, 201, 85], [75, 15, 9, 9, 64, 255, 184, 119, 16], [86, 6, 28, 5, 64, 255, 25, 248, 1], [56, 8, 17, 132, 137, 255, 55, 116, 128], [58, 15, 20, 82, 135, 57, 26, 121, 40]], [[164, 50, 31, 137, 154, 133, 25, 35, 218], [51, 103, 44, 131, 131, 123, 31, 6, 158], [86, 40, 64, 135, 148, 224, 45, 183, 128], [22, 26, 17, 131, 240, 154, 14, 1, 209], [45, 16, 21, 91, 64, 222, 7, 1, 197], [56, 21, 39, 155, 60, 138, 23, 102, 213], [83, 12, 13, 54, 192, 255, 68, 47, 28], [85, 26, 85, 85, 128, 128, 32, 146, 171], [18, 11, 7, 63, 144, 171, 4, 4, 246], [35, 27, 10, 146, 174, 171, 12, 26, 128]], [[190, 80, 35, 99, 180, 80, 126, 54, 45], [85, 126, 47, 87, 176, 51, 41, 20, 32], [101, 75, 128, 139, 118, 146, 116, 128, 85], [56, 41, 15, 176, 236, 85, 37, 9, 62], [71, 30, 17, 119, 118, 255, 17, 18, 138], [101, 38, 60, 138, 55, 70, 43, 26, 142], [146, 36, 19, 30, 171, 255, 97, 27, 20], [138, 45, 61, 62, 219, 1, 81, 188, 64], [32, 41, 20, 117, 151, 142, 20, 21, 163], [112, 19, 12, 61, 195, 128, 48, 4, 24]]], ui = [[[[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[176, 246, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 241, 252, 255, 255, 255, 255, 255, 255, 255, 255], [249, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 244, 252, 255, 255, 255, 255, 255, 255, 255, 255], [234, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 246, 254, 255, 255, 255, 255, 255, 255, 255, 255], [239, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 254, 255, 255, 255, 255, 255, 255], [250, 255, 254, 255, 254, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[217, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [225, 252, 241, 253, 255, 255, 254, 255, 255, 255, 255], [234, 250, 241, 250, 253, 255, 253, 254, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [238, 253, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [249, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255], [247, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[186, 251, 250, 255, 255, 255, 255, 255, 255, 255, 255], [234, 251, 244, 254, 255, 255, 255, 255, 255, 255, 255], [251, 251, 243, 253, 254, 255, 254, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [236, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 253, 253, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[248, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [250, 254, 252, 254, 255, 255, 255, 255, 255, 255, 255], [248, 254, 249, 253, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [246, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 254, 251, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 252, 255, 255, 255, 255, 255, 255, 255, 255], [248, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [245, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255], [249, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]]], li = [0, 1, 2, 3, 6, 4, 5, 6, 6, 6, 6, 6, 6, 6, 6, 7, 0], hi = [], fi = [], di = [], pi = 1, gi = 2, mi = [], vi = []; vr("UpsampleRgbLinePair", Ar, 3), vr("UpsampleBgrLinePair", xr, 3), vr("UpsampleRgbaLinePair", Fr, 4), vr("UpsampleBgraLinePair", kr, 4), vr("UpsampleArgbLinePair", Pr, 4), vr("UpsampleRgba4444LinePair", _r, 2), vr("UpsampleRgb565LinePair", Sr, 2); var bi = t.UpsampleRgbLinePair, yi = t.UpsampleBgrLinePair, wi = t.UpsampleRgbaLinePair, Ni = t.UpsampleBgraLinePair, Li = t.UpsampleArgbLinePair, Ai = t.UpsampleRgba4444LinePair, xi = t.UpsampleRgb565LinePair, Si = 16, _i = 1 << Si - 1, Pi = -227, ki = 482, Fi = 6, Ii = (256 << Fi) - 1, Ci = 0, ji = a(256), Oi = a(256), Bi = a(256), Mi = a(256), Ei = a(ki - Pi), qi = a(ki - Pi); Ir("YuvToRgbRow", Ar, 3), Ir("YuvToBgrRow", xr, 3), Ir("YuvToRgbaRow", Fr, 4), Ir("YuvToBgraRow", kr, 4), Ir("YuvToArgbRow", Pr, 4), Ir("YuvToRgba4444Row", _r, 2), Ir("YuvToRgb565Row", Sr, 2); var Di = [0, 4, 8, 12, 128, 132, 136, 140, 256, 260, 264, 268, 384, 388, 392, 396], Ri = [0, 2, 8], Ti = [8, 7, 6, 4, 4, 2, 2, 2, 1, 1, 1, 1], Ui = 1; this.WebPDecodeRGBA = function (t, r, n, i, a) { var o = qn, s = new rr, c = new ot; s.ba = c, c.S = o, c.width = [c.width], c.height = [c.height]; var u = c.width, l = c.height, h = new st; if (null == h || null == t) var f = 2; else e(null != h), f = Br(t, r, n, h.width, h.height, h.Pd, h.Qd, h.format, null); if (0 != f ? u = 0 : (null != u && (u[0] = h.width[0]), null != l && (l[0] = h.height[0]), u = 1), u) { c.width = c.width[0], c.height = c.height[0], null != i && (i[0] = c.width), null != a && (a[0] = c.height); t: { if (i = new Gt, (a = new nr).data = t, a.w = r, a.ha = n, a.kd = 1, r = [0], e(null != a), (0 == (t = Br(a.data, a.w, a.ha, null, null, null, r, null, a)) || 7 == t) && r[0] && (t = 4), 0 == (r = t)) { if (e(null != s), i.data = a.data, i.w = a.w + a.offset, i.ha = a.ha - a.offset, i.put = dt, i.ac = ft, i.bc = pt, i.ma = s, a.xa) { if (null == (t = kt())) { s = 1; break t } if (function (t, r) { var n = [0], i = [0], a = [0]; e: for (; ;) { if (null == t) return 0; if (null == r) return t.a = 2, 0; if (t.l = r, t.a = 0, v(t.m, r.data, r.w, r.ha), !gt(t.m, n, i, a)) { t.a = 3; break e } if (t.xb = gi, r.width = n[0], r.height = i[0], !Ft(n[0], i[0], 1, t, null)) break e; return 1 } return e(0 != t.a), 0 }(t, i)) { if (i = 0 == (r = qr(i.width, i.height, s.Oa, s.ba))) { e: { i = t; r: for (; ;) { if (null == i) { i = 0; break e } if (e(null != i.s.yc), e(null != i.s.Ya), e(0 < i.s.Wb), e(null != (n = i.l)), e(null != (a = n.ma)), 0 != i.xb) { if (i.ca = a.ba, i.tb = a.tb, e(null != i.ca), !Mr(a.Oa, n, Rn)) { i.a = 2; break r } if (!It(i, n.width)) break r; if (n.da) break r; if ((n.da || nt(i.ca.S)) && mr(), 11 > i.ca.S || (alert("todo:WebPInitConvertARGBToYUV"), null != i.ca.f.kb.F && mr()), i.Pb && 0 < i.s.ua && null == i.s.vb.X && !O(i.s.vb, i.s.Wa.Xa)) { i.a = 1; break r } i.xb = 0 } if (!_t(i, i.V, i.Ba, i.c, i.i, n.o, Lt)) break r; a.Dc = i.Ma, i = 1; break e } e(0 != i.a), i = 0 } i = !i } i && (r = t.a) } else r = t.a } else { if (null == (t = new Yt)) { s = 1; break t } if (t.Fa = a.na, t.P = a.P, t.qc = a.Sa, Kt(t, i)) { if (0 == (r = qr(i.width, i.height, s.Oa, s.ba))) { if (t.Aa = 0, n = s.Oa, e(null != (a = t)), null != n) { if (0 < (u = 0 > (u = n.Md) ? 0 : 100 < u ? 255 : 255 * u / 100)) { for (l = h = 0; 4 > l; ++l)12 > (f = a.pb[l]).lc && (f.ia = u * Ti[0 > f.lc ? 0 : f.lc] >> 3), h |= f.ia; h && (alert("todo:VP8InitRandom"), a.ia = 1) } a.Ga = n.Id, 100 < a.Ga ? a.Ga = 100 : 0 > a.Ga && (a.Ga = 0) } Qt(t, i) || (r = t.a) } } else r = t.a } 0 == r && null != s.Oa && s.Oa.fd && (r = Er(s.ba)) } s = r } o = 0 != s ? null : 11 > o ? c.f.RGBA.eb : c.f.kb.y } else o = null; return o }; var zi = [3, 4, 3, 4, 4, 2, 2, 4, 4, 4, 2, 1, 1] }; function u(t, e) { for (var r = "", n = 0; n < 4; n++)r += String.fromCharCode(t[e++]); return r } function l(t, e) { return (t[e + 0] << 0 | t[e + 1] << 8 | t[e + 2] << 16) >>> 0 } function h(t, e) { return (t[e + 0] << 0 | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24) >>> 0 } new c; var f = [0], d = [0], p = [], g = new c, m = t, v = function (t, e) {
            var r = {}, n = 0, i = !1, a = 0, o = 0; if (r.frames = [], !
                /** @license
                     * Copyright (c) 2017 Dominik Homberger
                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
                    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
                    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
                    https://webpjs.appspot.com
                    WebPRiffParser dominikhlbg@gmail.com
                    */
                function (t, e, r, n) { for (var i = 0; i < n; i++)if (t[e + i] != r.charCodeAt(i)) return !0; return !1 }(t, e, "RIFF", 4)) { var s, c; h(t, e += 4); for (e += 8; e < t.length;) { var f = u(t, e), d = h(t, e += 4); e += 4; var p = d + (1 & d); switch (f) { case "VP8 ": case "VP8L": void 0 === r.frames[n] && (r.frames[n] = {}); (v = r.frames[n]).src_off = i ? o : e - 8, v.src_size = a + d + 8, n++, i && (i = !1, a = 0, o = 0); break; case "VP8X": (v = r.header = {}).feature_flags = t[e]; var g = e + 4; v.canvas_width = 1 + l(t, g); g += 3; v.canvas_height = 1 + l(t, g); g += 3; break; case "ALPH": i = !0, a = p + 8, o = e - 8; break; case "ANIM": (v = r.header).bgcolor = h(t, e); g = e + 4; v.loop_count = (s = t)[(c = g) + 0] << 0 | s[c + 1] << 8; g += 2; break; case "ANMF": var m, v; (v = r.frames[n] = {}).offset_x = 2 * l(t, e), e += 3, v.offset_y = 2 * l(t, e), e += 3, v.width = 1 + l(t, e), e += 3, v.height = 1 + l(t, e), e += 3, v.duration = l(t, e), e += 3, m = t[e++], v.dispose = 1 & m, v.blend = m >> 1 & 1 }"ANMF" != f && (e += p) } return r }
        }(m, 0); v.response = m, v.rgbaoutput = !0, v.dataurl = !1; var b = v.header ? v.header : null, y = v.frames ? v.frames : null; if (b) { b.loop_counter = b.loop_count, f = [b.canvas_height], d = [b.canvas_width]; for (var w = 0; w < y.length && 0 != y[w].blend; w++); } var N = y[0], L = g.WebPDecodeRGBA(m, N.src_off, N.src_size, d, f); N.rgba = L, N.imgwidth = d[0], N.imgheight = f[0]; for (var A = 0; A < d[0] * f[0] * 4; A++)p[A] = L[A]; return this.width = d, this.height = f, this.data = p, this
    } !function (t) { var e = function () { return !0 }, r = function (e, r, i, u) { var l = 4, h = o; switch (u) { case t.image_compression.FAST: l = 1, h = a; break; case t.image_compression.MEDIUM: l = 6, h = s; break; case t.image_compression.SLOW: l = 9, h = c }var f = _e(e = n(e, r, i, h), { level: l }); return t.__addimage__.arrayBufferToBinaryString(f) }, n = function (t, e, r, n) { for (var i, a, o, s = t.length / e, c = new Uint8Array(t.length + s), u = l(), f = 0; f < s; f += 1) { if (o = f * e, i = t.subarray(o, o + e), n) c.set(n(i, r, a), o + f); else { for (var d, p = u.length, g = []; d < p; d += 1)g[d] = u[d](i, r, a); var m = h(g.concat()); c.set(g[m], o + f) } a = i } return c }, i = function (t) { var e = Array.apply([], t); return e.unshift(0), e }, a = function (t, e) { var r, n = [], i = t.length; n[0] = 1; for (var a = 0; a < i; a += 1)r = t[a - e] || 0, n[a + 1] = t[a] - r + 256 & 255; return n }, o = function (t, e, r) { var n, i = [], a = t.length; i[0] = 2; for (var o = 0; o < a; o += 1)n = r && r[o] || 0, i[o + 1] = t[o] - n + 256 & 255; return i }, s = function (t, e, r) { var n, i, a = [], o = t.length; a[0] = 3; for (var s = 0; s < o; s += 1)n = t[s - e] || 0, i = r && r[s] || 0, a[s + 1] = t[s] + 256 - (n + i >>> 1) & 255; return a }, c = function (t, e, r) { var n, i, a, o, s = [], c = t.length; s[0] = 4; for (var l = 0; l < c; l += 1)n = t[l - e] || 0, i = r && r[l] || 0, a = r && r[l - e] || 0, o = u(n, i, a), s[l + 1] = t[l] - o + 256 & 255; return s }, u = function (t, e, r) { if (t === e && e === r) return t; var n = Math.abs(e - r), i = Math.abs(t - r), a = Math.abs(t + e - r - r); return n <= i && n <= a ? t : i <= a ? e : r }, l = function () { return [i, a, o, s, c] }, h = function (t) { var e = t.map((function (t) { return t.reduce((function (t, e) { return t + Math.abs(e) }), 0) })); return e.indexOf(Math.min.apply(null, e)) }; t.processPNG = function (n, i, a, o) { var s, c, u, l, h, f, d, p, g, m, v, b, y, w, N, L = this.decode.FLATE_DECODE, A = ""; if (this.__addimage__.isArrayBuffer(n) && (n = new Uint8Array(n)), this.__addimage__.isArrayBufferView(n)) { if (n = (u = new Oe(n)).imgData, c = u.bits, s = u.colorSpace, h = u.colors, -1 !== [4, 6].indexOf(u.colorType)) { if (8 === u.bits) { g = (p = 32 == u.pixelBitlength ? new Uint32Array(u.decodePixels().buffer) : 16 == u.pixelBitlength ? new Uint16Array(u.decodePixels().buffer) : new Uint8Array(u.decodePixels().buffer)).length, v = new Uint8Array(g * u.colors), m = new Uint8Array(g); var x, S = u.pixelBitlength - u.bits; for (w = 0, N = 0; w < g; w++) { for (y = p[w], x = 0; x < S;)v[N++] = y >>> x & 255, x += u.bits; m[w] = y >>> x & 255 } } if (16 === u.bits) { g = (p = new Uint32Array(u.decodePixels().buffer)).length, v = new Uint8Array(g * (32 / u.pixelBitlength) * u.colors), m = new Uint8Array(g * (32 / u.pixelBitlength)), b = u.colors > 1, w = 0, N = 0; for (var _ = 0; w < g;)y = p[w++], v[N++] = y >>> 0 & 255, b && (v[N++] = y >>> 16 & 255, y = p[w++], v[N++] = y >>> 0 & 255), m[_++] = y >>> 16 & 255; c = 8 } o !== t.image_compression.NONE && e() ? (n = r(v, u.width * u.colors, u.colors, o), d = r(m, u.width, 1, o)) : (n = v, d = m, L = void 0) } if (3 === u.colorType && (s = this.color_spaces.INDEXED, f = u.palette, u.transparency.indexed)) { var P = u.transparency.indexed, k = 0; for (w = 0, g = P.length; w < g; ++w)k += P[w]; if ((k /= 255) === g - 1 && -1 !== P.indexOf(0)) l = [P.indexOf(0)]; else if (k !== g) { for (p = u.decodePixels(), m = new Uint8Array(p.length), w = 0, g = p.length; w < g; w++)m[w] = P[p[w]]; d = r(m, u.width, 1) } } var F = function (e) { var r; switch (e) { case t.image_compression.FAST: r = 11; break; case t.image_compression.MEDIUM: r = 13; break; case t.image_compression.SLOW: r = 14; break; default: r = 12 }return r }(o); return L === this.decode.FLATE_DECODE && (A = "/Predictor " + F + " "), A += "/Colors " + h + " /BitsPerComponent " + c + " /Columns " + u.width, (this.__addimage__.isArrayBuffer(n) || this.__addimage__.isArrayBufferView(n)) && (n = this.__addimage__.arrayBufferToBinaryString(n)), (d && this.__addimage__.isArrayBuffer(d) || this.__addimage__.isArrayBufferView(d)) && (d = this.__addimage__.arrayBufferToBinaryString(d)), { alias: a, data: n, index: i, filter: L, decodeParameters: A, transparency: l, palette: f, sMask: d, predictor: F, width: u.width, height: u.height, bitsPerComponent: c, colorSpace: s } } } }(M.API), function (t) { t.processGIF89A = function (e, r, n, i) { var a = new Be(e), o = a.width, s = a.height, c = []; a.decodeAndBlitFrameRGBA(0, c); var u = { data: c, width: o, height: s }, l = new Ee(100).encode(u, 100); return t.processJPEG.call(this, l, r, n, i) }, t.processGIF87A = t.processGIF89A }(M.API), qe.prototype.parseHeader = function () { if (this.fileSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.reserved = this.datav.getUint32(this.pos, !0), this.pos += 4, this.offset = this.datav.getUint32(this.pos, !0), this.pos += 4, this.headerSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.width = this.datav.getUint32(this.pos, !0), this.pos += 4, this.height = this.datav.getInt32(this.pos, !0), this.pos += 4, this.planes = this.datav.getUint16(this.pos, !0), this.pos += 2, this.bitPP = this.datav.getUint16(this.pos, !0), this.pos += 2, this.compress = this.datav.getUint32(this.pos, !0), this.pos += 4, this.rawSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.hr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.vr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.colors = this.datav.getUint32(this.pos, !0), this.pos += 4, this.importantColors = this.datav.getUint32(this.pos, !0), this.pos += 4, 16 === this.bitPP && this.is_with_alpha && (this.bitPP = 15), this.bitPP < 15) { var t = 0 === this.colors ? 1 << this.bitPP : this.colors; this.palette = new Array(t); for (var e = 0; e < t; e++) { var r = this.datav.getUint8(this.pos++, !0), n = this.datav.getUint8(this.pos++, !0), i = this.datav.getUint8(this.pos++, !0), a = this.datav.getUint8(this.pos++, !0); this.palette[e] = { red: i, green: n, blue: r, quad: a } } } this.height < 0 && (this.height *= -1, this.bottom_up = !1) }, qe.prototype.parseBGR = function () { this.pos = this.offset; try { var t = "bit" + this.bitPP, e = this.width * this.height * 4; this.data = new Uint8Array(e), this[t]() } catch (t) { i.log("bit decode error:" + t) } }, qe.prototype.bit1 = function () { var t, e = Math.ceil(this.width / 8), r = e % 4; for (t = this.height - 1; t >= 0; t--) { for (var n = this.bottom_up ? t : this.height - 1 - t, i = 0; i < e; i++)for (var a = this.datav.getUint8(this.pos++, !0), o = n * this.width * 4 + 8 * i * 4, s = 0; s < 8 && 8 * i + s < this.width; s++) { var c = this.palette[a >> 7 - s & 1]; this.data[o + 4 * s] = c.blue, this.data[o + 4 * s + 1] = c.green, this.data[o + 4 * s + 2] = c.red, this.data[o + 4 * s + 3] = 255 } 0 !== r && (this.pos += 4 - r) } }, qe.prototype.bit4 = function () { for (var t = Math.ceil(this.width / 2), e = t % 4, r = this.height - 1; r >= 0; r--) { for (var n = this.bottom_up ? r : this.height - 1 - r, i = 0; i < t; i++) { var a = this.datav.getUint8(this.pos++, !0), o = n * this.width * 4 + 2 * i * 4, s = a >> 4, c = 15 & a, u = this.palette[s]; if (this.data[o] = u.blue, this.data[o + 1] = u.green, this.data[o + 2] = u.red, this.data[o + 3] = 255, 2 * i + 1 >= this.width) break; u = this.palette[c], this.data[o + 4] = u.blue, this.data[o + 4 + 1] = u.green, this.data[o + 4 + 2] = u.red, this.data[o + 4 + 3] = 255 } 0 !== e && (this.pos += 4 - e) } }, qe.prototype.bit8 = function () { for (var t = this.width % 4, e = this.height - 1; e >= 0; e--) { for (var r = this.bottom_up ? e : this.height - 1 - e, n = 0; n < this.width; n++) { var i = this.datav.getUint8(this.pos++, !0), a = r * this.width * 4 + 4 * n; if (i < this.palette.length) { var o = this.palette[i]; this.data[a] = o.red, this.data[a + 1] = o.green, this.data[a + 2] = o.blue, this.data[a + 3] = 255 } else this.data[a] = 255, this.data[a + 1] = 255, this.data[a + 2] = 255, this.data[a + 3] = 255 } 0 !== t && (this.pos += 4 - t) } }, qe.prototype.bit15 = function () { for (var t = this.width % 3, e = parseInt("11111", 2), r = this.height - 1; r >= 0; r--) { for (var n = this.bottom_up ? r : this.height - 1 - r, i = 0; i < this.width; i++) { var a = this.datav.getUint16(this.pos, !0); this.pos += 2; var o = (a & e) / e * 255 | 0, s = (a >> 5 & e) / e * 255 | 0, c = (a >> 10 & e) / e * 255 | 0, u = a >> 15 ? 255 : 0, l = n * this.width * 4 + 4 * i; this.data[l] = c, this.data[l + 1] = s, this.data[l + 2] = o, this.data[l + 3] = u } this.pos += t } }, qe.prototype.bit16 = function () { for (var t = this.width % 3, e = parseInt("11111", 2), r = parseInt("111111", 2), n = this.height - 1; n >= 0; n--) { for (var i = this.bottom_up ? n : this.height - 1 - n, a = 0; a < this.width; a++) { var o = this.datav.getUint16(this.pos, !0); this.pos += 2; var s = (o & e) / e * 255 | 0, c = (o >> 5 & r) / r * 255 | 0, u = (o >> 11) / e * 255 | 0, l = i * this.width * 4 + 4 * a; this.data[l] = u, this.data[l + 1] = c, this.data[l + 2] = s, this.data[l + 3] = 255 } this.pos += t } }, qe.prototype.bit24 = function () { for (var t = this.height - 1; t >= 0; t--) { for (var e = this.bottom_up ? t : this.height - 1 - t, r = 0; r < this.width; r++) { var n = this.datav.getUint8(this.pos++, !0), i = this.datav.getUint8(this.pos++, !0), a = this.datav.getUint8(this.pos++, !0), o = e * this.width * 4 + 4 * r; this.data[o] = a, this.data[o + 1] = i, this.data[o + 2] = n, this.data[o + 3] = 255 } this.pos += this.width % 4 } }, qe.prototype.bit32 = function () { for (var t = this.height - 1; t >= 0; t--)for (var e = this.bottom_up ? t : this.height - 1 - t, r = 0; r < this.width; r++) { var n = this.datav.getUint8(this.pos++, !0), i = this.datav.getUint8(this.pos++, !0), a = this.datav.getUint8(this.pos++, !0), o = this.datav.getUint8(this.pos++, !0), s = e * this.width * 4 + 4 * r; this.data[s] = a, this.data[s + 1] = i, this.data[s + 2] = n, this.data[s + 3] = o } }, qe.prototype.getData = function () { return this.data },
        /**
           * @license
           * Copyright (c) 2018 Aras Abbasi
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { t.processBMP = function (e, r, n, i) { var a = new qe(e, !1), o = a.width, s = a.height, c = { data: a.getData(), width: o, height: s }, u = new Ee(100).encode(c, 100); return t.processJPEG.call(this, u, r, n, i) } }(M.API), De.prototype.getData = function () { return this.data },
        /**
           * @license
           * Copyright (c) 2019 Aras Abbasi
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { t.processWEBP = function (e, r, n, i) { var a = new De(e, !1), o = a.width, s = a.height, c = { data: a.getData(), width: o, height: s }, u = new Ee(100).encode(c, 100); return t.processJPEG.call(this, u, r, n, i) } }(M.API),
        /**
           * @license
           *
           * Copyright (c) 2021 Antti Palola, https://github.com/Pantura
           *
           * Permission is hereby granted, free of charge, to any person obtaining
           * a copy of this software and associated documentation files (the
           * "Software"), to deal in the Software without restriction, including
           * without limitation the rights to use, copy, modify, merge, publish,
           * distribute, sublicense, and/or sell copies of the Software, and to
           * permit persons to whom the Software is furnished to do so, subject to
           * the following conditions:
           *
           * The above copyright notice and this permission notice shall be
           * included in all copies or substantial portions of the Software.
           *
           * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
           * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
           * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
           * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
           * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
           * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
           * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
           * ====================================================================
           */
        function (t) { t.processRGBA = function (t, e, r) { for (var n = t.data, i = n.length, a = new Uint8Array(i / 4 * 3), o = new Uint8Array(i / 4), s = 0, c = 0, u = 0; u < i; u += 4) { var l = n[u], h = n[u + 1], f = n[u + 2], d = n[u + 3]; a[s++] = l, a[s++] = h, a[s++] = f, o[c++] = d } var p = this.__addimage__.arrayBufferToBinaryString(a); return { alpha: this.__addimage__.arrayBufferToBinaryString(o), data: p, index: e, alias: r, colorSpace: "DeviceRGB", bitsPerComponent: 8, width: t.width, height: t.height } } }(M.API),
        /**
           * @license
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { t.setLanguage = function (t) { return void 0 === this.internal.languageSettings && (this.internal.languageSettings = {}, this.internal.languageSettings.isSubscribed = !1), void 0 !== { af: "Afrikaans", sq: "Albanian", ar: "Arabic (Standard)", "ar-DZ": "Arabic (Algeria)", "ar-BH": "Arabic (Bahrain)", "ar-EG": "Arabic (Egypt)", "ar-IQ": "Arabic (Iraq)", "ar-JO": "Arabic (Jordan)", "ar-KW": "Arabic (Kuwait)", "ar-LB": "Arabic (Lebanon)", "ar-LY": "Arabic (Libya)", "ar-MA": "Arabic (Morocco)", "ar-OM": "Arabic (Oman)", "ar-QA": "Arabic (Qatar)", "ar-SA": "Arabic (Saudi Arabia)", "ar-SY": "Arabic (Syria)", "ar-TN": "Arabic (Tunisia)", "ar-AE": "Arabic (U.A.E.)", "ar-YE": "Arabic (Yemen)", an: "Aragonese", hy: "Armenian", as: "Assamese", ast: "Asturian", az: "Azerbaijani", eu: "Basque", be: "Belarusian", bn: "Bengali", bs: "Bosnian", br: "Breton", bg: "Bulgarian", my: "Burmese", ca: "Catalan", ch: "Chamorro", ce: "Chechen", zh: "Chinese", "zh-HK": "Chinese (Hong Kong)", "zh-CN": "Chinese (PRC)", "zh-SG": "Chinese (Singapore)", "zh-TW": "Chinese (Taiwan)", cv: "Chuvash", co: "Corsican", cr: "Cree", hr: "Croatian", cs: "Czech", da: "Danish", nl: "Dutch (Standard)", "nl-BE": "Dutch (Belgian)", en: "English", "en-AU": "English (Australia)", "en-BZ": "English (Belize)", "en-CA": "English (Canada)", "en-IE": "English (Ireland)", "en-JM": "English (Jamaica)", "en-NZ": "English (New Zealand)", "en-PH": "English (Philippines)", "en-ZA": "English (South Africa)", "en-TT": "English (Trinidad & Tobago)", "en-GB": "English (United Kingdom)", "en-US": "English (United States)", "en-ZW": "English (Zimbabwe)", eo: "Esperanto", et: "Estonian", fo: "Faeroese", fj: "Fijian", fi: "Finnish", fr: "French (Standard)", "fr-BE": "French (Belgium)", "fr-CA": "French (Canada)", "fr-FR": "French (France)", "fr-LU": "French (Luxembourg)", "fr-MC": "French (Monaco)", "fr-CH": "French (Switzerland)", fy: "Frisian", fur: "Friulian", gd: "Gaelic (Scots)", "gd-IE": "Gaelic (Irish)", gl: "Galacian", ka: "Georgian", de: "German (Standard)", "de-AT": "German (Austria)", "de-DE": "German (Germany)", "de-LI": "German (Liechtenstein)", "de-LU": "German (Luxembourg)", "de-CH": "German (Switzerland)", el: "Greek", gu: "Gujurati", ht: "Haitian", he: "Hebrew", hi: "Hindi", hu: "Hungarian", is: "Icelandic", id: "Indonesian", iu: "Inuktitut", ga: "Irish", it: "Italian (Standard)", "it-CH": "Italian (Switzerland)", ja: "Japanese", kn: "Kannada", ks: "Kashmiri", kk: "Kazakh", km: "Khmer", ky: "Kirghiz", tlh: "Klingon", ko: "Korean", "ko-KP": "Korean (North Korea)", "ko-KR": "Korean (South Korea)", la: "Latin", lv: "Latvian", lt: "Lithuanian", lb: "Luxembourgish", mk: "North Macedonia", ms: "Malay", ml: "Malayalam", mt: "Maltese", mi: "Maori", mr: "Marathi", mo: "Moldavian", nv: "Navajo", ng: "Ndonga", ne: "Nepali", no: "Norwegian", nb: "Norwegian (Bokmal)", nn: "Norwegian (Nynorsk)", oc: "Occitan", or: "Oriya", om: "Oromo", fa: "Persian", "fa-IR": "Persian/Iran", pl: "Polish", pt: "Portuguese", "pt-BR": "Portuguese (Brazil)", pa: "Punjabi", "pa-IN": "Punjabi (India)", "pa-PK": "Punjabi (Pakistan)", qu: "Quechua", rm: "Rhaeto-Romanic", ro: "Romanian", "ro-MO": "Romanian (Moldavia)", ru: "Russian", "ru-MO": "Russian (Moldavia)", sz: "Sami (Lappish)", sg: "Sango", sa: "Sanskrit", sc: "Sardinian", sd: "Sindhi", si: "Singhalese", sr: "Serbian", sk: "Slovak", sl: "Slovenian", so: "Somani", sb: "Sorbian", es: "Spanish", "es-AR": "Spanish (Argentina)", "es-BO": "Spanish (Bolivia)", "es-CL": "Spanish (Chile)", "es-CO": "Spanish (Colombia)", "es-CR": "Spanish (Costa Rica)", "es-DO": "Spanish (Dominican Republic)", "es-EC": "Spanish (Ecuador)", "es-SV": "Spanish (El Salvador)", "es-GT": "Spanish (Guatemala)", "es-HN": "Spanish (Honduras)", "es-MX": "Spanish (Mexico)", "es-NI": "Spanish (Nicaragua)", "es-PA": "Spanish (Panama)", "es-PY": "Spanish (Paraguay)", "es-PE": "Spanish (Peru)", "es-PR": "Spanish (Puerto Rico)", "es-ES": "Spanish (Spain)", "es-UY": "Spanish (Uruguay)", "es-VE": "Spanish (Venezuela)", sx: "Sutu", sw: "Swahili", sv: "Swedish", "sv-FI": "Swedish (Finland)", "sv-SV": "Swedish (Sweden)", ta: "Tamil", tt: "Tatar", te: "Teluga", th: "Thai", tig: "Tigre", ts: "Tsonga", tn: "Tswana", tr: "Turkish", tk: "Turkmen", uk: "Ukrainian", hsb: "Upper Sorbian", ur: "Urdu", ve: "Venda", vi: "Vietnamese", vo: "Volapuk", wa: "Walloon", cy: "Welsh", xh: "Xhosa", ji: "Yiddish", zu: "Zulu" }[t] && (this.internal.languageSettings.languageCode = t, !1 === this.internal.languageSettings.isSubscribed && (this.internal.events.subscribe("putCatalog", (function () { this.internal.write("/Lang (" + this.internal.languageSettings.languageCode + ")") })), this.internal.languageSettings.isSubscribed = !0)), this } }(M.API), ke = M.API, Fe = ke.getCharWidthsArray = function (t, r) { var n, i, a = (r = r || {}).font || this.internal.getFont(), o = r.fontSize || this.internal.getFontSize(), s = r.charSpace || this.internal.getCharSpace(), c = r.widths ? r.widths : a.metadata.Unicode.widths, u = c.fof ? c.fof : 1, l = r.kerning ? r.kerning : a.metadata.Unicode.kerning, h = l.fof ? l.fof : 1, f = !1 !== r.doKerning, d = 0, p = t.length, g = 0, m = c[0] || u, v = []; for (n = 0; n < p; n++)i = t.charCodeAt(n), "function" == typeof a.metadata.widthOfString ? v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i)) + s * (1e3 / o) || 0) / 1e3) : (d = f && "object" === e(l[i]) && !isNaN(parseInt(l[i][g], 10)) ? l[i][g] / h : 0, v.push((c[i] || m) / u + d)), g = i; return v }, Ie = ke.getStringUnitWidth = function (t, e) { var r = (e = e || {}).fontSize || this.internal.getFontSize(), n = e.font || this.internal.getFont(), i = e.charSpace || this.internal.getCharSpace(); return ke.processArabic && (t = ke.processArabic(t)), "function" == typeof n.metadata.widthOfString ? n.metadata.widthOfString(t, r, i) / r : Fe.apply(this, arguments).reduce((function (t, e) { return t + e }), 0) }, Ce = function (t, e, r, n) { for (var i = [], a = 0, o = t.length, s = 0; a !== o && s + e[a] < r;)s += e[a], a++; i.push(t.slice(0, a)); var c = a; for (s = 0; a !== o;)s + e[a] > n && (i.push(t.slice(c, a)), s = 0, c = a), s += e[a], a++; return c !== a && i.push(t.slice(c, a)), i }, je = function (t, e, r) { r || (r = {}); var n, i, a, o, s, c, u, l = [], h = [l], f = r.textIndent || 0, d = 0, p = 0, g = t.split(" "), m = Fe.apply(this, [" ", r])[0]; if (c = -1 === r.lineIndent ? g[0].length + 2 : r.lineIndent || 0) { var v = Array(c).join(" "), b = []; g.map((function (t) { (t = t.split(/\s*\n/)).length > 1 ? b = b.concat(t.map((function (t, e) { return (e && t.length ? "\n" : "") + t }))) : b.push(t[0]) })), g = b, c = Ie.apply(this, [v, r]) } for (a = 0, o = g.length; a < o; a++) { var y = 0; if (n = g[a], c && "\n" == n[0] && (n = n.substr(1), y = 1), f + d + (p = (i = Fe.apply(this, [n, r])).reduce((function (t, e) { return t + e }), 0)) > e || y) { if (p > e) { for (s = Ce.apply(this, [n, i, e - (f + d), e]), l.push(s.shift()), l = [s.pop()]; s.length;)h.push([s.shift()]); p = i.slice(n.length - (l[0] ? l[0].length : 0)).reduce((function (t, e) { return t + e }), 0) } else l = [n]; h.push(l), f = p + c, d = m } else l.push(n), f += d + p, d = m } return u = c ? function (t, e) { return (e ? v : "") + t.join(" ") } : function (t) { return t.join(" ") }, h.map(u) }, ke.splitTextToSize = function (t, e, r) { var n, i = (r = r || {}).fontSize || this.internal.getFontSize(), a = function (t) { if (t.widths && t.kerning) return { widths: t.widths, kerning: t.kerning }; var e = this.internal.getFont(t.fontName, t.fontStyle); return e.metadata.Unicode ? { widths: e.metadata.Unicode.widths || { 0: 1 }, kerning: e.metadata.Unicode.kerning || {} } : { font: e.metadata, fontSize: this.internal.getFontSize(), charSpace: this.internal.getCharSpace() } }.call(this, r); n = Array.isArray(t) ? t : String(t).split(/\r?\n/); var o = 1 * this.internal.scaleFactor * e / i; a.textIndent = r.textIndent ? 1 * r.textIndent * this.internal.scaleFactor / i : 0, a.lineIndent = r.lineIndent; var s, c, u = []; for (s = 0, c = n.length; s < c; s++)u = u.concat(je.apply(this, [n[s], o, a])); return u }, function (t) { t.__fontmetrics__ = t.__fontmetrics__ || {}; for (var r = "klmnopqrstuvwxyz", n = {}, i = {}, a = 0; a < r.length; a++)n[r[a]] = "0123456789abcdef"[a], i["0123456789abcdef"[a]] = r[a]; var o = function (t) { return "0x" + parseInt(t, 10).toString(16) }, s = t.__fontmetrics__.compress = function (t) { var r, n, a, c, u = ["{"]; for (var l in t) { if (r = t[l], isNaN(parseInt(l, 10)) ? n = "'" + l + "'" : (l = parseInt(l, 10), n = (n = o(l).slice(2)).slice(0, -1) + i[n.slice(-1)]), "number" == typeof r) r < 0 ? (a = o(r).slice(3), c = "-") : (a = o(r).slice(2), c = ""), a = c + a.slice(0, -1) + i[a.slice(-1)]; else { if ("object" !== e(r)) throw new Error("Don't know what to do with value type " + e(r) + "."); a = s(r) } u.push(n + a) } return u.push("}"), u.join("") }, c = t.__fontmetrics__.uncompress = function (t) { if ("string" != typeof t) throw new Error("Invalid argument passed to uncompress."); for (var e, r, i, a, o = {}, s = 1, c = o, u = [], l = "", h = "", f = t.length - 1, d = 1; d < f; d += 1)"'" == (a = t[d]) ? e ? (i = e.join(""), e = void 0) : e = [] : e ? e.push(a) : "{" == a ? (u.push([c, i]), c = {}, i = void 0) : "}" == a ? ((r = u.pop())[0][r[1]] = c, i = void 0, c = r[0]) : "-" == a ? s = -1 : void 0 === i ? n.hasOwnProperty(a) ? (l += n[a], i = parseInt(l, 16) * s, s = 1, l = "") : l += a : n.hasOwnProperty(a) ? (h += n[a], c[i] = parseInt(h, 16) * s, s = 1, i = void 0, h = "") : h += a; return o }, u = { codePages: ["WinAnsiEncoding"], WinAnsiEncoding: c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}") }, l = { Unicode: { Courier: u, "Courier-Bold": u, "Courier-BoldOblique": u, "Courier-Oblique": u, Helvetica: u, "Helvetica-Bold": u, "Helvetica-BoldOblique": u, "Helvetica-Oblique": u, "Times-Roman": u, "Times-Bold": u, "Times-BoldItalic": u, "Times-Italic": u } }, h = { Unicode: { "Courier-Oblique": c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-BoldItalic": c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"), "Helvetica-Bold": c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), Courier: c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-BoldOblique": c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Bold": c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"), Symbol: c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"), Helvetica: c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"), "Helvetica-BoldOblique": c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), ZapfDingbats: c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-Bold": c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Italic": c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"), "Times-Roman": c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"), "Helvetica-Oblique": c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}") } }; t.events.push(["addFont", function (t) { var e = t.font, r = h.Unicode[e.postScriptName]; r && (e.metadata.Unicode = {}, e.metadata.Unicode.widths = r.widths, e.metadata.Unicode.kerning = r.kerning); var n = l.Unicode[e.postScriptName]; n && (e.metadata.Unicode.encoding = n, e.encoding = n.codePages[0]) }]) }(M.API),
        /**
           * @license
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { var e = function (t) { for (var e = t.length, r = new Uint8Array(e), n = 0; n < e; n++)r[n] = t.charCodeAt(n); return r }; t.API.events.push(["addFont", function (r) { var n = void 0, i = r.font, a = r.instance; if (!i.isStandardFont) { if (void 0 === a) throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('" + i.postScriptName + "')."); if ("string" != typeof (n = !1 === a.existsFileInVFS(i.postScriptName) ? a.loadFile(i.postScriptName) : a.getFileFromVFS(i.postScriptName))) throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('" + i.postScriptName + "')."); !function (r, n) { n = /^\x00\x01\x00\x00/.test(n) ? e(n) : e(c(n)), r.metadata = t.API.TTFFont.open(n), r.metadata.Unicode = r.metadata.Unicode || { encoding: {}, kerning: {}, widths: [] }, r.metadata.glyIdsUsed = [0] }(i, n) } }]) }(M), function (n) { function a() { return (r.canvg ? Promise.resolve(r.canvg) : "object" === (void 0 === t ? "undefined" : e(t)) && "undefined" != typeof module ? new Promise((function (t, e) { try { t(require("canvg")) } catch (t) { e(t) } })) : "function" == typeof define && define.amd ? new Promise((function (t, e) { try { require(["canvg"], t) } catch (t) { e(t) } })) : Promise.reject(new Error("Could not load canvg"))).catch((function (t) { return Promise.reject(new Error("Could not load canvg: " + t)) })).then((function (t) { return t.default ? t.default : t })) } n.addSvgAsImage = function (t, e, r, n, o, s, c, u) { if (isNaN(e) || isNaN(r)) throw i.error("jsPDF.addSvgAsImage: Invalid coordinates", arguments), new Error("Invalid coordinates passed to jsPDF.addSvgAsImage"); if (isNaN(n) || isNaN(o)) throw i.error("jsPDF.addSvgAsImage: Invalid measurements", arguments), new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage"); var l = document.createElement("canvas"); l.width = n, l.height = o; var h = l.getContext("2d"); h.fillStyle = "#fff", h.fillRect(0, 0, l.width, l.height); var f = { ignoreMouse: !0, ignoreAnimation: !0, ignoreDimensions: !0 }, d = this; return a().then((function (e) { return e.fromString(h, t, f) }), (function () { return Promise.reject(new Error("Could not load canvg.")) })).then((function (t) { return t.render(f) })).then((function () { d.addImage(l.toDataURL("image/jpeg", 1), e, r, n, o, c, u) })) } }(M.API),
        /**
           * @license
           * ====================================================================
           * Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
           *
           * Permission is hereby granted, free of charge, to any person obtaining
           * a copy of this software and associated documentation files (the
           * "Software"), to deal in the Software without restriction, including
           * without limitation the rights to use, copy, modify, merge, publish,
           * distribute, sublicense, and/or sell copies of the Software, and to
           * permit persons to whom the Software is furnished to do so, subject to
           * the following conditions:
           *
           * The above copyright notice and this permission notice shall be
           * included in all copies or substantial portions of the Software.
           *
           * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
           * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
           * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
           * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
           * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
           * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
           * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
           * ====================================================================
           */
        function (t) { t.putTotalPages = function (t) { var e, r = 0; parseInt(this.internal.getFont().id.substr(1), 10) < 15 ? (e = new RegExp(t, "g"), r = this.internal.getNumberOfPages()) : (e = new RegExp(this.pdfEscape16(t, this.internal.getFont()), "g"), r = this.pdfEscape16(this.internal.getNumberOfPages() + "", this.internal.getFont())); for (var n = 1; n <= this.internal.getNumberOfPages(); n++)for (var i = 0; i < this.internal.pages[n].length; i++)this.internal.pages[n][i] = this.internal.pages[n][i].replace(e, r); return this } }(M.API), function (t) { t.viewerPreferences = function (t, r) { var n; t = t || {}, r = r || !1; var i, a, o, s = { HideToolbar: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, HideMenubar: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, HideWindowUI: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, FitWindow: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, CenterWindow: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, DisplayDocTitle: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.4 }, NonFullScreenPageMode: { defaultValue: "UseNone", value: "UseNone", type: "name", explicitSet: !1, valueSet: ["UseNone", "UseOutlines", "UseThumbs", "UseOC"], pdfVersion: 1.3 }, Direction: { defaultValue: "L2R", value: "L2R", type: "name", explicitSet: !1, valueSet: ["L2R", "R2L"], pdfVersion: 1.3 }, ViewArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, ViewClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintScaling: { defaultValue: "AppDefault", value: "AppDefault", type: "name", explicitSet: !1, valueSet: ["AppDefault", "None"], pdfVersion: 1.6 }, Duplex: { defaultValue: "", value: "none", type: "name", explicitSet: !1, valueSet: ["Simplex", "DuplexFlipShortEdge", "DuplexFlipLongEdge", "none"], pdfVersion: 1.7 }, PickTrayByPDFSize: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.7 }, PrintPageRange: { defaultValue: "", value: "", type: "array", explicitSet: !1, valueSet: null, pdfVersion: 1.7 }, NumCopies: { defaultValue: 1, value: 1, type: "integer", explicitSet: !1, valueSet: null, pdfVersion: 1.7 } }, c = Object.keys(s), u = [], l = 0, h = 0, f = 0; function d(t, e) { var r, n = !1; for (r = 0; r < t.length; r += 1)t[r] === e && (n = !0); return n } if (void 0 === this.internal.viewerpreferences && (this.internal.viewerpreferences = {}, this.internal.viewerpreferences.configuration = JSON.parse(JSON.stringify(s)), this.internal.viewerpreferences.isSubscribed = !1), n = this.internal.viewerpreferences.configuration, "reset" === t || !0 === r) { var p = c.length; for (f = 0; f < p; f += 1)n[c[f]].value = n[c[f]].defaultValue, n[c[f]].explicitSet = !1 } if ("object" === e(t)) for (a in t) if (o = t[a], d(c, a) && void 0 !== o) { if ("boolean" === n[a].type && "boolean" == typeof o) n[a].value = o; else if ("name" === n[a].type && d(n[a].valueSet, o)) n[a].value = o; else if ("integer" === n[a].type && Number.isInteger(o)) n[a].value = o; else if ("array" === n[a].type) { for (l = 0; l < o.length; l += 1)if (i = !0, 1 === o[l].length && "number" == typeof o[l][0]) u.push(String(o[l] - 1)); else if (o[l].length > 1) { for (h = 0; h < o[l].length; h += 1)"number" != typeof o[l][h] && (i = !1); !0 === i && u.push([o[l][0] - 1, o[l][1] - 1].join(" ")) } n[a].value = "[" + u.join(" ") + "]" } else n[a].value = n[a].defaultValue; n[a].explicitSet = !0 } return !1 === this.internal.viewerpreferences.isSubscribed && (this.internal.events.subscribe("putCatalog", (function () { var t, e = []; for (t in n) !0 === n[t].explicitSet && ("name" === n[t].type ? e.push("/" + t + " /" + n[t].value) : e.push("/" + t + " " + n[t].value)); 0 !== e.length && this.internal.write("/ViewerPreferences\n<<\n" + e.join("\n") + "\n>>") })), this.internal.viewerpreferences.isSubscribed = !0), this.internal.viewerpreferences.configuration = n, this } }(M.API),
        /** ====================================================================
           * @license
           * jsPDF XMP metadata plugin
           * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
           *
           * Permission is hereby granted, free of charge, to any person obtaining
           * a copy of this software and associated documentation files (the
           * "Software"), to deal in the Software without restriction, including
           * without limitation the rights to use, copy, modify, merge, publish,
           * distribute, sublicense, and/or sell copies of the Software, and to
           * permit persons to whom the Software is furnished to do so, subject to
           * the following conditions:
           *
           * The above copyright notice and this permission notice shall be
           * included in all copies or substantial portions of the Software.
           *
           * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
           * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
           * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
           * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
           * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
           * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
           * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
           * ====================================================================
           */
        function (t) { var e = function () { var t = '<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="' + this.internal.__metadata__.namespaceuri + '"><jspdf:metadata>', e = unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')), r = unescape(encodeURIComponent(t)), n = unescape(encodeURIComponent(this.internal.__metadata__.metadata)), i = unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")), a = unescape(encodeURIComponent("</x:xmpmeta>")), o = r.length + n.length + i.length + e.length + a.length; this.internal.__metadata__.metadata_object_number = this.internal.newObject(), this.internal.write("<< /Type /Metadata /Subtype /XML /Length " + o + " >>"), this.internal.write("stream"), this.internal.write(e + r + n + i + a), this.internal.write("endstream"), this.internal.write("endobj") }, r = function () { this.internal.__metadata__.metadata_object_number && this.internal.write("/Metadata " + this.internal.__metadata__.metadata_object_number + " 0 R") }; t.addMetadata = function (t, n) { return void 0 === this.internal.__metadata__ && (this.internal.__metadata__ = { metadata: t, namespaceuri: n || "http://jspdf.default.namespaceuri/" }, this.internal.events.subscribe("putCatalog", r), this.internal.events.subscribe("postPutResources", e)), this } }(M.API), function (t) { var e = t.API, r = e.pdfEscape16 = function (t, e) { for (var r, n = e.metadata.Unicode.widths, i = ["", "0", "00", "000", "0000"], a = [""], o = 0, s = t.length; o < s; ++o) { if (r = e.metadata.characterToGlyph(t.charCodeAt(o)), e.metadata.glyIdsUsed.push(r), e.metadata.toUnicode[r] = t.charCodeAt(o), -1 == n.indexOf(r) && (n.push(r), n.push([parseInt(e.metadata.widthOfGlyph(r), 10)])), "0" == r) return a.join(""); r = r.toString(16), a.push(i[4 - r.length], r) } return a.join("") }, n = function (t) { var e, r, n, i, a, o, s; for (a = "/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange", n = [], o = 0, s = (r = Object.keys(t).sort((function (t, e) { return t - e }))).length; o < s; o++)e = r[o], n.length >= 100 && (a += "\n" + n.length + " beginbfchar\n" + n.join("\n") + "\nendbfchar", n = []), void 0 !== t[e] && null !== t[e] && "function" == typeof t[e].toString && (i = ("0000" + t[e].toString(16)).slice(-4), e = ("0000" + (+e).toString(16)).slice(-4), n.push("<" + e + "><" + i + ">")); return n.length && (a += "\n" + n.length + " beginbfchar\n" + n.join("\n") + "\nendbfchar\n"), a += "endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend" }; e.events.push(["putFont", function (e) { !function (e) { var r = e.font, i = e.out, a = e.newObject, o = e.putStream; if (r.metadata instanceof t.API.TTFFont && "Identity-H" === r.encoding) { for (var s = r.metadata.Unicode.widths, c = r.metadata.subset.encode(r.metadata.glyIdsUsed, 1), u = "", l = 0; l < c.length; l++)u += String.fromCharCode(c[l]); var h = a(); o({ data: u, addLength1: !0, objectId: h }), i("endobj"); var f = a(); o({ data: n(r.metadata.toUnicode), addLength1: !0, objectId: f }), i("endobj"); var d = a(); i("<<"), i("/Type /FontDescriptor"), i("/FontName /" + F(r.fontName)), i("/FontFile2 " + h + " 0 R"), i("/FontBBox " + t.API.PDFObject.convert(r.metadata.bbox)), i("/Flags " + r.metadata.flags), i("/StemV " + r.metadata.stemV), i("/ItalicAngle " + r.metadata.italicAngle), i("/Ascent " + r.metadata.ascender), i("/Descent " + r.metadata.decender), i("/CapHeight " + r.metadata.capHeight), i(">>"), i("endobj"); var p = a(); i("<<"), i("/Type /Font"), i("/BaseFont /" + F(r.fontName)), i("/FontDescriptor " + d + " 0 R"), i("/W " + t.API.PDFObject.convert(s)), i("/CIDToGIDMap /Identity"), i("/DW 1000"), i("/Subtype /CIDFontType2"), i("/CIDSystemInfo"), i("<<"), i("/Supplement 0"), i("/Registry (Adobe)"), i("/Ordering (" + r.encoding + ")"), i(">>"), i(">>"), i("endobj"), r.objectNumber = a(), i("<<"), i("/Type /Font"), i("/Subtype /Type0"), i("/ToUnicode " + f + " 0 R"), i("/BaseFont /" + F(r.fontName)), i("/Encoding /" + r.encoding), i("/DescendantFonts [" + p + " 0 R]"), i(">>"), i("endobj"), r.isAlreadyPutted = !0 } }(e) }]); e.events.push(["putFont", function (e) { !function (e) { var r = e.font, i = e.out, a = e.newObject, o = e.putStream; if (r.metadata instanceof t.API.TTFFont && "WinAnsiEncoding" === r.encoding) { for (var s = r.metadata.rawData, c = "", u = 0; u < s.length; u++)c += String.fromCharCode(s[u]); var l = a(); o({ data: c, addLength1: !0, objectId: l }), i("endobj"); var h = a(); o({ data: n(r.metadata.toUnicode), addLength1: !0, objectId: h }), i("endobj"); var f = a(); i("<<"), i("/Descent " + r.metadata.decender), i("/CapHeight " + r.metadata.capHeight), i("/StemV " + r.metadata.stemV), i("/Type /FontDescriptor"), i("/FontFile2 " + l + " 0 R"), i("/Flags 96"), i("/FontBBox " + t.API.PDFObject.convert(r.metadata.bbox)), i("/FontName /" + F(r.fontName)), i("/ItalicAngle " + r.metadata.italicAngle), i("/Ascent " + r.metadata.ascender), i(">>"), i("endobj"), r.objectNumber = a(); for (var d = 0; d < r.metadata.hmtx.widths.length; d++)r.metadata.hmtx.widths[d] = parseInt(r.metadata.hmtx.widths[d] * (1e3 / r.metadata.head.unitsPerEm)); i("<</Subtype/TrueType/Type/Font/ToUnicode " + h + " 0 R/BaseFont/" + F(r.fontName) + "/FontDescriptor " + f + " 0 R/Encoding/" + r.encoding + " /FirstChar 29 /LastChar 255 /Widths " + t.API.PDFObject.convert(r.metadata.hmtx.widths) + ">>"), i("endobj"), r.isAlreadyPutted = !0 } }(e) }]); var i = function (t) { var e, n = t.text || "", i = t.x, a = t.y, o = t.options || {}, s = t.mutex || {}, c = s.pdfEscape, u = s.activeFontKey, l = s.fonts, h = u, f = "", d = 0, p = "", g = l[h].encoding; if ("Identity-H" !== l[h].encoding) return { text: n, x: i, y: a, options: o, mutex: s }; for (p = n, h = u, Array.isArray(n) && (p = n[0]), d = 0; d < p.length; d += 1)l[h].metadata.hasOwnProperty("cmap") && (e = l[h].metadata.cmap.unicode.codeMap[p[d].charCodeAt(0)]), e || p[d].charCodeAt(0) < 256 && l[h].metadata.hasOwnProperty("Unicode") ? f += p[d] : f += ""; var m = ""; return parseInt(h.slice(1)) < 14 || "WinAnsiEncoding" === g ? m = c(f, h).split("").map((function (t) { return t.charCodeAt(0).toString(16) })).join("") : "Identity-H" === g && (m = r(f, l[h])), s.isHex = !0, { text: m, x: i, y: a, options: o, mutex: s } }; e.events.push(["postProcessText", function (t) { var e = t.text || "", r = [], n = { text: e, x: t.x, y: t.y, options: t.options, mutex: t.mutex }; if (Array.isArray(e)) { var a = 0; for (a = 0; a < e.length; a += 1)Array.isArray(e[a]) && 3 === e[a].length ? r.push([i(Object.assign({}, n, { text: e[a][0] })).text, e[a][1], e[a][2]]) : r.push(i(Object.assign({}, n, { text: e[a] })).text); t.text = r } else t.text = i(Object.assign({}, n, { text: e })).text }]) }(M),
        /**
           * @license
           * jsPDF virtual FileSystem functionality
           *
           * Licensed under the MIT License.
           * http://opensource.org/licenses/mit-license
           */
        function (t) { var e = function () { return void 0 === this.internal.vFS && (this.internal.vFS = {}), !0 }; t.existsFileInVFS = function (t) { return e.call(this), void 0 !== this.internal.vFS[t] }, t.addFileToVFS = function (t, r) { return e.call(this), this.internal.vFS[t] = r, this }, t.getFileFromVFS = function (t) { return e.call(this), void 0 !== this.internal.vFS[t] ? this.internal.vFS[t] : null } }(M.API),
        /**
           * @license
           * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
           * MIT License
           */
        function (t) { t.__bidiEngine__ = t.prototype.__bidiEngine__ = function (t) { var r, n, i, a, o, s, c, u = e, l = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]], h = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]], f = { L: 0, R: 1, EN: 2, AN: 3, N: 4, B: 5, S: 6 }, d = { 0: 0, 5: 1, 6: 2, 7: 3, 32: 4, 251: 5, 254: 6, 255: 7 }, p = ["(", ")", "(", "<", ">", "<", "[", "]", "[", "{", "}", "{", "«", "»", "«", "‹", "›", "‹", "⁅", "⁆", "⁅", "⁽", "⁾", "⁽", "₍", "₎", "₍", "≤", "≥", "≤", "〈", "〉", "〈", "﹙", "﹚", "﹙", "﹛", "﹜", "﹛", "﹝", "﹞", "﹝", "﹤", "﹥", "﹤"], g = new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/), m = !1, v = 0; this.__bidiEngine__ = {}; var b = function (t) { var e = t.charCodeAt(), r = e >> 8, n = d[r]; return void 0 !== n ? u[256 * n + (255 & e)] : 252 === r || 253 === r ? "AL" : g.test(r) ? "L" : 8 === r ? "R" : "N" }, y = function (t) { for (var e, r = 0; r < t.length; r++) { if ("L" === (e = b(t.charAt(r)))) return !1; if ("R" === e) return !0 } return !1 }, w = function (t, e, o, s) { var c, u, l, h, f = e[s]; switch (f) { case "L": case "R": m = !1; break; case "N": case "AN": break; case "EN": m && (f = "AN"); break; case "AL": m = !0, f = "R"; break; case "WS": f = "N"; break; case "CS": s < 1 || s + 1 >= e.length || "EN" !== (c = o[s - 1]) && "AN" !== c || "EN" !== (u = e[s + 1]) && "AN" !== u ? f = "N" : m && (u = "AN"), f = u === c ? u : "N"; break; case "ES": f = "EN" === (c = s > 0 ? o[s - 1] : "B") && s + 1 < e.length && "EN" === e[s + 1] ? "EN" : "N"; break; case "ET": if (s > 0 && "EN" === o[s - 1]) { f = "EN"; break } if (m) { f = "N"; break } for (l = s + 1, h = e.length; l < h && "ET" === e[l];)l++; f = l < h && "EN" === e[l] ? "EN" : "N"; break; case "NSM": if (i && !a) { for (h = e.length, l = s + 1; l < h && "NSM" === e[l];)l++; if (l < h) { var d = t[s], p = d >= 1425 && d <= 2303 || 64286 === d; if (c = e[l], p && ("R" === c || "AL" === c)) { f = "R"; break } } } f = s < 1 || "B" === (c = e[s - 1]) ? "N" : o[s - 1]; break; case "B": m = !1, r = !0, f = v; break; case "S": n = !0, f = "N"; break; case "LRE": case "RLE": case "LRO": case "RLO": case "PDF": m = !1; break; case "BN": f = "N" }return f }, N = function (t, e, r) { var n = t.split(""); return r && L(n, r, { hiLevel: v }), n.reverse(), e && e.reverse(), n.join("") }, L = function (t, e, i) { var a, o, s, c, u, d = -1, p = t.length, g = 0, y = [], N = v ? h : l, L = []; for (m = !1, r = !1, n = !1, o = 0; o < p; o++)L[o] = b(t[o]); for (s = 0; s < p; s++) { if (u = g, y[s] = w(t, L, y, s), a = 240 & (g = N[u][f[y[s]]]), g &= 15, e[s] = c = N[g][5], a > 0) if (16 === a) { for (o = d; o < s; o++)e[o] = 1; d = -1 } else d = -1; if (N[g][6]) -1 === d && (d = s); else if (d > -1) { for (o = d; o < s; o++)e[o] = c; d = -1 } "B" === L[s] && (e[s] = 0), i.hiLevel |= c } n && function (t, e, r) { for (var n = 0; n < r; n++)if ("S" === t[n]) { e[n] = v; for (var i = n - 1; i >= 0 && "WS" === t[i]; i--)e[i] = v } }(L, e, p) }, A = function (t, e, n, i, a) { if (!(a.hiLevel < t)) { if (1 === t && 1 === v && !r) return e.reverse(), void (n && n.reverse()); for (var o, s, c, u, l = e.length, h = 0; h < l;) { if (i[h] >= t) { for (c = h + 1; c < l && i[c] >= t;)c++; for (u = h, s = c - 1; u < s; u++, s--)o = e[u], e[u] = e[s], e[s] = o, n && (o = n[u], n[u] = n[s], n[s] = o); h = c } h++ } } }, x = function (t, e, r) { var n = t.split(""), i = { hiLevel: v }; return r || (r = []), L(n, r, i), function (t, e, r) { if (0 !== r.hiLevel && c) for (var n, i = 0; i < t.length; i++)1 === e[i] && (n = p.indexOf(t[i])) >= 0 && (t[i] = p[n + 1]) }(n, r, i), A(2, n, e, r, i), A(1, n, e, r, i), n.join("") }; return this.__bidiEngine__.doBidiReorder = function (t, e, r) { if (function (t, e) { if (e) for (var r = 0; r < t.length; r++)e[r] = r; void 0 === a && (a = y(t)), void 0 === s && (s = y(t)) }(t, e), i || !o || s) if (i && o && a ^ s) v = a ? 1 : 0, t = N(t, e, r); else if (!i && o && s) v = a ? 1 : 0, t = x(t, e, r), t = N(t, e); else if (!i || a || o || s) { if (i && !o && a ^ s) t = N(t, e), a ? (v = 0, t = x(t, e, r)) : (v = 1, t = x(t, e, r), t = N(t, e)); else if (i && a && !o && s) v = 1, t = x(t, e, r), t = N(t, e); else if (!i && !o && a ^ s) { var n = c; a ? (v = 1, t = x(t, e, r), v = 0, c = !1, t = x(t, e, r), c = n) : (v = 0, t = x(t, e, r), t = N(t, e), v = 1, c = !1, t = x(t, e, r), c = n, t = N(t, e)) } } else v = 0, t = x(t, e, r); else v = a ? 1 : 0, t = x(t, e, r); return t }, this.__bidiEngine__.setOptions = function (t) { t && (i = t.isInputVisual, o = t.isOutputVisual, a = t.isInputRtl, s = t.isOutputRtl, c = t.isSymmetricSwapping) }, this.__bidiEngine__.setOptions(t), this.__bidiEngine__ }; var e = ["BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "S", "B", "S", "WS", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "B", "B", "B", "S", "WS", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "BN", "BN", "BN", "BN", "BN", "BN", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "CS", "N", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "L", "N", "N", "BN", "N", "N", "ET", "ET", "EN", "EN", "N", "L", "N", "N", "N", "EN", "L", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "N", "N", "N", "N", "N", "ET", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "NSM", "R", "NSM", "NSM", "R", "NSM", "NSM", "R", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AN", "AN", "AN", "AN", "AN", "AN", "N", "N", "AL", "ET", "ET", "AL", "CS", "AL", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "ET", "AN", "AN", "AL", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "NSM", "NSM", "N", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "R", "N", "N", "N", "N", "R", "N", "N", "N", "N", "N", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "BN", "BN", "BN", "L", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "B", "LRE", "RLE", "PDF", "LRO", "RLO", "CS", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "BN", "BN", "BN", "BN", "BN", "N", "LRI", "RLI", "FSI", "PDI", "BN", "BN", "BN", "BN", "BN", "BN", "EN", "L", "N", "N", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "L", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "R", "NSM", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "ES", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "R", "R", "R", "R", "R", "N", "R", "N", "R", "R", "N", "R", "R", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "CS", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "ET", "N", "N", "ES", "ES", "N", "N", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "BN", "N", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "N", "N", "N", "ET", "ET", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N"], r = new t.__bidiEngine__({ isInputVisual: !0 }); t.API.events.push(["postProcessText", function (t) { var e = t.text, n = (t.x, t.y, t.options || {}), i = (t.mutex, n.lang, []); if (n.isInputVisual = "boolean" != typeof n.isInputVisual || n.isInputVisual, r.setOptions(n), "[object Array]" === Object.prototype.toString.call(e)) { var a = 0; for (i = [], a = 0; a < e.length; a += 1)"[object Array]" === Object.prototype.toString.call(e[a]) ? i.push([r.doBidiReorder(e[a][0]), e[a][1], e[a][2]]) : i.push([r.doBidiReorder(e[a])]); t.text = i } else t.text = r.doBidiReorder(e); r.setOptions({ isInputVisual: !0 }) }]) }(M), M.API.TTFFont = function () { function t(t) { var e; if (this.rawData = t, e = this.contents = new Te(t), this.contents.pos = 4, "ttcf" === e.readString(4)) throw new Error("TTCF not supported."); e.pos = 0, this.parse(), this.subset = new ar(this), this.registerTTF() } return t.open = function (e) { return new t(e) }, t.prototype.parse = function () { return this.directory = new Ue(this.contents), this.head = new We(this), this.name = new Ze(this), this.cmap = new Ge(this), this.toUnicode = {}, this.hhea = new Ye(this), this.maxp = new $e(this), this.hmtx = new Qe(this), this.post = new Xe(this), this.os2 = new Je(this), this.loca = new ir(this), this.glyf = new er(this), this.ascender = this.os2.exists && this.os2.ascender || this.hhea.ascender, this.decender = this.os2.exists && this.os2.decender || this.hhea.decender, this.lineGap = this.os2.exists && this.os2.lineGap || this.hhea.lineGap, this.bbox = [this.head.xMin, this.head.yMin, this.head.xMax, this.head.yMax] }, t.prototype.registerTTF = function () { var t, e, r, n, i; if (this.scaleFactor = 1e3 / this.head.unitsPerEm, this.bbox = function () { var e, r, n, i; for (i = [], e = 0, r = (n = this.bbox).length; e < r; e++)t = n[e], i.push(Math.round(t * this.scaleFactor)); return i }.call(this), this.stemV = 0, this.post.exists ? (r = 255 & (n = this.post.italic_angle), 0 != (32768 & (e = n >> 16)) && (e = -(1 + (65535 ^ e))), this.italicAngle = +(e + "." + r)) : this.italicAngle = 0, this.ascender = Math.round(this.ascender * this.scaleFactor), this.decender = Math.round(this.decender * this.scaleFactor), this.lineGap = Math.round(this.lineGap * this.scaleFactor), this.capHeight = this.os2.exists && this.os2.capHeight || this.ascender, this.xHeight = this.os2.exists && this.os2.xHeight || 0, this.familyClass = (this.os2.exists && this.os2.familyClass || 0) >> 8, this.isSerif = 1 === (i = this.familyClass) || 2 === i || 3 === i || 4 === i || 5 === i || 7 === i, this.isScript = 10 === this.familyClass, this.flags = 0, this.post.isFixedPitch && (this.flags |= 1), this.isSerif && (this.flags |= 2), this.isScript && (this.flags |= 8), 0 !== this.italicAngle && (this.flags |= 64), this.flags |= 32, !this.cmap.unicode) throw new Error("No unicode cmap for font") }, t.prototype.characterToGlyph = function (t) { var e; return (null != (e = this.cmap.unicode) ? e.codeMap[t] : void 0) || 0 }, t.prototype.widthOfGlyph = function (t) { var e; return e = 1e3 / this.head.unitsPerEm, this.hmtx.forGlyph(t).advance * e }, t.prototype.widthOfString = function (t, e, r) { var n, i, a, o; for (a = 0, i = 0, o = (t = "" + t).length; 0 <= o ? i < o : i > o; i = 0 <= o ? ++i : --i)n = t.charCodeAt(i), a += this.widthOfGlyph(this.characterToGlyph(n)) + r * (1e3 / e) || 0; return a * (e / 1e3) }, t.prototype.lineHeight = function (t, e) { var r; return null == e && (e = !1), r = e ? this.lineGap : 0, (this.ascender + r - this.decender) / 1e3 * t }, t }(); var Re, Te = function () { function t(t) { this.data = null != t ? t : [], this.pos = 0, this.length = this.data.length } return t.prototype.readByte = function () { return this.data[this.pos++] }, t.prototype.writeByte = function (t) { return this.data[this.pos++] = t }, t.prototype.readUInt32 = function () { return 16777216 * this.readByte() + (this.readByte() << 16) + (this.readByte() << 8) + this.readByte() }, t.prototype.writeUInt32 = function (t) { return this.writeByte(t >>> 24 & 255), this.writeByte(t >> 16 & 255), this.writeByte(t >> 8 & 255), this.writeByte(255 & t) }, t.prototype.readInt32 = function () { var t; return (t = this.readUInt32()) >= 2147483648 ? t - 4294967296 : t }, t.prototype.writeInt32 = function (t) { return t < 0 && (t += 4294967296), this.writeUInt32(t) }, t.prototype.readUInt16 = function () { return this.readByte() << 8 | this.readByte() }, t.prototype.writeUInt16 = function (t) { return this.writeByte(t >> 8 & 255), this.writeByte(255 & t) }, t.prototype.readInt16 = function () { var t; return (t = this.readUInt16()) >= 32768 ? t - 65536 : t }, t.prototype.writeInt16 = function (t) { return t < 0 && (t += 65536), this.writeUInt16(t) }, t.prototype.readString = function (t) { var e, r; for (r = [], e = 0; 0 <= t ? e < t : e > t; e = 0 <= t ? ++e : --e)r[e] = String.fromCharCode(this.readByte()); return r.join("") }, t.prototype.writeString = function (t) { var e, r, n; for (n = [], e = 0, r = t.length; 0 <= r ? e < r : e > r; e = 0 <= r ? ++e : --e)n.push(this.writeByte(t.charCodeAt(e))); return n }, t.prototype.readShort = function () { return this.readInt16() }, t.prototype.writeShort = function (t) { return this.writeInt16(t) }, t.prototype.readLongLong = function () { var t, e, r, n, i, a, o, s; return t = this.readByte(), e = this.readByte(), r = this.readByte(), n = this.readByte(), i = this.readByte(), a = this.readByte(), o = this.readByte(), s = this.readByte(), 128 & t ? -1 * (72057594037927940 * (255 ^ t) + 281474976710656 * (255 ^ e) + 1099511627776 * (255 ^ r) + 4294967296 * (255 ^ n) + 16777216 * (255 ^ i) + 65536 * (255 ^ a) + 256 * (255 ^ o) + (255 ^ s) + 1) : 72057594037927940 * t + 281474976710656 * e + 1099511627776 * r + 4294967296 * n + 16777216 * i + 65536 * a + 256 * o + s }, t.prototype.writeLongLong = function (t) { var e, r; return e = Math.floor(t / 4294967296), r = 4294967295 & t, this.writeByte(e >> 24 & 255), this.writeByte(e >> 16 & 255), this.writeByte(e >> 8 & 255), this.writeByte(255 & e), this.writeByte(r >> 24 & 255), this.writeByte(r >> 16 & 255), this.writeByte(r >> 8 & 255), this.writeByte(255 & r) }, t.prototype.readInt = function () { return this.readInt32() }, t.prototype.writeInt = function (t) { return this.writeInt32(t) }, t.prototype.read = function (t) { var e, r; for (e = [], r = 0; 0 <= t ? r < t : r > t; r = 0 <= t ? ++r : --r)e.push(this.readByte()); return e }, t.prototype.write = function (t) { var e, r, n, i; for (i = [], r = 0, n = t.length; r < n; r++)e = t[r], i.push(this.writeByte(e)); return i }, t }(), Ue = function () { var t; function e(t) { var e, r, n; for (this.scalarType = t.readInt(), this.tableCount = t.readShort(), this.searchRange = t.readShort(), this.entrySelector = t.readShort(), this.rangeShift = t.readShort(), this.tables = {}, r = 0, n = this.tableCount; 0 <= n ? r < n : r > n; r = 0 <= n ? ++r : --r)e = { tag: t.readString(4), checksum: t.readInt(), offset: t.readInt(), length: t.readInt() }, this.tables[e.tag] = e } return e.prototype.encode = function (e) { var r, n, i, a, o, s, c, u, l, h, f, d, p; for (p in f = Object.keys(e).length, s = Math.log(2), l = 16 * Math.floor(Math.log(f) / s), a = Math.floor(l / s), u = 16 * f - l, (n = new Te).writeInt(this.scalarType), n.writeShort(f), n.writeShort(l), n.writeShort(a), n.writeShort(u), i = 16 * f, c = n.pos + i, o = null, d = [], e) for (h = e[p], n.writeString(p), n.writeInt(t(h)), n.writeInt(c), n.writeInt(h.length), d = d.concat(h), "head" === p && (o = c), c += h.length; c % 4;)d.push(0), c++; return n.write(d), r = 2981146554 - t(n.data), n.pos = o + 8, n.writeUInt32(r), n.data }, t = function (t) { var e, r, n, i; for (t = tr.call(t); t.length % 4;)t.push(0); for (n = new Te(t), r = 0, e = 0, i = t.length; e < i; e = e += 4)r += n.readUInt32(); return 4294967295 & r }, e }(), ze = {}.hasOwnProperty, He = function (t, e) { for (var r in e) ze.call(e, r) && (t[r] = e[r]); function n() { this.constructor = t } return n.prototype = e.prototype, t.prototype = new n, t.__super__ = e.prototype, t }, We = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "head", e.prototype.parse = function (t) { return t.pos = this.offset, this.version = t.readInt(), this.revision = t.readInt(), this.checkSumAdjustment = t.readInt(), this.magicNumber = t.readInt(), this.flags = t.readShort(), this.unitsPerEm = t.readShort(), this.created = t.readLongLong(), this.modified = t.readLongLong(), this.xMin = t.readShort(), this.yMin = t.readShort(), this.xMax = t.readShort(), this.yMax = t.readShort(), this.macStyle = t.readShort(), this.lowestRecPPEM = t.readShort(), this.fontDirectionHint = t.readShort(), this.indexToLocFormat = t.readShort(), this.glyphDataFormat = t.readShort() }, e.prototype.encode = function (t) { var e; return (e = new Te).writeInt(this.version), e.writeInt(this.revision), e.writeInt(this.checkSumAdjustment), e.writeInt(this.magicNumber), e.writeShort(this.flags), e.writeShort(this.unitsPerEm), e.writeLongLong(this.created), e.writeLongLong(this.modified), e.writeShort(this.xMin), e.writeShort(this.yMin), e.writeShort(this.xMax), e.writeShort(this.yMax), e.writeShort(this.macStyle), e.writeShort(this.lowestRecPPEM), e.writeShort(this.fontDirectionHint), e.writeShort(t), e.writeShort(this.glyphDataFormat), e.data }, e }(Re = function () { function t(t) { var e; this.file = t, e = this.file.directory.tables[this.tag], this.exists = !!e, e && (this.offset = e.offset, this.length = e.length, this.parse(this.file.contents)) } return t.prototype.parse = function () { }, t.prototype.encode = function () { }, t.prototype.raw = function () { return this.exists ? (this.file.contents.pos = this.offset, this.file.contents.read(this.length)) : null }, t }()), Ve = function () { function t(t, e) { var r, n, i, a, o, s, c, u, l, h, f, d, p, g, m, v, b; switch (this.platformID = t.readUInt16(), this.encodingID = t.readShort(), this.offset = e + t.readInt(), l = t.pos, t.pos = this.offset, this.format = t.readUInt16(), this.length = t.readUInt16(), this.language = t.readUInt16(), this.isUnicode = 3 === this.platformID && 1 === this.encodingID && 4 === this.format || 0 === this.platformID && 4 === this.format, this.codeMap = {}, this.format) { case 0: for (s = 0; s < 256; ++s)this.codeMap[s] = t.readByte(); break; case 4: for (f = t.readUInt16(), h = f / 2, t.pos += 6, i = function () { var e, r; for (r = [], s = e = 0; 0 <= h ? e < h : e > h; s = 0 <= h ? ++e : --e)r.push(t.readUInt16()); return r }(), t.pos += 2, p = function () { var e, r; for (r = [], s = e = 0; 0 <= h ? e < h : e > h; s = 0 <= h ? ++e : --e)r.push(t.readUInt16()); return r }(), c = function () { var e, r; for (r = [], s = e = 0; 0 <= h ? e < h : e > h; s = 0 <= h ? ++e : --e)r.push(t.readUInt16()); return r }(), u = function () { var e, r; for (r = [], s = e = 0; 0 <= h ? e < h : e > h; s = 0 <= h ? ++e : --e)r.push(t.readUInt16()); return r }(), n = (this.length - t.pos + this.offset) / 2, o = function () { var e, r; for (r = [], s = e = 0; 0 <= n ? e < n : e > n; s = 0 <= n ? ++e : --e)r.push(t.readUInt16()); return r }(), s = m = 0, b = i.length; m < b; s = ++m)for (g = i[s], r = v = d = p[s]; d <= g ? v <= g : v >= g; r = d <= g ? ++v : --v)0 === u[s] ? a = r + c[s] : 0 !== (a = o[u[s] / 2 + (r - d) - (h - s)] || 0) && (a += c[s]), this.codeMap[r] = 65535 & a }t.pos = l } return t.encode = function (t, e) { var r, n, i, a, o, s, c, u, l, h, f, d, p, g, m, v, b, y, w, N, L, A, x, S, _, P, k, F, I, C, j, O, B, M, E, q, D, R, T, U, z, H, W, V, G, Y; switch (F = new Te, a = Object.keys(t).sort((function (t, e) { return t - e })), e) { case "macroman": for (p = 0, g = function () { var t = []; for (d = 0; d < 256; ++d)t.push(0); return t }(), v = { 0: 0 }, i = {}, I = 0, B = a.length; I < B; I++)null == v[W = t[n = a[I]]] && (v[W] = ++p), i[n] = { old: t[n], new: v[t[n]] }, g[n] = v[t[n]]; return F.writeUInt16(1), F.writeUInt16(0), F.writeUInt32(12), F.writeUInt16(0), F.writeUInt16(262), F.writeUInt16(0), F.write(g), { charMap: i, subtable: F.data, maxGlyphID: p + 1 }; case "unicode": for (P = [], l = [], b = 0, v = {}, r = {}, m = c = null, C = 0, M = a.length; C < M; C++)null == v[w = t[n = a[C]]] && (v[w] = ++b), r[n] = { old: w, new: v[w] }, o = v[w] - n, null != m && o === c || (m && l.push(m), P.push(n), c = o), m = n; for (m && l.push(m), l.push(65535), P.push(65535), S = 2 * (x = P.length), A = 2 * Math.pow(Math.log(x) / Math.LN2, 2), h = Math.log(A / 2) / Math.LN2, L = 2 * x - A, s = [], N = [], f = [], d = j = 0, E = P.length; j < E; d = ++j) { if (_ = P[d], u = l[d], 65535 === _) { s.push(0), N.push(0); break } if (_ - (k = r[_].new) >= 32768) for (s.push(0), N.push(2 * (f.length + x - d)), n = O = _; _ <= u ? O <= u : O >= u; n = _ <= u ? ++O : --O)f.push(r[n].new); else s.push(k - _), N.push(0) } for (F.writeUInt16(3), F.writeUInt16(1), F.writeUInt32(12), F.writeUInt16(4), F.writeUInt16(16 + 8 * x + 2 * f.length), F.writeUInt16(0), F.writeUInt16(S), F.writeUInt16(A), F.writeUInt16(h), F.writeUInt16(L), z = 0, q = l.length; z < q; z++)n = l[z], F.writeUInt16(n); for (F.writeUInt16(0), H = 0, D = P.length; H < D; H++)n = P[H], F.writeUInt16(n); for (V = 0, R = s.length; V < R; V++)o = s[V], F.writeUInt16(o); for (G = 0, T = N.length; G < T; G++)y = N[G], F.writeUInt16(y); for (Y = 0, U = f.length; Y < U; Y++)p = f[Y], F.writeUInt16(p); return { charMap: r, subtable: F.data, maxGlyphID: b + 1 } } }, t }(), Ge = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "cmap", e.prototype.parse = function (t) { var e, r, n; for (t.pos = this.offset, this.version = t.readUInt16(), n = t.readUInt16(), this.tables = [], this.unicode = null, r = 0; 0 <= n ? r < n : r > n; r = 0 <= n ? ++r : --r)e = new Ve(t, this.offset), this.tables.push(e), e.isUnicode && null == this.unicode && (this.unicode = e); return !0 }, e.encode = function (t, e) { var r, n; return null == e && (e = "macroman"), r = Ve.encode(t, e), (n = new Te).writeUInt16(0), n.writeUInt16(1), r.table = n.data.concat(r.subtable), r }, e }(Re), Ye = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "hhea", e.prototype.parse = function (t) { return t.pos = this.offset, this.version = t.readInt(), this.ascender = t.readShort(), this.decender = t.readShort(), this.lineGap = t.readShort(), this.advanceWidthMax = t.readShort(), this.minLeftSideBearing = t.readShort(), this.minRightSideBearing = t.readShort(), this.xMaxExtent = t.readShort(), this.caretSlopeRise = t.readShort(), this.caretSlopeRun = t.readShort(), this.caretOffset = t.readShort(), t.pos += 8, this.metricDataFormat = t.readShort(), this.numberOfMetrics = t.readUInt16() }, e }(Re), Je = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "OS/2", e.prototype.parse = function (t) { if (t.pos = this.offset, this.version = t.readUInt16(), this.averageCharWidth = t.readShort(), this.weightClass = t.readUInt16(), this.widthClass = t.readUInt16(), this.type = t.readShort(), this.ySubscriptXSize = t.readShort(), this.ySubscriptYSize = t.readShort(), this.ySubscriptXOffset = t.readShort(), this.ySubscriptYOffset = t.readShort(), this.ySuperscriptXSize = t.readShort(), this.ySuperscriptYSize = t.readShort(), this.ySuperscriptXOffset = t.readShort(), this.ySuperscriptYOffset = t.readShort(), this.yStrikeoutSize = t.readShort(), this.yStrikeoutPosition = t.readShort(), this.familyClass = t.readShort(), this.panose = function () { var e, r; for (r = [], e = 0; e < 10; ++e)r.push(t.readByte()); return r }(), this.charRange = function () { var e, r; for (r = [], e = 0; e < 4; ++e)r.push(t.readInt()); return r }(), this.vendorID = t.readString(4), this.selection = t.readShort(), this.firstCharIndex = t.readShort(), this.lastCharIndex = t.readShort(), this.version > 0 && (this.ascent = t.readShort(), this.descent = t.readShort(), this.lineGap = t.readShort(), this.winAscent = t.readShort(), this.winDescent = t.readShort(), this.codePageRange = function () { var e, r; for (r = [], e = 0; e < 2; e = ++e)r.push(t.readInt()); return r }(), this.version > 1)) return this.xHeight = t.readShort(), this.capHeight = t.readShort(), this.defaultChar = t.readShort(), this.breakChar = t.readShort(), this.maxContext = t.readShort() }, e }(Re), Xe = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "post", e.prototype.parse = function (t) { var e, r, n; switch (t.pos = this.offset, this.format = t.readInt(), this.italicAngle = t.readInt(), this.underlinePosition = t.readShort(), this.underlineThickness = t.readShort(), this.isFixedPitch = t.readInt(), this.minMemType42 = t.readInt(), this.maxMemType42 = t.readInt(), this.minMemType1 = t.readInt(), this.maxMemType1 = t.readInt(), this.format) { case 65536: break; case 131072: var i; for (r = t.readUInt16(), this.glyphNameIndex = [], i = 0; 0 <= r ? i < r : i > r; i = 0 <= r ? ++i : --i)this.glyphNameIndex.push(t.readUInt16()); for (this.names = [], n = []; t.pos < this.offset + this.length;)e = t.readByte(), n.push(this.names.push(t.readString(e))); return n; case 151552: return r = t.readUInt16(), this.offsets = t.read(r); case 196608: break; case 262144: return this.map = function () { var e, r, n; for (n = [], i = e = 0, r = this.file.maxp.numGlyphs; 0 <= r ? e < r : e > r; i = 0 <= r ? ++e : --e)n.push(t.readUInt32()); return n }.call(this) } }, e }(Re), Ke = function (t, e) { this.raw = t, this.length = t.length, this.platformID = e.platformID, this.encodingID = e.encodingID, this.languageID = e.languageID }, Ze = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "name", e.prototype.parse = function (t) { var e, r, n, i, a, o, s, c, u, l, h; for (t.pos = this.offset, t.readShort(), e = t.readShort(), o = t.readShort(), r = [], i = 0; 0 <= e ? i < e : i > e; i = 0 <= e ? ++i : --i)r.push({ platformID: t.readShort(), encodingID: t.readShort(), languageID: t.readShort(), nameID: t.readShort(), length: t.readShort(), offset: this.offset + o + t.readShort() }); for (s = {}, i = u = 0, l = r.length; u < l; i = ++u)n = r[i], t.pos = n.offset, c = t.readString(n.length), a = new Ke(c, n), null == s[h = n.nameID] && (s[h] = []), s[n.nameID].push(a); this.strings = s, this.copyright = s[0], this.fontFamily = s[1], this.fontSubfamily = s[2], this.uniqueSubfamily = s[3], this.fontName = s[4], this.version = s[5]; try { this.postscriptName = s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "") } catch (t) { this.postscriptName = s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "") } return this.trademark = s[7], this.manufacturer = s[8], this.designer = s[9], this.description = s[10], this.vendorUrl = s[11], this.designerUrl = s[12], this.license = s[13], this.licenseUrl = s[14], this.preferredFamily = s[15], this.preferredSubfamily = s[17], this.compatibleFull = s[18], this.sampleText = s[19] }, e }(Re), $e = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "maxp", e.prototype.parse = function (t) { return t.pos = this.offset, this.version = t.readInt(), this.numGlyphs = t.readUInt16(), this.maxPoints = t.readUInt16(), this.maxContours = t.readUInt16(), this.maxCompositePoints = t.readUInt16(), this.maxComponentContours = t.readUInt16(), this.maxZones = t.readUInt16(), this.maxTwilightPoints = t.readUInt16(), this.maxStorage = t.readUInt16(), this.maxFunctionDefs = t.readUInt16(), this.maxInstructionDefs = t.readUInt16(), this.maxStackElements = t.readUInt16(), this.maxSizeOfInstructions = t.readUInt16(), this.maxComponentElements = t.readUInt16(), this.maxComponentDepth = t.readUInt16() }, e }(Re), Qe = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "hmtx", e.prototype.parse = function (t) { var e, r, n, i, a, o, s; for (t.pos = this.offset, this.metrics = [], e = 0, o = this.file.hhea.numberOfMetrics; 0 <= o ? e < o : e > o; e = 0 <= o ? ++e : --e)this.metrics.push({ advance: t.readUInt16(), lsb: t.readInt16() }); for (n = this.file.maxp.numGlyphs - this.file.hhea.numberOfMetrics, this.leftSideBearings = function () { var r, i; for (i = [], e = r = 0; 0 <= n ? r < n : r > n; e = 0 <= n ? ++r : --r)i.push(t.readInt16()); return i }(), this.widths = function () { var t, e, r, n; for (n = [], t = 0, e = (r = this.metrics).length; t < e; t++)i = r[t], n.push(i.advance); return n }.call(this), r = this.widths[this.widths.length - 1], s = [], e = a = 0; 0 <= n ? a < n : a > n; e = 0 <= n ? ++a : --a)s.push(this.widths.push(r)); return s }, e.prototype.forGlyph = function (t) { return t in this.metrics ? this.metrics[t] : { advance: this.metrics[this.metrics.length - 1].advance, lsb: this.leftSideBearings[t - this.metrics.length] } }, e }(Re), tr = [].slice, er = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "glyf", e.prototype.parse = function () { return this.cache = {} }, e.prototype.glyphFor = function (t) { var e, r, n, i, a, o, s, c, u, l; return t in this.cache ? this.cache[t] : (i = this.file.loca, e = this.file.contents, r = i.indexOf(t), 0 === (n = i.lengthOf(t)) ? this.cache[t] = null : (e.pos = this.offset + r, a = (o = new Te(e.read(n))).readShort(), c = o.readShort(), l = o.readShort(), s = o.readShort(), u = o.readShort(), this.cache[t] = -1 === a ? new nr(o, c, l, s, u) : new rr(o, a, c, l, s, u), this.cache[t])) }, e.prototype.encode = function (t, e, r) { var n, i, a, o, s; for (a = [], i = [], o = 0, s = e.length; o < s; o++)n = t[e[o]], i.push(a.length), n && (a = a.concat(n.encode(r))); return i.push(a.length), { table: a, offsets: i } }, e }(Re), rr = function () { function t(t, e, r, n, i, a) { this.raw = t, this.numberOfContours = e, this.xMin = r, this.yMin = n, this.xMax = i, this.yMax = a, this.compound = !1 } return t.prototype.encode = function () { return this.raw.data }, t }(), nr = function () { function t(t, e, r, n, i) { var a, o; for (this.raw = t, this.xMin = e, this.yMin = r, this.xMax = n, this.yMax = i, this.compound = !0, this.glyphIDs = [], this.glyphOffsets = [], a = this.raw; o = a.readShort(), this.glyphOffsets.push(a.pos), this.glyphIDs.push(a.readUInt16()), 32 & o;)a.pos += 1 & o ? 4 : 2, 128 & o ? a.pos += 8 : 64 & o ? a.pos += 4 : 8 & o && (a.pos += 2) } return 1, 8, 32, 64, 128, t.prototype.encode = function () { var t, e, r; for (e = new Te(tr.call(this.raw.data)), t = 0, r = this.glyphIDs.length; t < r; ++t)e.pos = this.glyphOffsets[t]; return e.data }, t }(), ir = function (t) { function e() { return e.__super__.constructor.apply(this, arguments) } return He(e, t), e.prototype.tag = "loca", e.prototype.parse = function (t) { var e, r; return t.pos = this.offset, e = this.file.head.indexToLocFormat, this.offsets = 0 === e ? function () { var e, n; for (n = [], r = 0, e = this.length; r < e; r += 2)n.push(2 * t.readUInt16()); return n }.call(this) : function () { var e, n; for (n = [], r = 0, e = this.length; r < e; r += 4)n.push(t.readUInt32()); return n }.call(this) }, e.prototype.indexOf = function (t) { return this.offsets[t] }, e.prototype.lengthOf = function (t) { return this.offsets[t + 1] - this.offsets[t] }, e.prototype.encode = function (t, e) { for (var r = new Uint32Array(this.offsets.length), n = 0, i = 0, a = 0; a < r.length; ++a)if (r[a] = n, i < e.length && e[i] == a) { ++i, r[a] = n; var o = this.offsets[a], s = this.offsets[a + 1] - o; s > 0 && (n += s) } for (var c = new Array(4 * r.length), u = 0; u < r.length; ++u)c[4 * u + 3] = 255 & r[u], c[4 * u + 2] = (65280 & r[u]) >> 8, c[4 * u + 1] = (16711680 & r[u]) >> 16, c[4 * u] = (4278190080 & r[u]) >> 24; return c }, e }(Re), ar = function () { function t(t) { this.font = t, this.subset = {}, this.unicodes = {}, this.next = 33 } return t.prototype.generateCmap = function () { var t, e, r, n, i; for (e in n = this.font.cmap.tables[0].codeMap, t = {}, i = this.subset) r = i[e], t[e] = n[r]; return t }, t.prototype.glyphsFor = function (t) { var e, r, n, i, a, o, s; for (n = {}, a = 0, o = t.length; a < o; a++)n[i = t[a]] = this.font.glyf.glyphFor(i); for (i in e = [], n) (null != (r = n[i]) ? r.compound : void 0) && e.push.apply(e, r.glyphIDs); if (e.length > 0) for (i in s = this.glyphsFor(e)) r = s[i], n[i] = r; return n }, t.prototype.encode = function (t, e) { var r, n, i, a, o, s, c, u, l, h, f, d, p, g, m; for (n in r = Ge.encode(this.generateCmap(), "unicode"), a = this.glyphsFor(t), f = { 0: 0 }, m = r.charMap) f[(s = m[n]).old] = s.new; for (d in h = r.maxGlyphID, a) d in f || (f[d] = h++); return u = function (t) { var e, r; for (e in r = {}, t) r[t[e]] = e; return r }(f), l = Object.keys(u).sort((function (t, e) { return t - e })), p = function () { var t, e, r; for (r = [], t = 0, e = l.length; t < e; t++)o = l[t], r.push(u[o]); return r }(), i = this.font.glyf.encode(a, p, f), c = this.font.loca.encode(i.offsets, p), g = { cmap: this.font.cmap.raw(), glyf: i.table, loca: c, hmtx: this.font.hmtx.raw(), hhea: this.font.hhea.raw(), maxp: this.font.maxp.raw(), post: this.font.post.raw(), name: this.font.name.raw(), head: this.font.head.encode(e) }, this.font.os2.exists && (g["OS/2"] = this.font.os2.raw()), this.font.directory.encode(g) }, t }(); M.API.PDFObject = function () { var t; function e() { } return t = function (t, e) { return (Array(e + 1).join("0") + t).slice(-e) }, e.convert = function (r) { var n, i, a, o; if (Array.isArray(r)) return "[" + function () { var t, i, a; for (a = [], t = 0, i = r.length; t < i; t++)n = r[t], a.push(e.convert(n)); return a }().join(" ") + "]"; if ("string" == typeof r) return "/" + r; if (null != r ? r.isString : void 0) return "(" + r + ")"; if (r instanceof Date) return "(D:" + t(r.getUTCFullYear(), 4) + t(r.getUTCMonth(), 2) + t(r.getUTCDate(), 2) + t(r.getUTCHours(), 2) + t(r.getUTCMinutes(), 2) + t(r.getUTCSeconds(), 2) + "Z)"; if ("[object Object]" === {}.toString.call(r)) { for (i in a = ["<<"], r) o = r[i], a.push("/" + i + " " + e.convert(o)); return a.push(">>"), a.join("\n") } return "" + r }, e }(), t.AcroForm = xt, t.AcroFormAppearance = Lt, t.AcroFormButton = gt, t.AcroFormCheckBox = yt, t.AcroFormChoiceField = ht, t.AcroFormComboBox = dt, t.AcroFormEditBox = pt, t.AcroFormListBox = ft, t.AcroFormPasswordField = Nt, t.AcroFormPushButton = mt, t.AcroFormRadioButton = vt, t.AcroFormTextField = wt, t.GState = C, t.ShadingPattern = O, t.TilingPattern = B, t.default = M, t.jsPDF = M, Object.defineProperty(t, "__esModule", { value: !0 })
}));
//# sourceMappingURL=jspdf.umd.min.js.map
export var d3 = window.d3;
export var jspdf = window.jspdf;
